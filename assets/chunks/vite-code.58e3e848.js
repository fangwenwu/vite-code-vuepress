import{d as pd,s as wu}from"./pinia.24781855.js";import{h as bt,d as qt,g as kt,o as Tt,c as Vt,r as Me,L as Bo,l as K,b as Ee,w as le,J as wr,U as Ho,a0 as pl,ax as Nc,n as Re,M as Oe,k as Pe,H as _t,e as $e,N as Vo,Y as gl,T as gd,a8 as vd,$ as Je,x as ee,j as un,z as md,a6 as jo,a7 as Wo,E as vl,y as ml,R as xu,aE as yd,a1 as Wi,ae as bd,F as nr,t as ku,aF as rl,a4 as qr,O as rr,X as ko,D as Xr,aA as Cu,as as wd,B as xd,a as Gr,aG as kd,az as Cd,a5 as il,p as Sd,m as Md,au as yl}from"./framework.df6491c0.js";var Td=Object.defineProperty,Od=(o,a,s)=>a in o?Td(o,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[a]=s,Ld=(o,a,s)=>(Od(o,typeof a!="symbol"?a+"":a,s),s);function Ad(){const o=Date.now().toString(36),a=Math.random().toString(36).slice(2);return o+a}function Zr(o,a=""){const s=[];return o.forEach(h=>{if(!h.onlyId){const g=Ad();h.onlyId=g,h.pathId=a?`${a}-${h.onlyId}`:h.onlyId}a&&(h.pathId=a?`${a}-${h.onlyId}`:h.onlyId),h.children&&h.children.length&&(h.children=Zr(h.children,h.pathId)),s.push(h)}),s}function Dd(o){const a={"[object String]":"string","[object Number]":"number","[object Boolean]":"boolean","[object Date]":"date","[object Function]":"function","[object Array]":"array","[object Object]":"object","[object Null]":"null","[object Undefined]":"undefined"},s=Object.prototype.toString.call(o);return a[s]}function Ed(o,a,s){let h={string:g=>`"${g}"`,null:g=>`${g}`,undefined:g=>`${g}`,number:g=>`${g}`,boolean:g=>`${g}`,date:g=>`"${g}"`,function:g=>`${g}`,object:g=>{let u=`{ 
`;return s+="	",Object.entries(g).forEach(([p,m])=>{u+=s+p+":"+ol(m,s)+`,
`}),s=s.replace(/\t/,""),u+=s+"}"},array:g=>{let u=`[ 
`;return s+="	",g.forEach(p=>{u+=s+ol(p,s)+`,
`}),s=s.replace(/\t/,""),u+=s+"]"}};return h[o]?h[o](a):`"${a}"`}function ol(o,a=""){const s=Dd(o);return Ed(s,o,a)}function Ic(o,a="object"){return a==="json"?JSON.stringify(o,null,4):ol(o)}const _d=o=>{try{return{code:1,data:new Function(`return ${o}`)(),message:"解析成功"}}catch(a){return console.log(a+"; 请检查【】内的内容是否正确：【"+o+"】"),{code:100,data:null,message:a+"; 请检查【】内的内容是否正确：【"+o+"】"}}};function Nd(o,a="file",s="js"){const h=`${o}`,g=document.createElement("a");g.style.display="none";const u=new Blob([h],{type:"application/javascript"}),p=URL.createObjectURL(u);g.href=p,g.download=`${a}.${s}`,document.body.appendChild(g),g.click(),URL.revokeObjectURL(p),document.body.removeChild(g)}class Id{constructor(a="model_all",s){Ld(this,"store",{});const h=pd(a,{state:()=>({...s,data:{},config:[],attributeFn:{},actionsFn:{},currentView:{},pageName:""}),actions:{get(g){return Fd(this.$state,g)},set(g,u){return jd(this.$state,g,u)}}});this.store=h()}}function Fd(o,a){if(typeof a=="string"){if(a.length===0)return o;let s=o;if(a.indexOf(".")>-1){const h=a.split(".");s=o[h[0]];for(let g=1;g<h.length;g++)if(s[h[g]]!==void 0)s=s[h[g]];else return;return s}return o[a]}}function jd(o,a,s){if(typeof a=="string"){if(a.length===0)return!1;let h=o;if(a.indexOf(".")>-1){const g=a.split(".");h=o[g[0]];const u=g.length-1;for(let p=1;p<u;p++){const m=g[p];h[m]===void 0&&(h[m]={}),h=h[m]}h[g[u]]=s}else o[a]=s;return!0}return!1}class Wd extends Id{constructor(a,s){super(a,{...s,visible:!1,activeName:"data",preView:!1})}}let Ga=null;const Rd=()=>Ga||(Ga=new Wd("configStore").store,Ga),bl=Rd;function Su(o,a={},s={}){if(Object.prototype.toString.call(o)!=="[object Object]")return o;let h=xl(wl(o));for(let g of Object.entries(h)){const u=g[0],p=g[1];if(!["description","desc"].includes(u)){if(u==="isIf"&&!p)return null;if(typeof p=="string"&&p.indexOf("function:")>-1){let m=p.replace(/\s/g,"").split(":")[1].replace(/!/g,"");try{p.indexOf("!")>-1?a[m]&&(h[u]=!a[m](s)):a[m]&&(h[u]=a[m](s))}catch{alert("函数解析失败, 请检查函数格式是否正确！")}if(u==="isIf"&&!h[u])return null;continue}if(typeof p=="string"&&p.indexOf("getValue:")>-1){let m=p.replace(/\s/g,"").split(":")[1],k=m.split(".")[0].replace(/!/g,"");if(p.indexOf("!")>-1?h[u]=!al(s[k],m):h[u]=al(s[k],m),u==="isIf"&&!h[u])return null;continue}if(Object.prototype.toString.call(p)==="[object Object]"){h[u]=Su(p,a,s);continue}if(Object.prototype.toString.call(p)==="[object Array]"&&!["slot","children"].includes(u)){h[u]=Mu(p,a,s);continue}}}return h}function al(o,a){if(Object.prototype.toString.call(o)!=="[object Object]"||!o)return o;if(typeof a=="string"){if(a.length===0)return o;let s=o;if(a.indexOf(".")>-1){const h=a.split(".");for(let g=1;g<h.length;g++)if(s[h[g]]!==void 0)s=s[h[g]];else return;return s}return o}}function Pd(o,a,s){if(Object.prototype.toString.call(o)!=="[object Object]"||!o)return o;if(typeof a=="string"){if(a.length===0)return!1;let h=o;if(a.indexOf(".")>-1){const g=a.split("."),u=g.length-1;for(let p=1;p<u;p++){const m=g[p];h[m]===void 0&&(h[m]={}),h=h[m]}h[g[u]]=s}else o[a]=s;return!0}return!1}function Mu(o,a,s){const h=[];return o.forEach(g=>{let u=Su(g,a,s);u&&h.push(u)}),h}function Tu(o,a,s=!0){if(Object.prototype.toString.call(o)!=="[object Object]"||Object.prototype.toString.call(a)!=="[object Object]")return o;let h=s?xl(wl(o)):o;for(let g of Object.entries(a)){const u=g[0],p=g[1];if(Object.prototype.toString.call(p)==="[object Object]"&&h[u]){h[u]=Tu(h[u],p,s);continue}h[u]=p}return h}const wl=o=>JSON.stringify(o,function(a,s){return s===null?"null":s===void 0?"undefined":s}),xl=o=>JSON.parse(o,function(a,s){if(s==="null")return null;if(s!=="undefined")return s}),Bd=o=>o.replace(/\-(\w)/g,function(a,s){return s.toUpperCase()});function Hd(o){const a={"[object String]":"string","[object Number]":"number","[object Boolean]":"boolean","[object Date]":"date","[object Function]":"function","[object Array]":"array","[object Object]":"object","[object Null]":"null","[object Undefined]":"undefined"},s=Object.prototype.toString.call(o);return a[s]}function Vd(o,a){let s={string:h=>h,null:h=>h,undefined:h=>h,number:h=>h,boolean:h=>h,date:h=>h,function:h=>h.toString(),object:h=>Object.entries(h).map(([g,u])=>{const p={};return p.key=g,p.isOpen=!1,p.value=Qr(u),p}),array:h=>Object.entries(h).map(([g,u])=>{const p={};return p.key=Number(g),p.isOpen=!1,p.value=Qr(u),p})};return s[o]?s[o](a):a}function Qr(o){const a={},s=Hd(o);return a.type=s,a.isAdd=!1,a.onlyId=o==null?void 0:o.onlyId,a.pathId=o==null?void 0:o.pathId,a.value=Vd(s,o),pl(a)}function ll(o){const a=o.type,s=o.value;let h={string:g=>g,null:g=>g,undefined:g=>g,number:g=>g,boolean:g=>g,date:g=>g,function:g=>{try{return new Function(`return ${g}`)()}catch(u){throw alert("函数解析失败, 请检查函数格式是否正确！"),new Error(u+"; 请检查【】内的内容是否正确：【"+g+"】")}},object:g=>{const u={};return g.forEach(p=>{u[p.key]=ll(p.value)}),u},array:g=>{const u=[];return g.forEach(p=>{u[p.key]=ll(p.value)}),u}};return h[a]?h[a](s):s}function Fi(o){const a={};return o.forEach(s=>{a[s.onlyId]={...s},s!=null&&s.children&&(a[s.onlyId].children=Fi(s.children))}),a}function zo(o){const a=[];return Object.values(o).forEach(s=>{const h={...s};s.children&&(h.children=zo(s.children)),a.push(h)}),a}const kl=(o,a)=>{const s=o.__vccOpts||o;for(const[h,g]of a)s[h]=g;return s},zd=["onDrop","onDragstart"],$d=["onClick"],Ud=qt({name:"vBaseIndex"}),Kd=Object.assign(Ud,{props:{isTemplate:{type:Boolean,default:!1},config:{type:Array,default:()=>[]},itemView:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},itemConfig:{type:Object,default:()=>({})},itemScope:{type:Object,default:()=>({})},attributeFn:{type:Object,default:()=>({})},actionsFn:{type:Object,default:()=>({})}},setup(o){const a=o,s=bt({...a.itemView}),h=kt(()=>typeof s.value.isShow>"u"?!0:s.value.isShow),g=(N,H,V)=>{s.value=Mu(N,H,V)[0]};ml(()=>{g([a.itemView],a.attributeFn,{data:a.data,itemConfig:a.itemConfig,scope:a.itemScope})});const u=Sy(a.itemView),p=bt({mapKey:"modelValue",key:"value"}),m=kt({get(){const{key:N,mapKey:H}=p.value;return s.value[H]?al(a.data,s.value[H]):s.value[N]},set(N){p.value=N;const{key:H,mapKey:V,value:U}=N;s.value[V]&&Pd(a.data,s.value[V],U),s.value[H]=U}});function k(N,H){const{initView:V}=N;["methods","communication"].forEach(U=>{if(V[U]){const Q=V[U][H],G=a.actionsFn[Q];G&&typeof G=="function"&&G({options:N,data:a.data,scope:a.itemScope,value:m.value})}})}const w=bl(),x=kt(()=>w.visible&&!w.preView&&a.isTemplate),S=()=>{console.log("onCurrentView",a.itemView),w.set("currentView",a.itemView)},M=N=>{const H=JSON.parse(N.dataTransfer.getData("config")).itemConfig;H!=null&&H.onlyId&&T(H,!0),T(Zr([H],a.itemView.pathId)[0])},T=(N,H=!1)=>{N.updateId=N.updateId+"1";let V=N.pathId.split("-");const U=(J,lt)=>(J[lt].children||(J[lt].children=[]),J[lt].children);let Q=Fi(a.config),G=Q;for(let J=0;J<V.length-1;++J)G=U(G,V[J]);H?delete G[V[V.length-1]]:G[V[V.length-1]]=Zr([N])[0],a.config.length=0,a.config.push(...zo(Q))},D=N=>{N.dataTransfer.setData("config",JSON.stringify({itemConfig:a.itemView}))};return(N,H)=>{var V,U;return Tt(),Vt(nr,null,[K(x)?(Tt(),Vt("div",{key:0,class:Re({"v-component-box":K(x)}),onDragover:H[1]||(H[1]=ko(()=>{},["stop","prevent"])),onDrop:ko(M,["stop","prevent"]),onDragstart:ko(D,["stop"]),draggable:"true"},[K(x)?(Tt(),Vt("div",{key:0,class:"v-current-view-btn",onClick:ko(S,["self"])},"编辑",8,$d)):$e("",!0),K(s)&&K(u)?jo((Tt(),Ee(wr(K(u)),{key:1,modelValue:K(m),"onUpdate:modelValue":H[0]||(H[0]=Q=>qr(m)?m.value=Q:null),id:K(s).id,itemView:K(s),onOnActivate:k},rl({default:le(()=>{var Q;return[(Tt(!0),Vt(nr,null,Xr((Q=K(s).children)==null?void 0:Q.filter(G=>!G.slotName),G=>(Tt(),Ee(In,{key:G.onlyId+G.updateId,itemView:G,data:o.data,itemConfig:o.itemConfig,config:o.config,itemScope:o.itemScope,attributeFn:o.attributeFn,actionsFn:o.actionsFn,isTemplate:o.isTemplate},null,8,["itemView","data","itemConfig","config","itemScope","attributeFn","actionsFn","isTemplate"]))),128))]}),_:2},[Xr((V=K(s).children)==null?void 0:V.filter(Q=>Q.slotName),Q=>({name:Q.slotName,fn:le(G=>[Q.slotName?(Tt(),Ee(In,{key:0,itemView:Q,data:o.data,itemConfig:o.itemConfig,config:o.config,itemScope:G,attributeFn:o.attributeFn,actionsFn:o.actionsFn,isTemplate:o.isTemplate},null,8,["itemView","data","itemConfig","config","itemScope","attributeFn","actionsFn","isTemplate"])):$e("",!0)])}))]),1064,["modelValue","id","itemView"])),[[Wo,K(h)]]):$e("",!0)],42,zd)):$e("",!0),K(s)&&K(u)&&!K(x)?jo((Tt(),Ee(wr(K(u)),{key:1,modelValue:K(m),"onUpdate:modelValue":H[2]||(H[2]=Q=>qr(m)?m.value=Q:null),id:K(s).id,itemView:K(s),onOnActivate:k},rl({default:le(()=>{var Q;return[(Tt(!0),Vt(nr,null,Xr((Q=K(s).children)==null?void 0:Q.filter(G=>!G.slotName),G=>(Tt(),Ee(In,{key:G.onlyId+G.updateId,itemView:G,data:o.data,itemConfig:o.itemConfig,itemScope:o.itemScope,attributeFn:o.attributeFn,actionsFn:o.actionsFn,isTemplate:o.isTemplate},null,8,["itemView","data","itemConfig","itemScope","attributeFn","actionsFn","isTemplate"]))),128))]}),_:2},[Xr((U=K(s).children)==null?void 0:U.filter(Q=>Q.slotName),Q=>({name:Q.slotName,fn:le(G=>[Q.slotName?(Tt(),Ee(In,{key:0,itemView:Q,data:o.data,itemConfig:o.itemConfig,itemScope:G,attributeFn:o.attributeFn,actionsFn:o.actionsFn,isTemplate:o.isTemplate},null,8,["itemView","data","itemConfig","itemScope","attributeFn","actionsFn","isTemplate"])):$e("",!0)])}))]),1064,["modelValue","id","itemView"])),[[Wo,K(h)]]):$e("",!0)],64)}}}),In=kl(Kd,[["__scopeId","data-v-48c45109"]]);In.install=o=>{o.component(In.name,In)};var Xd=Object.defineProperty,Gd=Object.defineProperties,Qd=Object.getOwnPropertyDescriptors,Fc=Object.getOwnPropertySymbols,Yd=Object.prototype.hasOwnProperty,qd=Object.prototype.propertyIsEnumerable,jc=(o,a,s)=>a in o?Xd(o,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[a]=s,Zd=(o,a)=>{for(var s in a||(a={}))Yd.call(a,s)&&jc(o,s,a[s]);if(Fc)for(var s of Fc(a))qd.call(a,s)&&jc(o,s,a[s]);return o},Jd=(o,a)=>Gd(o,Qd(a));function Wc(o,a){var s;const h=vl();return ml(()=>{h.value=o()},Jd(Zd({},a),{flush:(s=a==null?void 0:a.flush)!=null?s:"sync"})),xu(h)}var Rc;const kn=typeof window<"u",tp=o=>typeof o=="string",ep=()=>{};kn&&(Rc=window==null?void 0:window.navigator)!=null&&Rc.userAgent&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Cl(o){return typeof o=="function"?o():K(o)}function np(o){return o}function Sl(o){return Cd()?(Cu(o),!0):!1}function rp(o,a=!0){Je()?un(o):a?o():rr(o)}function Pc(o,a,s={}){const{immediate:h=!0}=s,g=bt(!1);let u=null;function p(){u&&(clearTimeout(u),u=null)}function m(){g.value=!1,p()}function k(...w){p(),g.value=!0,u=setTimeout(()=>{g.value=!1,u=null,o(...w)},Cl(a))}return h&&(g.value=!0,kn&&k()),Sl(m),{isPending:xu(g),start:k,stop:m}}function Ou(o){var a;const s=Cl(o);return(a=s==null?void 0:s.$el)!=null?a:s}const Ml=kn?window:void 0,ip=kn?window.document:void 0;function sl(...o){let a,s,h,g;if(tp(o[0])||Array.isArray(o[0])?([s,h,g]=o,a=Ml):[a,s,h,g]=o,!a)return ep;Array.isArray(s)||(s=[s]),Array.isArray(h)||(h=[h]);const u=[],p=()=>{u.forEach(x=>x()),u.length=0},m=(x,S,M,T)=>(x.addEventListener(S,M,T),()=>x.removeEventListener(S,M,T)),k=ee(()=>[Ou(a),Cl(g)],([x,S])=>{p(),x&&u.push(...s.flatMap(M=>h.map(T=>m(x,M,T,S))))},{immediate:!0,flush:"post"}),w=()=>{k(),p()};return Sl(w),w}function op(o,a=!1){const s=bt(),h=()=>s.value=!!o();return h(),rp(h,a),s}const Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hc="__vueuse_ssr_handlers__";Bc[Hc]=Bc[Hc]||{};function ap({document:o=ip}={}){if(!o)return bt("visible");const a=bt(o.visibilityState);return sl(o,"visibilitychange",()=>{a.value=o.visibilityState}),a}var Vc=Object.getOwnPropertySymbols,lp=Object.prototype.hasOwnProperty,sp=Object.prototype.propertyIsEnumerable,cp=(o,a)=>{var s={};for(var h in o)lp.call(o,h)&&a.indexOf(h)<0&&(s[h]=o[h]);if(o!=null&&Vc)for(var h of Vc(o))a.indexOf(h)<0&&sp.call(o,h)&&(s[h]=o[h]);return s};function Lu(o,a,s={}){const h=s,{window:g=Ml}=h,u=cp(h,["window"]);let p;const m=op(()=>g&&"ResizeObserver"in g),k=()=>{p&&(p.disconnect(),p=void 0)},w=ee(()=>Ou(o),S=>{k(),m.value&&g&&S&&(p=new ResizeObserver(a),p.observe(S,u))},{immediate:!0,flush:"post"}),x=()=>{k(),w()};return Sl(x),{isSupported:m,stop:x}}var zc;(function(o){o.UP="UP",o.RIGHT="RIGHT",o.DOWN="DOWN",o.LEFT="LEFT",o.NONE="NONE"})(zc||(zc={}));var up=Object.defineProperty,$c=Object.getOwnPropertySymbols,fp=Object.prototype.hasOwnProperty,hp=Object.prototype.propertyIsEnumerable,Uc=(o,a,s)=>a in o?up(o,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[a]=s,dp=(o,a)=>{for(var s in a||(a={}))fp.call(a,s)&&Uc(o,s,a[s]);if($c)for(var s of $c(a))hp.call(a,s)&&Uc(o,s,a[s]);return o};const pp={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};dp({linear:np},pp);function gp({window:o=Ml}={}){if(!o)return bt(!1);const a=bt(o.document.hasFocus());return sl(o,"blur",()=>{a.value=!1}),sl(o,"focus",()=>{a.value=!0}),a}const Ii=()=>{},vp=Object.prototype.hasOwnProperty,Kc=(o,a)=>vp.call(o,a),Do=Array.isArray,Au=o=>typeof o=="function",$o=o=>typeof o=="string",mp=o=>typeof o=="symbol",Du=o=>o!==null&&typeof o=="object",Eu=o=>{const a=Object.create(null);return s=>a[s]||(a[s]=o(s))},yp=/-(\w)/g,bp=Eu(o=>o.replace(yp,(a,s)=>s?s.toUpperCase():"")),wp=Eu(o=>o.charAt(0).toUpperCase()+o.slice(1));var xp=typeof global=="object"&&global&&global.Object===Object&&global;const kp=xp;var Cp=typeof self=="object"&&self&&self.Object===Object&&self,Sp=kp||Cp||Function("return this")();const Tl=Sp;var Mp=Tl.Symbol;const Jr=Mp;var _u=Object.prototype,Tp=_u.hasOwnProperty,Op=_u.toString,Ei=Jr?Jr.toStringTag:void 0;function Lp(o){var a=Tp.call(o,Ei),s=o[Ei];try{o[Ei]=void 0;var h=!0}catch{}var g=Op.call(o);return h&&(a?o[Ei]=s:delete o[Ei]),g}var Ap=Object.prototype,Dp=Ap.toString;function Ep(o){return Dp.call(o)}var _p="[object Null]",Np="[object Undefined]",Xc=Jr?Jr.toStringTag:void 0;function Nu(o){return o==null?o===void 0?Np:_p:Xc&&Xc in Object(o)?Lp(o):Ep(o)}function Ip(o){return o!=null&&typeof o=="object"}var Fp="[object Symbol]";function Ol(o){return typeof o=="symbol"||Ip(o)&&Nu(o)==Fp}function jp(o,a){for(var s=-1,h=o==null?0:o.length,g=Array(h);++s<h;)g[s]=a(o[s],s,o);return g}var Wp=Array.isArray;const Ll=Wp;var Rp=1/0,Gc=Jr?Jr.prototype:void 0,Qc=Gc?Gc.toString:void 0;function Iu(o){if(typeof o=="string")return o;if(Ll(o))return jp(o,Iu)+"";if(Ol(o))return Qc?Qc.call(o):"";var a=o+"";return a=="0"&&1/o==-Rp?"-0":a}function Fu(o){var a=typeof o;return o!=null&&(a=="object"||a=="function")}var Pp="[object AsyncFunction]",Bp="[object Function]",Hp="[object GeneratorFunction]",Vp="[object Proxy]";function zp(o){if(!Fu(o))return!1;var a=Nu(o);return a==Bp||a==Hp||a==Pp||a==Vp}var $p=Tl["__core-js_shared__"];const Qa=$p;var Yc=function(){var o=/[^.]+$/.exec(Qa&&Qa.keys&&Qa.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}();function Up(o){return!!Yc&&Yc in o}var Kp=Function.prototype,Xp=Kp.toString;function Gp(o){if(o!=null){try{return Xp.call(o)}catch{}try{return o+""}catch{}}return""}var Qp=/[\\^$.*+?()[\]{}|]/g,Yp=/^\[object .+?Constructor\]$/,qp=Function.prototype,Zp=Object.prototype,Jp=qp.toString,tg=Zp.hasOwnProperty,eg=RegExp("^"+Jp.call(tg).replace(Qp,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ng(o){if(!Fu(o)||Up(o))return!1;var a=zp(o)?eg:Yp;return a.test(Gp(o))}function rg(o,a){return o==null?void 0:o[a]}function ju(o,a){var s=rg(o,a);return ng(s)?s:void 0}function ig(o,a){return o===a||o!==o&&a!==a}var og=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ag=/^\w*$/;function lg(o,a){if(Ll(o))return!1;var s=typeof o;return s=="number"||s=="symbol"||s=="boolean"||o==null||Ol(o)?!0:ag.test(o)||!og.test(o)||a!=null&&o in Object(a)}var sg=ju(Object,"create");const ji=sg;function cg(){this.__data__=ji?ji(null):{},this.size=0}function ug(o){var a=this.has(o)&&delete this.__data__[o];return this.size-=a?1:0,a}var fg="__lodash_hash_undefined__",hg=Object.prototype,dg=hg.hasOwnProperty;function pg(o){var a=this.__data__;if(ji){var s=a[o];return s===fg?void 0:s}return dg.call(a,o)?a[o]:void 0}var gg=Object.prototype,vg=gg.hasOwnProperty;function mg(o){var a=this.__data__;return ji?a[o]!==void 0:vg.call(a,o)}var yg="__lodash_hash_undefined__";function bg(o,a){var s=this.__data__;return this.size+=this.has(o)?0:1,s[o]=ji&&a===void 0?yg:a,this}function kr(o){var a=-1,s=o==null?0:o.length;for(this.clear();++a<s;){var h=o[a];this.set(h[0],h[1])}}kr.prototype.clear=cg;kr.prototype.delete=ug;kr.prototype.get=pg;kr.prototype.has=mg;kr.prototype.set=bg;function wg(){this.__data__=[],this.size=0}function Uo(o,a){for(var s=o.length;s--;)if(ig(o[s][0],a))return s;return-1}var xg=Array.prototype,kg=xg.splice;function Cg(o){var a=this.__data__,s=Uo(a,o);if(s<0)return!1;var h=a.length-1;return s==h?a.pop():kg.call(a,s,1),--this.size,!0}function Sg(o){var a=this.__data__,s=Uo(a,o);return s<0?void 0:a[s][1]}function Mg(o){return Uo(this.__data__,o)>-1}function Tg(o,a){var s=this.__data__,h=Uo(s,o);return h<0?(++this.size,s.push([o,a])):s[h][1]=a,this}function ti(o){var a=-1,s=o==null?0:o.length;for(this.clear();++a<s;){var h=o[a];this.set(h[0],h[1])}}ti.prototype.clear=wg;ti.prototype.delete=Cg;ti.prototype.get=Sg;ti.prototype.has=Mg;ti.prototype.set=Tg;var Og=ju(Tl,"Map");const Lg=Og;function Ag(){this.size=0,this.__data__={hash:new kr,map:new(Lg||ti),string:new kr}}function Dg(o){var a=typeof o;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?o!=="__proto__":o===null}function Ko(o,a){var s=o.__data__;return Dg(a)?s[typeof a=="string"?"string":"hash"]:s.map}function Eg(o){var a=Ko(this,o).delete(o);return this.size-=a?1:0,a}function _g(o){return Ko(this,o).get(o)}function Ng(o){return Ko(this,o).has(o)}function Ig(o,a){var s=Ko(this,o),h=s.size;return s.set(o,a),this.size+=s.size==h?0:1,this}function Cr(o){var a=-1,s=o==null?0:o.length;for(this.clear();++a<s;){var h=o[a];this.set(h[0],h[1])}}Cr.prototype.clear=Ag;Cr.prototype.delete=Eg;Cr.prototype.get=_g;Cr.prototype.has=Ng;Cr.prototype.set=Ig;var Fg="Expected a function";function Al(o,a){if(typeof o!="function"||a!=null&&typeof a!="function")throw new TypeError(Fg);var s=function(){var h=arguments,g=a?a.apply(this,h):h[0],u=s.cache;if(u.has(g))return u.get(g);var p=o.apply(this,h);return s.cache=u.set(g,p)||u,p};return s.cache=new(Al.Cache||Cr),s}Al.Cache=Cr;var jg=500;function Wg(o){var a=Al(o,function(h){return s.size===jg&&s.clear(),h}),s=a.cache;return a}var Rg=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pg=/\\(\\)?/g,Bg=Wg(function(o){var a=[];return o.charCodeAt(0)===46&&a.push(""),o.replace(Rg,function(s,h,g,u){a.push(g?u.replace(Pg,"$1"):h||s)}),a});const Hg=Bg;function Vg(o){return o==null?"":Iu(o)}function zg(o,a){return Ll(o)?o:lg(o,a)?[o]:Hg(Vg(o))}var $g=1/0;function Ug(o){if(typeof o=="string"||Ol(o))return o;var a=o+"";return a=="0"&&1/o==-$g?"-0":a}function Kg(o,a){a=zg(a,o);for(var s=0,h=a.length;o!=null&&s<h;)o=o[Ug(a[s++])];return s&&s==h?o:void 0}function Xg(o,a,s){var h=o==null?void 0:Kg(o,a);return h===void 0?s:h}function Gg(o){for(var a=-1,s=o==null?0:o.length,h={};++a<s;){var g=o[a];h[g[0]]=g[1]}return h}function Qg(o){return o==null}const cl=o=>o===void 0,Yg=o=>typeof o=="boolean",Dl=o=>typeof o=="number",qg=o=>$o(o)?!Number.isNaN(Number(o)):!1,tr=o=>wp(o);class Zg extends Error{constructor(a){super(a),this.name="ElementPlusError"}}function Xo(o,a){throw new Zg(`[${o}] ${a}`)}const Wu=(o="")=>o.split(" ").filter(a=>!!a.trim()),qc=(o,a)=>{if(!o||!a)return!1;if(a.includes(" "))throw new Error("className should not contain space.");return o.classList.contains(a)},Jg=(o,a)=>{!o||!a.trim()||o.classList.add(...Wu(a))},tv=(o,a)=>{!o||!a.trim()||o.classList.remove(...Wu(a))},ev=(o,a)=>{var s;if(!kn||!o||!a)return"";let h=bp(a);h==="float"&&(h="cssFloat");try{const g=o.style[h];if(g)return g;const u=(s=document.defaultView)==null?void 0:s.getComputedStyle(o,"");return u?u[h]:""}catch{return o.style[h]}};function Ro(o,a="px"){if(!o)return"";if(Dl(o)||qg(o))return`${o}${a}`;if($o(o))return o}let Co;const nv=o=>{var a;if(!kn)return 0;if(Co!==void 0)return Co;const s=document.createElement("div");s.className=`${o}-scrollbar__wrap`,s.style.visibility="hidden",s.style.width="100px",s.style.position="absolute",s.style.top="-9999px",document.body.appendChild(s);const h=s.offsetWidth;s.style.overflow="scroll";const g=document.createElement("div");g.style.width="100%",s.appendChild(g);const u=g.offsetWidth;return(a=s.parentNode)==null||a.removeChild(s),Co=h-u,Co};/*! Element Plus Icons Vue v2.1.0 */var Ri=(o,a)=>{let s=o.__vccOpts||o;for(let[h,g]of a)s[h]=g;return s},rv={name:"ArrowLeft"},iv={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ov=Pe("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"},null,-1),av=[ov];function lv(o,a,s,h,g,u){return Tt(),Vt("svg",iv,av)}var sv=Ri(rv,[["render",lv],["__file","arrow-left.vue"]]),cv={name:"ArrowRight"},uv={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},fv=Pe("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),hv=[fv];function dv(o,a,s,h,g,u){return Tt(),Vt("svg",uv,hv)}var pv=Ri(cv,[["render",dv],["__file","arrow-right.vue"]]),gv={name:"Close"},vv={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},mv=Pe("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),yv=[mv];function bv(o,a,s,h,g,u){return Tt(),Vt("svg",vv,yv)}var Ru=Ri(gv,[["render",bv],["__file","close.vue"]]),wv={name:"Loading"},xv={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},kv=Pe("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),Cv=[kv];function Sv(o,a,s,h,g,u){return Tt(),Vt("svg",xv,Cv)}var Mv=Ri(wv,[["render",Sv],["__file","loading.vue"]]),Tv={name:"Plus"},Ov={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Lv=Pe("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1),Av=[Lv];function Dv(o,a,s,h,g,u){return Tt(),Vt("svg",Ov,Av)}var Ev=Ri(Tv,[["render",Dv],["__file","plus.vue"]]);const Pu="__epPropKey",Fn=o=>o,_v=o=>Du(o)&&!!o[Pu],Bu=(o,a)=>{if(!Du(o)||_v(o))return o;const{values:s,required:h,default:g,type:u,validator:p}=o,m={type:u,required:!!h,validator:s||p?k=>{let w=!1,x=[];if(s&&(x=Array.from(s),Kc(o,"default")&&x.push(g),w||(w=x.includes(k))),p&&(w||(w=p(k))),!w&&x.length>0){const S=[...new Set(x)].map(M=>JSON.stringify(M)).join(", ");yd(`Invalid prop: validation failed${a?` for prop "${a}"`:""}. Expected one of [${S}], got value ${JSON.stringify(k)}.`)}return w}:void 0,[Pu]:!0};return Kc(o,"default")&&(m.default=g),m},jn=o=>Gg(Object.entries(o).map(([a,s])=>[a,Bu(s,a)])),ul=Fn([String,Object,Function]),Nv={Close:Ru},Go=(o,a)=>{if(o.install=s=>{for(const h of[o,...Object.values(a??{})])s.component(h.name,h)},a)for(const[s,h]of Object.entries(a))o[s]=h;return o},Hu=o=>(o.install=Ii,o),Iv=(...o)=>a=>{o.forEach(s=>{Au(s)?s(a):s.value=a})},Yr={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},Qo="update:modelValue",Fv=["","default","small","large"];var Eo=(o=>(o[o.TEXT=1]="TEXT",o[o.CLASS=2]="CLASS",o[o.STYLE=4]="STYLE",o[o.PROPS=8]="PROPS",o[o.FULL_PROPS=16]="FULL_PROPS",o[o.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",o[o.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",o[o.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",o[o.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",o[o.NEED_PATCH=512]="NEED_PATCH",o[o.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",o[o.HOISTED=-1]="HOISTED",o[o.BAIL=-2]="BAIL",o))(Eo||{});const _o=o=>{const a=Do(o)?o:[o],s=[];return a.forEach(h=>{var g;Do(h)?s.push(..._o(h)):il(h)&&Do(h.children)?s.push(..._o(h.children)):(s.push(h),il(h)&&(g=h.component)!=null&&g.subTree&&s.push(..._o(h.component.subTree)))}),s},Vu=o=>o,Po=({from:o,replacement:a,scope:s,version:h,ref:g,type:u="API"},p)=>{ee(()=>K(p),m=>{},{immediate:!0})},jv=(o,a,s)=>{let h={offsetX:0,offsetY:0};const g=m=>{const k=m.clientX,w=m.clientY,{offsetX:x,offsetY:S}=h,M=o.value.getBoundingClientRect(),T=M.left,D=M.top,N=M.width,H=M.height,V=document.documentElement.clientWidth,U=document.documentElement.clientHeight,Q=-T+x,G=-D+S,J=V-T-N+x,lt=U-D-H+S,ut=tt=>{const Z=Math.min(Math.max(x+tt.clientX-k,Q),J),rt=Math.min(Math.max(S+tt.clientY-w,G),lt);h={offsetX:Z,offsetY:rt},o.value.style.transform=`translate(${Ro(Z)}, ${Ro(rt)})`},X=()=>{document.removeEventListener("mousemove",ut),document.removeEventListener("mouseup",X)};document.addEventListener("mousemove",ut),document.addEventListener("mouseup",X)},u=()=>{a.value&&o.value&&a.value.addEventListener("mousedown",g)},p=()=>{a.value&&o.value&&a.value.removeEventListener("mousedown",g)};un(()=>{ml(()=>{s.value?u():p()})}),Wi(()=>{p()})};var Wv={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const Rv=o=>(a,s)=>Pv(a,s,K(o)),Pv=(o,a,s)=>Xg(s,o,o).replace(/\{(\w+)\}/g,(h,g)=>{var u;return`${(u=a==null?void 0:a[g])!=null?u:`{${g}}`}`}),Bv=o=>{const a=kt(()=>K(o).name),s=qr(o)?o:bt(o);return{lang:a,locale:s,t:Rv(o)}},Hv=Symbol("localeContextKey"),Vv=o=>{const a=o||Oe(Hv,bt());return Bv(kt(()=>a.value||Wv))};let zv;function $v(o,a=zv){a&&a.active&&a.effects.push(o)}const Uv=o=>{const a=new Set(o);return a.w=0,a.n=0,a},zu=o=>(o.w&ir)>0,$u=o=>(o.n&ir)>0,Kv=({deps:o})=>{if(o.length)for(let a=0;a<o.length;a++)o[a].w|=ir},Xv=o=>{const{deps:a}=o;if(a.length){let s=0;for(let h=0;h<a.length;h++){const g=a[h];zu(g)&&!$u(g)?g.delete(o):a[s++]=g,g.w&=~ir,g.n&=~ir}a.length=s}};let _i=0,ir=1;const fl=30;let xn;class Gv{constructor(a,s=null,h){this.fn=a,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,$v(this,h)}run(){if(!this.active)return this.fn();let a=xn,s=No;for(;a;){if(a===this)return;a=a.parent}try{return this.parent=xn,xn=this,No=!0,ir=1<<++_i,_i<=fl?Kv(this):Zc(this),this.fn()}finally{_i<=fl&&Xv(this),ir=1<<--_i,xn=this.parent,No=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){xn===this?this.deferStop=!0:this.active&&(Zc(this),this.onStop&&this.onStop(),this.active=!1)}}function Zc(o){const{deps:a}=o;if(a.length){for(let s=0;s<a.length;s++)a[s].delete(o);a.length=0}}let No=!0;function Qv(o,a){let s=!1;_i<=fl?$u(o)||(o.n|=ir,s=!zu(o)):s=!o.has(xn),s&&(o.add(xn),xn.deps.push(o))}function Yv(o,a){const s=Do(o)?o:[...o];for(const h of s)h.computed&&Jc(h);for(const h of s)h.computed||Jc(h)}function Jc(o,a){(o!==xn||o.allowRecurse)&&(o.scheduler?o.scheduler():o.run())}new Set(Object.getOwnPropertyNames(Symbol).filter(o=>o!=="arguments"&&o!=="caller").map(o=>Symbol[o]).filter(mp));function Yo(o){const a=o&&o.__v_raw;return a?Yo(a):o}function qv(o){No&&xn&&(o=Yo(o),Qv(o.dep||(o.dep=Uv())))}function Zv(o,a){o=Yo(o);const s=o.dep;s&&Yv(s)}class Jv{constructor(a,s,h,g){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Gv(a,()=>{this._dirty||(this._dirty=!0,Zv(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!g,this.__v_isReadonly=h}get value(){const a=Yo(this);return qv(a),(a._dirty||!a._cacheable)&&(a._dirty=!1,a._value=a.effect.run()),a._value}set value(a){this._setter(a)}}function tm(o,a,s=!1){let h,g;const u=Au(o);return u?(h=o,g=Ii):(h=o.get,g=o.set),new Jv(h,g,u||!g,s)}const Io="el",em="is-",yr=(o,a,s,h,g)=>{let u=`${o}-${a}`;return s&&(u+=`-${s}`),h&&(u+=`__${h}`),g&&(u+=`--${g}`),u},nm=Symbol("namespaceContextKey"),Uu=o=>{const a=o||(Je()?Oe(nm,bt(Io)):bt(Io));return kt(()=>K(a)||Io)},fn=(o,a)=>{const s=Uu(a);return{namespace:s,b:(h="")=>yr(s.value,o,h,"",""),e:h=>h?yr(s.value,o,"",h,""):"",m:h=>h?yr(s.value,o,"","",h):"",be:(h,g)=>h&&g?yr(s.value,o,h,g,""):"",em:(h,g)=>h&&g?yr(s.value,o,"",h,g):"",bm:(h,g)=>h&&g?yr(s.value,o,h,"",g):"",bem:(h,g,u)=>h&&g&&u?yr(s.value,o,h,g,u):"",is:(h,...g)=>{const u=g.length>=1?g[0]:!0;return h&&u?`${em}${h}`:""},cssVar:h=>{const g={};for(const u in h)h[u]&&(g[`--${s.value}-${u}`]=h[u]);return g},cssVarName:h=>`--${s.value}-${h}`,cssVarBlock:h=>{const g={};for(const u in h)h[u]&&(g[`--${s.value}-${o}-${u}`]=h[u]);return g},cssVarBlockName:h=>`--${s.value}-${o}-${h}`}},rm=(o,a={})=>{qr(o)||Xo("[useLockscreen]","You need to pass a ref param to this function");const s=a.ns||fn("popup"),h=tm(()=>s.bm("parent","hidden"));if(!kn||qc(document.body,h.value))return;let g=0,u=!1,p="0";const m=()=>{setTimeout(()=>{tv(document==null?void 0:document.body,h.value),u&&document&&(document.body.style.width=p)},200)};ee(o,k=>{if(!k){m();return}u=!qc(document.body,h.value),u&&(p=document.body.style.width),g=nv(s.namespace.value);const w=document.documentElement.clientHeight<document.body.scrollHeight,x=ev(document.body,"overflowY");g>0&&(w||x==="scroll")&&u&&(document.body.style.width=`calc(100% - ${g}px)`),Jg(document.body,h.value)}),Cu(()=>m())},Ku=o=>{const a=Je();return kt(()=>{var s,h;return(h=(s=a==null?void 0:a.proxy)==null?void 0:s.$props)==null?void 0:h[o]})},Xu=o=>{if(!o)return{onClick:Ii,onMousedown:Ii,onMouseup:Ii};let a=!1,s=!1;return{onClick:h=>{a&&s&&o(h),a=s=!1},onMousedown:h=>{a=h.target===h.currentTarget},onMouseup:h=>{s=h.target===h.currentTarget}}},tu={prefix:Math.floor(Math.random()*1e4),current:0},im=Symbol("elIdInjection"),om=()=>Je()?Oe(im,tu):tu,eu=o=>{const a=om(),s=Uu();return kt(()=>K(o)||`${s.value}-id-${a.prefix}-${a.current++}`)};let Kr=[];const nu=o=>{const a=o;a.key===Yr.esc&&Kr.forEach(s=>s(a))},am=o=>{un(()=>{Kr.length===0&&document.addEventListener("keydown",nu),kn&&Kr.push(o)}),Wi(()=>{Kr=Kr.filter(a=>a!==o),Kr.length===0&&kn&&document.removeEventListener("keydown",nu)})},ru=bt(0),lm=2e3,sm=Symbol("zIndexContextKey"),cm=o=>{const a=o||(Je()?Oe(sm,void 0):void 0),s=kt(()=>{const g=K(a);return Dl(g)?g:lm}),h=kt(()=>s.value+ru.value);return{initialZIndex:s,currentZIndex:h,nextZIndex:()=>(ru.value++,h.value)}},um=(o,a,s)=>_o(o.subTree).filter(h=>{var g;return il(h)&&((g=h.type)==null?void 0:g.name)===a&&!!h.component}).map(h=>h.component.uid).map(h=>s[h]).filter(h=>!!h),fm=(o,a)=>{const s={},h=vl([]);return{children:h,addChild:g=>{s[g.uid]=g,h.value=um(o,a,s)},removeChild:g=>{delete s[g],h.value=h.value.filter(u=>u.uid!==g)}}},hm=Bu({type:String,values:Fv,required:!1}),dm=Symbol("size"),pm=()=>{const o=Oe(dm,{});return kt(()=>K(o.size)||"")},gm=Symbol(),iu=bt();function Gu(o,a=void 0){const s=Je()?Oe(gm,iu):iu;return o?kt(()=>{var h,g;return(g=(h=s.value)==null?void 0:h[o])!=null?g:a}):s}var or=(o,a)=>{const s=o.__vccOpts||o;for(const[h,g]of a)s[h]=g;return s};const vm=jn({size:{type:Fn([Number,String])},color:{type:String}}),mm=qt({name:"ElIcon",inheritAttrs:!1}),ym=qt({...mm,props:vm,setup(o){const a=o,s=fn("icon"),h=kt(()=>{const{size:g,color:u}=a;return!g&&!u?{}:{fontSize:cl(g)?void 0:Ro(g),"--color":u}});return(g,u)=>(Tt(),Vt("i",Bo({class:K(s).b(),style:K(h)},g.$attrs),[Me(g.$slots,"default")],16))}});var bm=or(ym,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const xr=Go(bm),El=Symbol("formContextKey"),Qu=Symbol("formItemContextKey"),wm=(o,a={})=>{const s=bt(void 0),h=a.prop?s:Ku("size"),g=a.global?s:pm(),u=a.form?{size:void 0}:Oe(El,void 0),p=a.formItem?{size:void 0}:Oe(Qu,void 0);return kt(()=>h.value||K(o)||(p==null?void 0:p.size)||(u==null?void 0:u.size)||g.value||"")},Yu=o=>{const a=Ku("disabled"),s=Oe(El,void 0);return kt(()=>a.value||K(o)||(s==null?void 0:s.disabled)||!1)},xm=()=>{const o=Oe(El,void 0),a=Oe(Qu,void 0);return{form:o,formItem:a}},Ya="focus-trap.focus-after-trapped",qa="focus-trap.focus-after-released",km="focus-trap.focusout-prevented",ou={cancelable:!0,bubbles:!1},Cm={cancelable:!0,bubbles:!1},au="focusAfterTrapped",lu="focusAfterReleased",qu=Symbol("elFocusTrap"),_l=bt(),qo=bt(0),Nl=bt(0);let So=0;const Zu=o=>{const a=[],s=document.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,{acceptNode:h=>{const g=h.tagName==="INPUT"&&h.type==="hidden";return h.disabled||h.hidden||g?NodeFilter.FILTER_SKIP:h.tabIndex>=0||h===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)a.push(s.currentNode);return a},su=(o,a)=>{for(const s of o)if(!Sm(s,a))return s},Sm=(o,a)=>{if(getComputedStyle(o).visibility==="hidden")return!0;for(;o;){if(a&&o===a)return!1;if(getComputedStyle(o).display==="none")return!0;o=o.parentElement}return!1},Mm=o=>{const a=Zu(o),s=su(a,o),h=su(a.reverse(),o);return[s,h]},Tm=o=>o instanceof HTMLInputElement&&"select"in o,Jn=(o,a)=>{if(o&&o.focus){const s=document.activeElement;o.focus({preventScroll:!0}),Nl.value=window.performance.now(),o!==s&&Tm(o)&&a&&o.select()}};function cu(o,a){const s=[...o],h=o.indexOf(a);return h!==-1&&s.splice(h,1),s}const Om=()=>{let o=[];return{push:a=>{const s=o[0];s&&a!==s&&s.pause(),o=cu(o,a),o.unshift(a)},remove:a=>{var s,h;o=cu(o,a),(h=(s=o[0])==null?void 0:s.resume)==null||h.call(s)}}},Lm=(o,a=!1)=>{const s=document.activeElement;for(const h of o)if(Jn(h,a),document.activeElement!==s)return},uu=Om(),Am=()=>qo.value>Nl.value,Mo=()=>{_l.value="pointer",qo.value=window.performance.now()},fu=()=>{_l.value="keyboard",qo.value=window.performance.now()},Dm=()=>(un(()=>{So===0&&(document.addEventListener("mousedown",Mo),document.addEventListener("touchstart",Mo),document.addEventListener("keydown",fu)),So++}),Wi(()=>{So--,So<=0&&(document.removeEventListener("mousedown",Mo),document.removeEventListener("touchstart",Mo),document.removeEventListener("keydown",fu))}),{focusReason:_l,lastUserFocusTimestamp:qo,lastAutomatedFocusTimestamp:Nl}),To=o=>new CustomEvent(km,{...Cm,detail:o}),Em=qt({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[au,lu,"focusin","focusout","focusout-prevented","release-requested"],setup(o,{emit:a}){const s=bt();let h,g;const{focusReason:u}=Dm();am(D=>{o.trapped&&!p.paused&&a("release-requested",D)});const p={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},m=D=>{if(!o.loop&&!o.trapped||p.paused)return;const{key:N,altKey:H,ctrlKey:V,metaKey:U,currentTarget:Q,shiftKey:G}=D,{loop:J}=o,lt=N===Yr.tab&&!H&&!V&&!U,ut=document.activeElement;if(lt&&ut){const X=Q,[tt,Z]=Mm(X);if(tt&&Z){if(!G&&ut===Z){const rt=To({focusReason:u.value});a("focusout-prevented",rt),rt.defaultPrevented||(D.preventDefault(),J&&Jn(tt,!0))}else if(G&&[tt,X].includes(ut)){const rt=To({focusReason:u.value});a("focusout-prevented",rt),rt.defaultPrevented||(D.preventDefault(),J&&Jn(Z,!0))}}else if(ut===X){const rt=To({focusReason:u.value});a("focusout-prevented",rt),rt.defaultPrevented||D.preventDefault()}}};Ho(qu,{focusTrapRef:s,onKeydown:m}),ee(()=>o.focusTrapEl,D=>{D&&(s.value=D)},{immediate:!0}),ee([s],([D],[N])=>{D&&(D.addEventListener("keydown",m),D.addEventListener("focusin",x),D.addEventListener("focusout",S)),N&&(N.removeEventListener("keydown",m),N.removeEventListener("focusin",x),N.removeEventListener("focusout",S))});const k=D=>{a(au,D)},w=D=>a(lu,D),x=D=>{const N=K(s);if(!N)return;const H=D.target,V=D.relatedTarget,U=H&&N.contains(H);o.trapped||V&&N.contains(V)||(h=V),U&&a("focusin",D),!p.paused&&o.trapped&&(U?g=H:Jn(g,!0))},S=D=>{const N=K(s);if(!(p.paused||!N))if(o.trapped){const H=D.relatedTarget;!Qg(H)&&!N.contains(H)&&setTimeout(()=>{if(!p.paused&&o.trapped){const V=To({focusReason:u.value});a("focusout-prevented",V),V.defaultPrevented||Jn(g,!0)}},0)}else{const H=D.target;H&&N.contains(H)||a("focusout",D)}};async function M(){await rr();const D=K(s);if(D){uu.push(p);const N=D.contains(document.activeElement)?h:document.activeElement;if(h=N,!D.contains(N)){const H=new Event(Ya,ou);D.addEventListener(Ya,k),D.dispatchEvent(H),H.defaultPrevented||rr(()=>{let V=o.focusStartEl;$o(V)||(Jn(V),document.activeElement!==V&&(V="first")),V==="first"&&Lm(Zu(D),!0),(document.activeElement===N||V==="container")&&Jn(D)})}}}function T(){const D=K(s);if(D){D.removeEventListener(Ya,k);const N=new CustomEvent(qa,{...ou,detail:{focusReason:u.value}});D.addEventListener(qa,w),D.dispatchEvent(N),!N.defaultPrevented&&(u.value=="keyboard"||!Am()||D.contains(document.activeElement))&&Jn(h??document.body),D.removeEventListener(qa,w),uu.remove(p)}}return un(()=>{o.trapped&&M(),ee(()=>o.trapped,D=>{D?M():T()})}),Wi(()=>{o.trapped&&T()}),{onKeydown:m}}});function _m(o,a,s,h,g,u){return Me(o.$slots,"default",{handleKeydown:o.onKeydown})}var Nm=or(Em,[["render",_m],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const Ju=Symbol("buttonGroupContextKey"),Im=(o,a)=>{Po({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},kt(()=>o.type==="text"));const s=Oe(Ju,void 0),h=Gu("button"),{form:g}=xm(),u=wm(kt(()=>s==null?void 0:s.size)),p=Yu(),m=bt(),k=gl(),w=kt(()=>o.type||(s==null?void 0:s.type)||""),x=kt(()=>{var T,D,N;return(N=(D=o.autoInsertSpace)!=null?D:(T=h.value)==null?void 0:T.autoInsertSpace)!=null?N:!1}),S=kt(()=>o.tag==="button"?{ariaDisabled:p.value||o.loading,disabled:p.value||o.loading,autofocus:o.autofocus,type:o.nativeType}:{}),M=kt(()=>{var T;const D=(T=k.default)==null?void 0:T.call(k);if(x.value&&(D==null?void 0:D.length)===1){const N=D[0];if((N==null?void 0:N.type)===bd){const H=N.children;return/^\p{Unified_Ideograph}{2}$/u.test(H.trim())}}return!1});return{_disabled:p,_size:u,_type:w,_ref:m,_props:S,shouldAddSpace:M,handleClick:T=>{o.nativeType==="reset"&&(g==null||g.resetFields()),a("click",T)}}},Fm=["default","primary","success","warning","info","danger","text",""],jm=["button","submit","reset"],hl=jn({size:hm,disabled:Boolean,type:{type:String,values:Fm,default:""},icon:{type:ul},nativeType:{type:String,values:jm,default:"button"},loading:Boolean,loadingIcon:{type:ul,default:()=>Mv},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:Fn([String,Object]),default:"button"}}),Wm={click:o=>o instanceof MouseEvent};function Te(o,a){Rm(o)&&(o="100%");var s=Pm(o);return o=a===360?o:Math.min(a,Math.max(0,parseFloat(o))),s&&(o=parseInt(String(o*a),10)/100),Math.abs(o-a)<1e-6?1:(a===360?o=(o<0?o%a+a:o%a)/parseFloat(String(a)):o=o%a/parseFloat(String(a)),o)}function Oo(o){return Math.min(1,Math.max(0,o))}function Rm(o){return typeof o=="string"&&o.indexOf(".")!==-1&&parseFloat(o)===1}function Pm(o){return typeof o=="string"&&o.indexOf("%")!==-1}function tf(o){return o=parseFloat(o),(isNaN(o)||o<0||o>1)&&(o=1),o}function Lo(o){return o<=1?"".concat(Number(o)*100,"%"):o}function br(o){return o.length===1?"0"+o:String(o)}function Bm(o,a,s){return{r:Te(o,255)*255,g:Te(a,255)*255,b:Te(s,255)*255}}function hu(o,a,s){o=Te(o,255),a=Te(a,255),s=Te(s,255);var h=Math.max(o,a,s),g=Math.min(o,a,s),u=0,p=0,m=(h+g)/2;if(h===g)p=0,u=0;else{var k=h-g;switch(p=m>.5?k/(2-h-g):k/(h+g),h){case o:u=(a-s)/k+(a<s?6:0);break;case a:u=(s-o)/k+2;break;case s:u=(o-a)/k+4;break}u/=6}return{h:u,s:p,l:m}}function Za(o,a,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?o+(a-o)*(6*s):s<1/2?a:s<2/3?o+(a-o)*(2/3-s)*6:o}function Hm(o,a,s){var h,g,u;if(o=Te(o,360),a=Te(a,100),s=Te(s,100),a===0)g=s,u=s,h=s;else{var p=s<.5?s*(1+a):s+a-s*a,m=2*s-p;h=Za(m,p,o+1/3),g=Za(m,p,o),u=Za(m,p,o-1/3)}return{r:h*255,g:g*255,b:u*255}}function du(o,a,s){o=Te(o,255),a=Te(a,255),s=Te(s,255);var h=Math.max(o,a,s),g=Math.min(o,a,s),u=0,p=h,m=h-g,k=h===0?0:m/h;if(h===g)u=0;else{switch(h){case o:u=(a-s)/m+(a<s?6:0);break;case a:u=(s-o)/m+2;break;case s:u=(o-a)/m+4;break}u/=6}return{h:u,s:k,v:p}}function Vm(o,a,s){o=Te(o,360)*6,a=Te(a,100),s=Te(s,100);var h=Math.floor(o),g=o-h,u=s*(1-a),p=s*(1-g*a),m=s*(1-(1-g)*a),k=h%6,w=[s,p,u,u,m,s][k],x=[m,s,s,p,u,u][k],S=[u,u,m,s,s,p][k];return{r:w*255,g:x*255,b:S*255}}function pu(o,a,s,h){var g=[br(Math.round(o).toString(16)),br(Math.round(a).toString(16)),br(Math.round(s).toString(16))];return h&&g[0].startsWith(g[0].charAt(1))&&g[1].startsWith(g[1].charAt(1))&&g[2].startsWith(g[2].charAt(1))?g[0].charAt(0)+g[1].charAt(0)+g[2].charAt(0):g.join("")}function zm(o,a,s,h,g){var u=[br(Math.round(o).toString(16)),br(Math.round(a).toString(16)),br(Math.round(s).toString(16)),br($m(h))];return g&&u[0].startsWith(u[0].charAt(1))&&u[1].startsWith(u[1].charAt(1))&&u[2].startsWith(u[2].charAt(1))&&u[3].startsWith(u[3].charAt(1))?u[0].charAt(0)+u[1].charAt(0)+u[2].charAt(0)+u[3].charAt(0):u.join("")}function $m(o){return Math.round(parseFloat(o)*255).toString(16)}function gu(o){return Ge(o)/255}function Ge(o){return parseInt(o,16)}function Um(o){return{r:o>>16,g:(o&65280)>>8,b:o&255}}var dl={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Km(o){var a={r:0,g:0,b:0},s=1,h=null,g=null,u=null,p=!1,m=!1;return typeof o=="string"&&(o=Qm(o)),typeof o=="object"&&(Nn(o.r)&&Nn(o.g)&&Nn(o.b)?(a=Bm(o.r,o.g,o.b),p=!0,m=String(o.r).substr(-1)==="%"?"prgb":"rgb"):Nn(o.h)&&Nn(o.s)&&Nn(o.v)?(h=Lo(o.s),g=Lo(o.v),a=Vm(o.h,h,g),p=!0,m="hsv"):Nn(o.h)&&Nn(o.s)&&Nn(o.l)&&(h=Lo(o.s),u=Lo(o.l),a=Hm(o.h,h,u),p=!0,m="hsl"),Object.prototype.hasOwnProperty.call(o,"a")&&(s=o.a)),s=tf(s),{ok:p,format:o.format||m,r:Math.min(255,Math.max(a.r,0)),g:Math.min(255,Math.max(a.g,0)),b:Math.min(255,Math.max(a.b,0)),a:s}}var Xm="[-\\+]?\\d+%?",Gm="[-\\+]?\\d*\\.\\d+%?",er="(?:".concat(Gm,")|(?:").concat(Xm,")"),Ja="[\\s|\\(]+(".concat(er,")[,|\\s]+(").concat(er,")[,|\\s]+(").concat(er,")\\s*\\)?"),tl="[\\s|\\(]+(".concat(er,")[,|\\s]+(").concat(er,")[,|\\s]+(").concat(er,")[,|\\s]+(").concat(er,")\\s*\\)?"),cn={CSS_UNIT:new RegExp(er),rgb:new RegExp("rgb"+Ja),rgba:new RegExp("rgba"+tl),hsl:new RegExp("hsl"+Ja),hsla:new RegExp("hsla"+tl),hsv:new RegExp("hsv"+Ja),hsva:new RegExp("hsva"+tl),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Qm(o){if(o=o.trim().toLowerCase(),o.length===0)return!1;var a=!1;if(dl[o])o=dl[o],a=!0;else if(o==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var s=cn.rgb.exec(o);return s?{r:s[1],g:s[2],b:s[3]}:(s=cn.rgba.exec(o),s?{r:s[1],g:s[2],b:s[3],a:s[4]}:(s=cn.hsl.exec(o),s?{h:s[1],s:s[2],l:s[3]}:(s=cn.hsla.exec(o),s?{h:s[1],s:s[2],l:s[3],a:s[4]}:(s=cn.hsv.exec(o),s?{h:s[1],s:s[2],v:s[3]}:(s=cn.hsva.exec(o),s?{h:s[1],s:s[2],v:s[3],a:s[4]}:(s=cn.hex8.exec(o),s?{r:Ge(s[1]),g:Ge(s[2]),b:Ge(s[3]),a:gu(s[4]),format:a?"name":"hex8"}:(s=cn.hex6.exec(o),s?{r:Ge(s[1]),g:Ge(s[2]),b:Ge(s[3]),format:a?"name":"hex"}:(s=cn.hex4.exec(o),s?{r:Ge(s[1]+s[1]),g:Ge(s[2]+s[2]),b:Ge(s[3]+s[3]),a:gu(s[4]+s[4]),format:a?"name":"hex8"}:(s=cn.hex3.exec(o),s?{r:Ge(s[1]+s[1]),g:Ge(s[2]+s[2]),b:Ge(s[3]+s[3]),format:a?"name":"hex"}:!1)))))))))}function Nn(o){return!!cn.CSS_UNIT.exec(String(o))}var Ym=function(){function o(a,s){a===void 0&&(a=""),s===void 0&&(s={});var h;if(a instanceof o)return a;typeof a=="number"&&(a=Um(a)),this.originalInput=a;var g=Km(a);this.originalInput=a,this.r=g.r,this.g=g.g,this.b=g.b,this.a=g.a,this.roundA=Math.round(100*this.a)/100,this.format=(h=s.format)!==null&&h!==void 0?h:g.format,this.gradientType=s.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=g.ok}return o.prototype.isDark=function(){return this.getBrightness()<128},o.prototype.isLight=function(){return!this.isDark()},o.prototype.getBrightness=function(){var a=this.toRgb();return(a.r*299+a.g*587+a.b*114)/1e3},o.prototype.getLuminance=function(){var a=this.toRgb(),s,h,g,u=a.r/255,p=a.g/255,m=a.b/255;return u<=.03928?s=u/12.92:s=Math.pow((u+.055)/1.055,2.4),p<=.03928?h=p/12.92:h=Math.pow((p+.055)/1.055,2.4),m<=.03928?g=m/12.92:g=Math.pow((m+.055)/1.055,2.4),.2126*s+.7152*h+.0722*g},o.prototype.getAlpha=function(){return this.a},o.prototype.setAlpha=function(a){return this.a=tf(a),this.roundA=Math.round(100*this.a)/100,this},o.prototype.isMonochrome=function(){var a=this.toHsl().s;return a===0},o.prototype.toHsv=function(){var a=du(this.r,this.g,this.b);return{h:a.h*360,s:a.s,v:a.v,a:this.a}},o.prototype.toHsvString=function(){var a=du(this.r,this.g,this.b),s=Math.round(a.h*360),h=Math.round(a.s*100),g=Math.round(a.v*100);return this.a===1?"hsv(".concat(s,", ").concat(h,"%, ").concat(g,"%)"):"hsva(".concat(s,", ").concat(h,"%, ").concat(g,"%, ").concat(this.roundA,")")},o.prototype.toHsl=function(){var a=hu(this.r,this.g,this.b);return{h:a.h*360,s:a.s,l:a.l,a:this.a}},o.prototype.toHslString=function(){var a=hu(this.r,this.g,this.b),s=Math.round(a.h*360),h=Math.round(a.s*100),g=Math.round(a.l*100);return this.a===1?"hsl(".concat(s,", ").concat(h,"%, ").concat(g,"%)"):"hsla(".concat(s,", ").concat(h,"%, ").concat(g,"%, ").concat(this.roundA,")")},o.prototype.toHex=function(a){return a===void 0&&(a=!1),pu(this.r,this.g,this.b,a)},o.prototype.toHexString=function(a){return a===void 0&&(a=!1),"#"+this.toHex(a)},o.prototype.toHex8=function(a){return a===void 0&&(a=!1),zm(this.r,this.g,this.b,this.a,a)},o.prototype.toHex8String=function(a){return a===void 0&&(a=!1),"#"+this.toHex8(a)},o.prototype.toHexShortString=function(a){return a===void 0&&(a=!1),this.a===1?this.toHexString(a):this.toHex8String(a)},o.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},o.prototype.toRgbString=function(){var a=Math.round(this.r),s=Math.round(this.g),h=Math.round(this.b);return this.a===1?"rgb(".concat(a,", ").concat(s,", ").concat(h,")"):"rgba(".concat(a,", ").concat(s,", ").concat(h,", ").concat(this.roundA,")")},o.prototype.toPercentageRgb=function(){var a=function(s){return"".concat(Math.round(Te(s,255)*100),"%")};return{r:a(this.r),g:a(this.g),b:a(this.b),a:this.a}},o.prototype.toPercentageRgbString=function(){var a=function(s){return Math.round(Te(s,255)*100)};return this.a===1?"rgb(".concat(a(this.r),"%, ").concat(a(this.g),"%, ").concat(a(this.b),"%)"):"rgba(".concat(a(this.r),"%, ").concat(a(this.g),"%, ").concat(a(this.b),"%, ").concat(this.roundA,")")},o.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var a="#"+pu(this.r,this.g,this.b,!1),s=0,h=Object.entries(dl);s<h.length;s++){var g=h[s],u=g[0],p=g[1];if(a===p)return u}return!1},o.prototype.toString=function(a){var s=!!a;a=a??this.format;var h=!1,g=this.a<1&&this.a>=0,u=!s&&g&&(a.startsWith("hex")||a==="name");return u?a==="name"&&this.a===0?this.toName():this.toRgbString():(a==="rgb"&&(h=this.toRgbString()),a==="prgb"&&(h=this.toPercentageRgbString()),(a==="hex"||a==="hex6")&&(h=this.toHexString()),a==="hex3"&&(h=this.toHexString(!0)),a==="hex4"&&(h=this.toHex8String(!0)),a==="hex8"&&(h=this.toHex8String()),a==="name"&&(h=this.toName()),a==="hsl"&&(h=this.toHslString()),a==="hsv"&&(h=this.toHsvString()),h||this.toHexString())},o.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},o.prototype.clone=function(){return new o(this.toString())},o.prototype.lighten=function(a){a===void 0&&(a=10);var s=this.toHsl();return s.l+=a/100,s.l=Oo(s.l),new o(s)},o.prototype.brighten=function(a){a===void 0&&(a=10);var s=this.toRgb();return s.r=Math.max(0,Math.min(255,s.r-Math.round(255*-(a/100)))),s.g=Math.max(0,Math.min(255,s.g-Math.round(255*-(a/100)))),s.b=Math.max(0,Math.min(255,s.b-Math.round(255*-(a/100)))),new o(s)},o.prototype.darken=function(a){a===void 0&&(a=10);var s=this.toHsl();return s.l-=a/100,s.l=Oo(s.l),new o(s)},o.prototype.tint=function(a){return a===void 0&&(a=10),this.mix("white",a)},o.prototype.shade=function(a){return a===void 0&&(a=10),this.mix("black",a)},o.prototype.desaturate=function(a){a===void 0&&(a=10);var s=this.toHsl();return s.s-=a/100,s.s=Oo(s.s),new o(s)},o.prototype.saturate=function(a){a===void 0&&(a=10);var s=this.toHsl();return s.s+=a/100,s.s=Oo(s.s),new o(s)},o.prototype.greyscale=function(){return this.desaturate(100)},o.prototype.spin=function(a){var s=this.toHsl(),h=(s.h+a)%360;return s.h=h<0?360+h:h,new o(s)},o.prototype.mix=function(a,s){s===void 0&&(s=50);var h=this.toRgb(),g=new o(a).toRgb(),u=s/100,p={r:(g.r-h.r)*u+h.r,g:(g.g-h.g)*u+h.g,b:(g.b-h.b)*u+h.b,a:(g.a-h.a)*u+h.a};return new o(p)},o.prototype.analogous=function(a,s){a===void 0&&(a=6),s===void 0&&(s=30);var h=this.toHsl(),g=360/s,u=[this];for(h.h=(h.h-(g*a>>1)+720)%360;--a;)h.h=(h.h+g)%360,u.push(new o(h));return u},o.prototype.complement=function(){var a=this.toHsl();return a.h=(a.h+180)%360,new o(a)},o.prototype.monochromatic=function(a){a===void 0&&(a=6);for(var s=this.toHsv(),h=s.h,g=s.s,u=s.v,p=[],m=1/a;a--;)p.push(new o({h,s:g,v:u})),u=(u+m)%1;return p},o.prototype.splitcomplement=function(){var a=this.toHsl(),s=a.h;return[this,new o({h:(s+72)%360,s:a.s,l:a.l}),new o({h:(s+216)%360,s:a.s,l:a.l})]},o.prototype.onBackground=function(a){var s=this.toRgb(),h=new o(a).toRgb(),g=s.a+h.a*(1-s.a);return new o({r:(s.r*s.a+h.r*h.a*(1-s.a))/g,g:(s.g*s.a+h.g*h.a*(1-s.a))/g,b:(s.b*s.a+h.b*h.a*(1-s.a))/g,a:g})},o.prototype.triad=function(){return this.polyad(3)},o.prototype.tetrad=function(){return this.polyad(4)},o.prototype.polyad=function(a){for(var s=this.toHsl(),h=s.h,g=[this],u=360/a,p=1;p<a;p++)g.push(new o({h:(h+p*u)%360,s:s.s,l:s.l}));return g},o.prototype.equals=function(a){return this.toRgbString()===new o(a).toRgbString()},o}();function Zn(o,a=20){return o.mix("#141414",a).toString()}function qm(o){const a=Yu(),s=fn("button");return kt(()=>{let h={};const g=o.color;if(g){const u=new Ym(g),p=o.dark?u.tint(20).toString():Zn(u,20);if(o.plain)h=s.cssVarBlock({"bg-color":o.dark?Zn(u,90):u.tint(90).toString(),"text-color":g,"border-color":o.dark?Zn(u,50):u.tint(50).toString(),"hover-text-color":`var(${s.cssVarName("color-white")})`,"hover-bg-color":g,"hover-border-color":g,"active-bg-color":p,"active-text-color":`var(${s.cssVarName("color-white")})`,"active-border-color":p}),a.value&&(h[s.cssVarBlockName("disabled-bg-color")]=o.dark?Zn(u,90):u.tint(90).toString(),h[s.cssVarBlockName("disabled-text-color")]=o.dark?Zn(u,50):u.tint(50).toString(),h[s.cssVarBlockName("disabled-border-color")]=o.dark?Zn(u,80):u.tint(80).toString());else{const m=o.dark?Zn(u,30):u.tint(30).toString(),k=u.isDark()?`var(${s.cssVarName("color-white")})`:`var(${s.cssVarName("color-black")})`;if(h=s.cssVarBlock({"bg-color":g,"text-color":k,"border-color":g,"hover-bg-color":m,"hover-text-color":k,"hover-border-color":m,"active-bg-color":p,"active-border-color":p}),a.value){const w=o.dark?Zn(u,50):u.tint(50).toString();h[s.cssVarBlockName("disabled-bg-color")]=w,h[s.cssVarBlockName("disabled-text-color")]=o.dark?"rgba(255, 255, 255, 0.5)":`var(${s.cssVarName("color-white")})`,h[s.cssVarBlockName("disabled-border-color")]=w}}}return h})}const Zm=qt({name:"ElButton"}),Jm=qt({...Zm,props:hl,emits:Wm,setup(o,{expose:a,emit:s}){const h=o,g=qm(h),u=fn("button"),{_ref:p,_size:m,_type:k,_disabled:w,_props:x,shouldAddSpace:S,handleClick:M}=Im(h,s);return a({ref:p,size:m,type:k,disabled:w,shouldAddSpace:S}),(T,D)=>(Tt(),Ee(wr(T.tag),Bo({ref_key:"_ref",ref:p},K(x),{class:[K(u).b(),K(u).m(K(k)),K(u).m(K(m)),K(u).is("disabled",K(w)),K(u).is("loading",T.loading),K(u).is("plain",T.plain),K(u).is("round",T.round),K(u).is("circle",T.circle),K(u).is("text",T.text),K(u).is("link",T.link),K(u).is("has-bg",T.bg)],style:K(g),onClick:K(M)}),{default:le(()=>[T.loading?(Tt(),Vt(nr,{key:0},[T.$slots.loading?Me(T.$slots,"loading",{key:0}):(Tt(),Ee(K(xr),{key:1,class:Re(K(u).is("loading"))},{default:le(()=>[(Tt(),Ee(wr(T.loadingIcon)))]),_:1},8,["class"]))],64)):T.icon||T.$slots.icon?(Tt(),Ee(K(xr),{key:1},{default:le(()=>[T.icon?(Tt(),Ee(wr(T.icon),{key:0})):Me(T.$slots,"icon",{key:1})]),_:3})):$e("v-if",!0),T.$slots.default?(Tt(),Vt("span",{key:2,class:Re({[K(u).em("text","expand")]:K(S)})},[Me(T.$slots,"default")],2)):$e("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var t0=or(Jm,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const e0={size:hl.size,type:hl.type},n0=qt({name:"ElButtonGroup"}),r0=qt({...n0,props:e0,setup(o){const a=o;Ho(Ju,pl({size:Nc(a,"size"),type:Nc(a,"type")}));const s=fn("button");return(h,g)=>(Tt(),Vt("div",{class:Re(`${K(s).b("group")}`)},[Me(h.$slots,"default")],2))}});var ef=or(r0,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const nf=Go(t0,{ButtonGroup:ef});Hu(ef);var i0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rf(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}const o0=jn({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:Fn([String,Array,Object])},zIndex:{type:Fn([String,Number])}}),a0={click:o=>o instanceof MouseEvent},l0="overlay";var s0=qt({name:"ElOverlay",props:o0,emits:a0,setup(o,{slots:a,emit:s}){const h=fn(l0),g=k=>{s("click",k)},{onClick:u,onMousedown:p,onMouseup:m}=Xu(o.customMaskEvent?void 0:g);return()=>o.mask?_t("div",{class:[h.b(),o.overlayClass],style:{zIndex:o.zIndex},onClick:u,onMousedown:p,onMouseup:m},[Me(a,"default")],Eo.STYLE|Eo.CLASS|Eo.PROPS,["onClick","onMouseup","onMousedown"]):wd("div",{class:o.overlayClass,style:{zIndex:o.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Me(a,"default")])}});const c0=s0,of=Symbol("dialogInjectionKey"),af=jn({center:Boolean,alignCenter:Boolean,closeIcon:{type:ul},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),u0={close:()=>!0},f0=["aria-level"],h0=["aria-label"],d0=["id"],p0=qt({name:"ElDialogContent"}),g0=qt({...p0,props:af,emits:u0,setup(o){const a=o,{t:s}=Vv(),{Close:h}=Nv,{dialogRef:g,headerRef:u,bodyId:p,ns:m,style:k}=Oe(of),{focusTrapRef:w}=Oe(qu),x=kt(()=>[m.b(),m.is("fullscreen",a.fullscreen),m.is("draggable",a.draggable),m.is("align-center",a.alignCenter),{[m.m("center")]:a.center},a.customClass]),S=Iv(w,g),M=kt(()=>a.draggable);return jv(g,u,M),(T,D)=>(Tt(),Vt("div",{ref:K(S),class:Re(K(x)),style:Vo(K(k)),tabindex:"-1"},[Pe("header",{ref_key:"headerRef",ref:u,class:Re(K(m).e("header"))},[Me(T.$slots,"header",{},()=>[Pe("span",{role:"heading","aria-level":T.ariaLevel,class:Re(K(m).e("title"))},ku(T.title),11,f0)]),T.showClose?(Tt(),Vt("button",{key:0,"aria-label":K(s)("el.dialog.close"),class:Re(K(m).e("headerbtn")),type:"button",onClick:D[0]||(D[0]=N=>T.$emit("close"))},[_t(K(xr),{class:Re(K(m).e("close"))},{default:le(()=>[(Tt(),Ee(wr(T.closeIcon||K(h))))]),_:1},8,["class"])],10,h0)):$e("v-if",!0)],2),Pe("div",{id:K(p),class:Re(K(m).e("body"))},[Me(T.$slots,"default")],10,d0),T.$slots.footer?(Tt(),Vt("footer",{key:0,class:Re(K(m).e("footer"))},[Me(T.$slots,"footer")],2)):$e("v-if",!0)],6))}});var v0=or(g0,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const m0=jn({...af,appendToBody:Boolean,beforeClose:{type:Fn(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),y0={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Qo]:o=>Yg(o),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},b0=(o,a)=>{const s=Je().emit,{nextZIndex:h}=cm();let g="";const u=eu(),p=eu(),m=bt(!1),k=bt(!1),w=bt(!1),x=bt(o.zIndex||h());let S,M;const T=Gu("namespace",Io),D=kt(()=>{const B={},at=`--${T.value}-dialog`;return o.fullscreen||(o.top&&(B[`${at}-margin-top`]=o.top),o.width&&(B[`${at}-width`]=Ro(o.width))),B}),N=kt(()=>o.alignCenter?{display:"flex"}:{});function H(){s("opened")}function V(){s("closed"),s(Qo,!1),o.destroyOnClose&&(w.value=!1)}function U(){s("close")}function Q(){M==null||M(),S==null||S(),o.openDelay&&o.openDelay>0?{stop:S}=Pc(()=>ut(),o.openDelay):ut()}function G(){S==null||S(),M==null||M(),o.closeDelay&&o.closeDelay>0?{stop:M}=Pc(()=>X(),o.closeDelay):X()}function J(){function B(at){at||(k.value=!0,m.value=!1)}o.beforeClose?o.beforeClose(B):G()}function lt(){o.closeOnClickModal&&J()}function ut(){kn&&(m.value=!0)}function X(){m.value=!1}function tt(){s("openAutoFocus")}function Z(){s("closeAutoFocus")}function rt(B){var at;((at=B.detail)==null?void 0:at.focusReason)==="pointer"&&B.preventDefault()}o.lockScroll&&rm(m);function dt(){o.closeOnPressEscape&&J()}return ee(()=>o.modelValue,B=>{B?(k.value=!1,Q(),w.value=!0,x.value=o.zIndex?x.value++:h(),rr(()=>{s("open"),a.value&&(a.value.scrollTop=0)})):m.value&&G()}),ee(()=>o.fullscreen,B=>{a.value&&(B?(g=a.value.style.transform,a.value.style.transform=""):a.value.style.transform=g)}),un(()=>{o.modelValue&&(m.value=!0,w.value=!0,Q())}),{afterEnter:H,afterLeave:V,beforeLeave:U,handleClose:J,onModalClick:lt,close:G,doClose:X,onOpenAutoFocus:tt,onCloseAutoFocus:Z,onCloseRequested:dt,onFocusoutPrevented:rt,titleId:u,bodyId:p,closed:k,style:D,overlayDialogStyle:N,rendered:w,visible:m,zIndex:x}},w0=["aria-label","aria-labelledby","aria-describedby"],x0=qt({name:"ElDialog",inheritAttrs:!1}),k0=qt({...x0,props:m0,emits:y0,setup(o,{expose:a}){const s=o,h=gl();Po({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},kt(()=>!!h.title)),Po({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},kt(()=>!!s.customClass));const g=fn("dialog"),u=bt(),p=bt(),m=bt(),{visible:k,titleId:w,bodyId:x,style:S,overlayDialogStyle:M,rendered:T,zIndex:D,afterEnter:N,afterLeave:H,beforeLeave:V,handleClose:U,onModalClick:Q,onOpenAutoFocus:G,onCloseAutoFocus:J,onCloseRequested:lt,onFocusoutPrevented:ut}=b0(s,u);Ho(of,{dialogRef:u,headerRef:p,bodyId:x,ns:g,rendered:T,style:S});const X=Xu(Q),tt=kt(()=>s.draggable&&!s.fullscreen);return a({visible:k,dialogContentRef:m}),(Z,rt)=>(Tt(),Ee(vd,{to:"body",disabled:!Z.appendToBody},[_t(gd,{name:"dialog-fade",onAfterEnter:K(N),onAfterLeave:K(H),onBeforeLeave:K(V),persisted:""},{default:le(()=>[jo(_t(K(c0),{"custom-mask-event":"",mask:Z.modal,"overlay-class":Z.modalClass,"z-index":K(D)},{default:le(()=>[Pe("div",{role:"dialog","aria-modal":"true","aria-label":Z.title||void 0,"aria-labelledby":Z.title?void 0:K(w),"aria-describedby":K(x),class:Re(`${K(g).namespace.value}-overlay-dialog`),style:Vo(K(M)),onClick:rt[0]||(rt[0]=(...dt)=>K(X).onClick&&K(X).onClick(...dt)),onMousedown:rt[1]||(rt[1]=(...dt)=>K(X).onMousedown&&K(X).onMousedown(...dt)),onMouseup:rt[2]||(rt[2]=(...dt)=>K(X).onMouseup&&K(X).onMouseup(...dt))},[_t(K(Nm),{loop:"",trapped:K(k),"focus-start-el":"container",onFocusAfterTrapped:K(G),onFocusAfterReleased:K(J),onFocusoutPrevented:K(ut),onReleaseRequested:K(lt)},{default:le(()=>[K(T)?(Tt(),Ee(v0,Bo({key:0,ref_key:"dialogContentRef",ref:m},Z.$attrs,{"custom-class":Z.customClass,center:Z.center,"align-center":Z.alignCenter,"close-icon":Z.closeIcon,draggable:K(tt),fullscreen:Z.fullscreen,"show-close":Z.showClose,title:Z.title,"aria-level":Z.headerAriaLevel,onClose:K(U)}),rl({header:le(()=>[Z.$slots.title?Me(Z.$slots,"title",{key:1}):Me(Z.$slots,"header",{key:0,close:K(U),titleId:K(w),titleClass:K(g).e("title")})]),default:le(()=>[Me(Z.$slots,"default")]),_:2},[Z.$slots.footer?{name:"footer",fn:le(()=>[Me(Z.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):$e("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,w0)]),_:3},8,["mask","overlay-class","z-index"]),[[Wo,K(k)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var C0=or(k0,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const S0=Go(C0),Zo=Symbol("tabsRootContextKey"),M0=jn({tabs:{type:Fn(Array),default:()=>Vu([])}}),lf="ElTabBar",T0=qt({name:lf}),O0=qt({...T0,props:M0,setup(o,{expose:a}){const s=o,h=Je(),g=Oe(Zo);g||Xo(lf,"<el-tabs><el-tab-bar /></el-tabs>");const u=fn("tabs"),p=bt(),m=bt(),k=()=>{let x=0,S=0;const M=["top","bottom"].includes(g.props.tabPosition)?"width":"height",T=M==="width"?"x":"y",D=T==="x"?"left":"top";return s.tabs.every(N=>{var H,V;const U=(V=(H=h.parent)==null?void 0:H.refs)==null?void 0:V[`tab-${N.uid}`];if(!U)return!1;if(!N.active)return!0;x=U[`offset${tr(D)}`],S=U[`client${tr(M)}`];const Q=window.getComputedStyle(U);return M==="width"&&(s.tabs.length>1&&(S-=Number.parseFloat(Q.paddingLeft)+Number.parseFloat(Q.paddingRight)),x+=Number.parseFloat(Q.paddingLeft)),!1}),{[M]:`${S}px`,transform:`translate${tr(T)}(${x}px)`}},w=()=>m.value=k();return ee(()=>s.tabs,async()=>{await rr(),w()},{immediate:!0}),Lu(p,()=>w()),a({ref:p,update:w}),(x,S)=>(Tt(),Vt("div",{ref_key:"barRef",ref:p,class:Re([K(u).e("active-bar"),K(u).is(K(g).props.tabPosition)]),style:Vo(m.value)},null,6))}});var L0=or(O0,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const A0=jn({panes:{type:Fn(Array),default:()=>Vu([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),D0={tabClick:(o,a,s)=>s instanceof Event,tabRemove:(o,a)=>a instanceof Event},vu="ElTabNav",E0=qt({name:vu,props:A0,emits:D0,setup(o,{expose:a,emit:s}){const h=Je(),g=Oe(Zo);g||Xo(vu,"<el-tabs><tab-nav /></el-tabs>");const u=fn("tabs"),p=ap(),m=gp(),k=bt(),w=bt(),x=bt(),S=bt(),M=bt(!1),T=bt(0),D=bt(!1),N=bt(!0),H=kt(()=>["top","bottom"].includes(g.props.tabPosition)?"width":"height"),V=kt(()=>({transform:`translate${H.value==="width"?"X":"Y"}(-${T.value}px)`})),U=()=>{if(!k.value)return;const tt=k.value[`offset${tr(H.value)}`],Z=T.value;if(!Z)return;const rt=Z>tt?Z-tt:0;T.value=rt},Q=()=>{if(!k.value||!w.value)return;const tt=w.value[`offset${tr(H.value)}`],Z=k.value[`offset${tr(H.value)}`],rt=T.value;if(tt-rt<=Z)return;const dt=tt-rt>Z*2?rt+Z:tt-Z;T.value=dt},G=async()=>{const tt=w.value;if(!M.value||!x.value||!k.value||!tt)return;await rr();const Z=x.value.querySelector(".is-active");if(!Z)return;const rt=k.value,dt=["top","bottom"].includes(g.props.tabPosition),B=Z.getBoundingClientRect(),at=rt.getBoundingClientRect(),E=dt?tt.offsetWidth-at.width:tt.offsetHeight-at.height,Kt=T.value;let Ft=Kt;dt?(B.left<at.left&&(Ft=Kt-(at.left-B.left)),B.right>at.right&&(Ft=Kt+B.right-at.right)):(B.top<at.top&&(Ft=Kt-(at.top-B.top)),B.bottom>at.bottom&&(Ft=Kt+(B.bottom-at.bottom))),Ft=Math.max(Ft,0),T.value=Math.min(Ft,E)},J=()=>{var tt;if(!w.value||!k.value)return;o.stretch&&((tt=S.value)==null||tt.update());const Z=w.value[`offset${tr(H.value)}`],rt=k.value[`offset${tr(H.value)}`],dt=T.value;rt<Z?(M.value=M.value||{},M.value.prev=dt,M.value.next=dt+rt<Z,Z-dt<rt&&(T.value=Z-rt)):(M.value=!1,dt>0&&(T.value=0))},lt=tt=>{const Z=tt.code,{up:rt,down:dt,left:B,right:at}=Yr;if(![rt,dt,B,at].includes(Z))return;const E=Array.from(tt.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),Kt=E.indexOf(tt.target);let Ft;Z===B||Z===rt?Kt===0?Ft=E.length-1:Ft=Kt-1:Kt<E.length-1?Ft=Kt+1:Ft=0,E[Ft].focus({preventScroll:!0}),E[Ft].click(),ut()},ut=()=>{N.value&&(D.value=!0)},X=()=>D.value=!1;return ee(p,tt=>{tt==="hidden"?N.value=!1:tt==="visible"&&setTimeout(()=>N.value=!0,50)}),ee(m,tt=>{tt?setTimeout(()=>N.value=!0,50):N.value=!1}),Lu(x,J),un(()=>setTimeout(()=>G(),0)),xd(()=>J()),a({scrollToActiveTab:G,removeFocus:X}),ee(()=>o.panes,()=>h.update(),{flush:"post",deep:!0}),()=>{const tt=M.value?[_t("span",{class:[u.e("nav-prev"),u.is("disabled",!M.value.prev)],onClick:U},[_t(xr,null,{default:()=>[_t(sv,null,null)]})]),_t("span",{class:[u.e("nav-next"),u.is("disabled",!M.value.next)],onClick:Q},[_t(xr,null,{default:()=>[_t(pv,null,null)]})])]:null,Z=o.panes.map((rt,dt)=>{var B,at,E,Kt;const Ft=rt.uid,xe=rt.props.disabled,Zt=(at=(B=rt.props.name)!=null?B:rt.index)!=null?at:`${dt}`,pe=!xe&&(rt.isClosable||o.editable);rt.index=`${dt}`;const Ue=pe?_t(xr,{class:"is-icon-close",onClick:ge=>s("tabRemove",rt,ge)},{default:()=>[_t(Ru,null,null)]}):null,tn=((Kt=(E=rt.slots).label)==null?void 0:Kt.call(E))||rt.props.label,Jt=!xe&&rt.active?0:-1;return _t("div",{ref:`tab-${Ft}`,class:[u.e("item"),u.is(g.props.tabPosition),u.is("active",rt.active),u.is("disabled",xe),u.is("closable",pe),u.is("focus",D.value)],id:`tab-${Zt}`,key:`tab-${Ft}`,"aria-controls":`pane-${Zt}`,role:"tab","aria-selected":rt.active,tabindex:Jt,onFocus:()=>ut(),onBlur:()=>X(),onClick:ge=>{X(),s("tabClick",rt,Zt,ge)},onKeydown:ge=>{pe&&(ge.code===Yr.delete||ge.code===Yr.backspace)&&s("tabRemove",rt,ge)}},[tn,Ue])});return _t("div",{ref:x,class:[u.e("nav-wrap"),u.is("scrollable",!!M.value),u.is(g.props.tabPosition)]},[tt,_t("div",{class:u.e("nav-scroll"),ref:k},[_t("div",{class:[u.e("nav"),u.is(g.props.tabPosition),u.is("stretch",o.stretch&&["top","bottom"].includes(g.props.tabPosition))],ref:w,style:V.value,role:"tablist",onKeydown:lt},[o.type?null:_t(L0,{ref:S,tabs:[...o.panes]},null),Z])])])}}}),_0=jn({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Fn(Function),default:()=>!0},stretch:Boolean}),el=o=>$o(o)||Dl(o),N0={[Qo]:o=>el(o),tabClick:(o,a)=>a instanceof Event,tabChange:o=>el(o),edit:(o,a)=>["remove","add"].includes(a),tabRemove:o=>el(o),tabAdd:()=>!0};var I0=qt({name:"ElTabs",props:_0,emits:N0,setup(o,{emit:a,slots:s,expose:h}){var g,u;const p=fn("tabs"),{children:m,addChild:k,removeChild:w}=fm(Je(),"ElTabPane"),x=bt(),S=bt((u=(g=o.modelValue)!=null?g:o.activeName)!=null?u:"0"),M=V=>{S.value=V,a(Qo,V),a("tabChange",V)},T=async V=>{var U,Q,G;if(!(S.value===V||cl(V)))try{await((U=o.beforeLeave)==null?void 0:U.call(o,V,S.value))!==!1&&(M(V),(G=(Q=x.value)==null?void 0:Q.removeFocus)==null||G.call(Q))}catch{}},D=(V,U,Q)=>{V.props.disabled||(T(U),a("tabClick",V,Q))},N=(V,U)=>{V.props.disabled||cl(V.props.name)||(U.stopPropagation(),a("edit",V.props.name,"remove"),a("tabRemove",V.props.name))},H=()=>{a("edit",void 0,"add"),a("tabAdd")};return Po({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},kt(()=>!!o.activeName)),ee(()=>o.activeName,V=>T(V)),ee(()=>o.modelValue,V=>T(V)),ee(S,async()=>{var V;await rr(),(V=x.value)==null||V.scrollToActiveTab()}),Ho(Zo,{props:o,currentName:S,registerPane:k,unregisterPane:w}),h({currentName:S}),()=>{const V=o.editable||o.addable?_t("span",{class:p.e("new-tab"),tabindex:"0",onClick:H,onKeydown:G=>{G.code===Yr.enter&&H()}},[_t(xr,{class:p.is("icon-plus")},{default:()=>[_t(Ev,null,null)]})]):null,U=_t("div",{class:[p.e("header"),p.is(o.tabPosition)]},[V,_t(E0,{ref:x,currentName:S.value,editable:o.editable,type:o.type,panes:m.value,stretch:o.stretch,onTabClick:D,onTabRemove:N},null)]),Q=_t("div",{class:p.e("content")},[Me(s,"default")]);return _t("div",{class:[p.b(),p.m(o.tabPosition),{[p.m("card")]:o.type==="card",[p.m("border-card")]:o.type==="border-card"}]},[...o.tabPosition!=="bottom"?[U,Q]:[Q,U]])}}});const F0=jn({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),j0=["id","aria-hidden","aria-labelledby"],sf="ElTabPane",W0=qt({name:sf}),R0=qt({...W0,props:F0,setup(o){const a=o,s=Je(),h=gl(),g=Oe(Zo);g||Xo(sf,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const u=fn("tab-pane"),p=bt(),m=kt(()=>a.closable||g.props.closable),k=Wc(()=>{var T;return g.currentName.value===((T=a.name)!=null?T:p.value)}),w=bt(k.value),x=kt(()=>{var T;return(T=a.name)!=null?T:p.value}),S=Wc(()=>!a.lazy||w.value||k.value);ee(k,T=>{T&&(w.value=!0)});const M=pl({uid:s.uid,slots:h,props:a,paneName:x,active:k,index:p,isClosable:m});return un(()=>{g.registerPane(M)}),md(()=>{g.unregisterPane(M.uid)}),(T,D)=>K(S)?jo((Tt(),Vt("div",{key:0,id:`pane-${K(x)}`,class:Re(K(u).b()),role:"tabpanel","aria-hidden":!K(k),"aria-labelledby":`tab-${K(x)}`},[Me(T.$slots,"default")],10,j0)),[[Wo,K(k)]]):$e("v-if",!0)}});var cf=or(R0,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const P0=Go(I0,{TabPane:cf}),B0=Hu(cf);var mu={exports:{}},yu;function Pi(){return yu||(yu=1,function(o,a){(function(s,h){o.exports=h()})(i0,function(){var s=navigator.userAgent,h=navigator.platform,g=/gecko\/\d/i.test(s),u=/MSIE \d/.test(s),p=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(s),m=/Edge\/(\d+)/.exec(s),k=u||p||m,w=k&&(u?document.documentMode||6:+(m||p)[1]),x=!m&&/WebKit\//.test(s),S=x&&/Qt\/\d+\.\d+/.test(s),M=!m&&/Chrome\/(\d+)/.exec(s),T=M&&+M[1],D=/Opera\//.test(s),N=/Apple Computer/.test(navigator.vendor),H=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(s),V=/PhantomJS/.test(s),U=N&&(/Mobile\/\w+/.test(s)||navigator.maxTouchPoints>2),Q=/Android/.test(s),G=U||Q||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(s),J=U||/Mac/.test(h),lt=/\bCrOS\b/.test(s),ut=/win/i.test(h),X=D&&s.match(/Version\/(\d*\.\d*)/);X&&(X=Number(X[1])),X&&X>=15&&(D=!1,x=!0);var tt=J&&(S||D&&(X==null||X<12.11)),Z=g||k&&w>=9;function rt(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}var dt=function(t,e){var r=t.className,n=rt(e).exec(r);if(n){var i=r.slice(n.index+n[0].length);t.className=r.slice(0,n.index)+(i?n[1]+i:"")}};function B(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function at(t,e){return B(t).appendChild(e)}function E(t,e,r,n){var i=document.createElement(t);if(r&&(i.className=r),n&&(i.style.cssText=n),typeof e=="string")i.appendChild(document.createTextNode(e));else if(e)for(var l=0;l<e.length;++l)i.appendChild(e[l]);return i}function Kt(t,e,r,n){var i=E(t,e,r,n);return i.setAttribute("role","presentation"),i}var Ft;document.createRange?Ft=function(t,e,r,n){var i=document.createRange();return i.setEnd(n||t,r),i.setStart(t,e),i}:Ft=function(t,e,r){var n=document.body.createTextRange();try{n.moveToElementText(t.parentNode)}catch{return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",e),n};function xe(t,e){if(e.nodeType==3&&(e=e.parentNode),t.contains)return t.contains(e);do if(e.nodeType==11&&(e=e.host),e==t)return!0;while(e=e.parentNode)}function Zt(t){var e;try{e=t.activeElement}catch{e=t.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function pe(t,e){var r=t.className;rt(e).test(r)||(t.className+=(r?" ":"")+e)}function Ue(t,e){for(var r=t.split(" "),n=0;n<r.length;n++)r[n]&&!rt(r[n]).test(e)&&(e+=" "+r[n]);return e}var tn=function(t){t.select()};U?tn=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:k&&(tn=function(t){try{t.select()}catch{}});function Jt(t){return t.display.wrapper.ownerDocument}function ge(t){return Jt(t).defaultView}function Xt(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function xt(t,e,r){e||(e={});for(var n in t)t.hasOwnProperty(n)&&(r!==!1||!e.hasOwnProperty(n))&&(e[n]=t[n]);return e}function vt(t,e,r,n,i){e==null&&(e=t.search(/[^\s\u00a0]/),e==-1&&(e=t.length));for(var l=n||0,c=i||0;;){var f=t.indexOf("	",l);if(f<0||f>=e)return c+(e-l);c+=f-l,c+=r-c%r,l=f+1}}var Mt=function(){this.id=null,this.f=null,this.time=0,this.handler=Xt(this.onTimeout,this)};Mt.prototype.onTimeout=function(t){t.id=0,t.time<=+new Date?t.f():setTimeout(t.handler,t.time-+new Date)},Mt.prototype.set=function(t,e){this.f=e;var r=+new Date+t;(!this.id||r<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,t),this.time=r)};function Ot(t,e){for(var r=0;r<t.length;++r)if(t[r]==e)return r;return-1}var ar=50,Nt={toString:function(){return"CodeMirror.Pass"}},zt={scroll:!1},en={origin:"*mouse"},hn={origin:"+move"};function Qe(t,e,r){for(var n=0,i=0;;){var l=t.indexOf("	",n);l==-1&&(l=t.length);var c=l-n;if(l==t.length||i+c>=e)return n+Math.min(c,e-i);if(i+=l-n,i+=r-i%r,n=l+1,i>=e)return n}}var Be=[""];function Ye(t){for(;Be.length<=t;)Be.push(At(Be)+" ");return Be[t]}function At(t){return t[t.length-1]}function Cn(t,e){for(var r=[],n=0;n<t.length;n++)r[n]=e(t[n],n);return r}function b(t,e,r){for(var n=0,i=r(e);n<t.length&&r(t[n])<=i;)n++;t.splice(n,0,e)}function A(){}function I(t,e){var r;return Object.create?r=Object.create(t):(A.prototype=t,r=new A),e&&xt(e,r),r}var W=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function R(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||W.test(t))}function P(t,e){return e?e.source.indexOf("\\w")>-1&&R(t)?!0:e.test(t):R(t)}function q(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}var et=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ot(t){return t.charCodeAt(0)>=768&&et.test(t)}function yt(t,e,r){for(;(r<0?e>0:e<t.length)&&ot(t.charAt(e));)e+=r;return e}function gt(t,e,r){for(var n=e>r?-1:1;;){if(e==r)return e;var i=(e+r)/2,l=n<0?Math.ceil(i):Math.floor(i);if(l==e)return t(l)?e:r;t(l)?r=l:e=l+n}}function Dt(t,e,r,n){if(!t)return n(e,r,"ltr",0);for(var i=!1,l=0;l<t.length;++l){var c=t[l];(c.from<r&&c.to>e||e==r&&c.to==e)&&(n(Math.max(c.from,e),Math.min(c.to,r),c.level==1?"rtl":"ltr",l),i=!0)}i||n(e,r,"ltr")}var jt=null;function Et(t,e,r){var n;jt=null;for(var i=0;i<t.length;++i){var l=t[i];if(l.from<e&&l.to>e)return i;l.to==e&&(l.from!=l.to&&r=="before"?n=i:jt=i),l.from==e&&(l.from!=l.to&&r!="before"?n=i:jt=i)}return n??jt}var Gt=function(){var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",e="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function r(v){return v<=247?t.charAt(v):1424<=v&&v<=1524?"R":1536<=v&&v<=1785?e.charAt(v-1536):1774<=v&&v<=2220?"r":8192<=v&&v<=8203?"w":v==8204?"b":"L"}var n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,l=/[LRr]/,c=/[Lb1n]/,f=/[1n]/;function d(v,C,O){this.level=v,this.from=C,this.to=O}return function(v,C){var O=C=="ltr"?"L":"R";if(v.length==0||C=="ltr"&&!n.test(v))return!1;for(var j=v.length,F=[],$=0;$<j;++$)F.push(r(v.charCodeAt($)));for(var Y=0,it=O;Y<j;++Y){var st=F[Y];st=="m"?F[Y]=it:it=st}for(var ft=0,ct=O;ft<j;++ft){var ht=F[ft];ht=="1"&&ct=="r"?F[ft]="n":l.test(ht)&&(ct=ht,ht=="r"&&(F[ft]="R"))}for(var wt=1,mt=F[0];wt<j-1;++wt){var Lt=F[wt];Lt=="+"&&mt=="1"&&F[wt+1]=="1"?F[wt]="1":Lt==","&&mt==F[wt+1]&&(mt=="1"||mt=="n")&&(F[wt]=mt),mt=Lt}for(var Ut=0;Ut<j;++Ut){var be=F[Ut];if(be==",")F[Ut]="N";else if(be=="%"){var te=void 0;for(te=Ut+1;te<j&&F[te]=="%";++te);for(var ze=Ut&&F[Ut-1]=="!"||te<j&&F[te]=="1"?"1":"N",Fe=Ut;Fe<te;++Fe)F[Fe]=ze;Ut=te-1}}for(var se=0,je=O;se<j;++se){var ke=F[se];je=="L"&&ke=="1"?F[se]="L":l.test(ke)&&(je=ke)}for(var de=0;de<j;++de)if(i.test(F[de])){var ce=void 0;for(ce=de+1;ce<j&&i.test(F[ce]);++ce);for(var ie=(de?F[de-1]:O)=="L",We=(ce<j?F[ce]:O)=="L",$r=ie==We?ie?"L":"R":O,qn=de;qn<ce;++qn)F[qn]=$r;de=ce-1}for(var Se=[],wn,we=0;we<j;)if(c.test(F[we])){var Ka=we;for(++we;we<j&&c.test(F[we]);++we);Se.push(new d(0,Ka,we))}else{var _n=we,vr=Se.length,mr=C=="rtl"?1:0;for(++we;we<j&&F[we]!="L";++we);for(var De=_n;De<we;)if(f.test(F[De])){_n<De&&(Se.splice(vr,0,new d(1,_n,De)),vr+=mr);var Ur=De;for(++De;De<we&&f.test(F[De]);++De);Se.splice(vr,0,new d(2,Ur,De)),vr+=mr,_n=De}else++De;_n<we&&Se.splice(vr,0,new d(1,_n,we))}return C=="ltr"&&(Se[0].level==1&&(wn=v.match(/^\s+/))&&(Se[0].from=wn[0].length,Se.unshift(new d(0,0,wn[0].length))),At(Se).level==1&&(wn=v.match(/\s+$/))&&(At(Se).to-=wn[0].length,Se.push(new d(0,j-wn[0].length,j)))),C=="rtl"?Se.reverse():Se}}();function $t(t,e){var r=t.order;return r==null&&(r=t.order=Gt(t.text,e)),r}var Le=[],nt=function(t,e,r){if(t.addEventListener)t.addEventListener(e,r,!1);else if(t.attachEvent)t.attachEvent("on"+e,r);else{var n=t._handlers||(t._handlers={});n[e]=(n[e]||Le).concat(r)}};function Wn(t,e){return t._handlers&&t._handlers[e]||Le}function ue(t,e,r){if(t.removeEventListener)t.removeEventListener(e,r,!1);else if(t.detachEvent)t.detachEvent("on"+e,r);else{var n=t._handlers,i=n&&n[e];if(i){var l=Ot(i,r);l>-1&&(n[e]=i.slice(0,l).concat(i.slice(l+1)))}}}function Bt(t,e){var r=Wn(t,e);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)}function Qt(t,e,r){return typeof e=="string"&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),Bt(t,r||e.type,t,e),nn(e)||e.codemirrorIgnore}function lr(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var r=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),n=0;n<e.length;++n)Ot(r,e[n])==-1&&r.push(e[n])}function fe(t,e){return Wn(t,e).length>0}function oe(t){t.prototype.on=function(e,r){nt(this,e,r)},t.prototype.off=function(e,r){ue(this,e,r)}}function ne(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function dn(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function nn(t){return t.defaultPrevented!=null?t.defaultPrevented:t.returnValue==!1}function Sn(t){ne(t),dn(t)}function _e(t){return t.target||t.srcElement}function ei(t){var e=t.which;return e==null&&(t.button&1?e=1:t.button&2?e=3:t.button&4&&(e=2)),J&&t.ctrlKey&&e==1&&(e=3),e}var Jo=function(){if(k&&w<9)return!1;var t=E("div");return"draggable"in t||"dragDrop"in t}(),qe;function ta(t){if(qe==null){var e=E("span","​");at(t,E("span",[e,document.createTextNode("x")])),t.firstChild.offsetHeight!=0&&(qe=e.offsetWidth<=1&&e.offsetHeight>2&&!(k&&w<8))}var r=qe?E("span","​"):E("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}var Sr;function Hi(t){if(Sr!=null)return Sr;var e=at(t,document.createTextNode("AخA")),r=Ft(e,0,1).getBoundingClientRect(),n=Ft(e,1,2).getBoundingClientRect();return B(t),!r||r.left==r.right?!1:Sr=n.right-r.right<3}var ni=`

b`.split(/\n/).length!=3?function(t){for(var e=0,r=[],n=t.length;e<=n;){var i=t.indexOf(`
`,e);i==-1&&(i=t.length);var l=t.slice(e,t.charAt(i-1)=="\r"?i-1:i),c=l.indexOf("\r");c!=-1?(r.push(l.slice(0,c)),e+=c+1):(r.push(l),e=i+1)}return r}:function(t){return t.split(/\r\n?|\n/)},Rn=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch{return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch{}return!e||e.parentElement()!=t?!1:e.compareEndPoints("StartToEnd",e)!=0},pn=function(){var t=E("div");return"oncopy"in t?!0:(t.setAttribute("oncopy","return;"),typeof t.oncopy=="function")}(),gn=null;function Vi(t){if(gn!=null)return gn;var e=at(t,E("span","x")),r=e.getBoundingClientRect(),n=Ft(e,0,1).getBoundingClientRect();return gn=Math.abs(r.left-n.left)>1}var rn={},Pn={};function zi(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),rn[t]=e}function Mr(t,e){Pn[t]=e}function He(t){if(typeof t=="string"&&Pn.hasOwnProperty(t))t=Pn[t];else if(t&&typeof t.name=="string"&&Pn.hasOwnProperty(t.name)){var e=Pn[t.name];typeof e=="string"&&(e={name:e}),t=I(e,t),t.name=e.name}else{if(typeof t=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return He("application/xml");if(typeof t=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return He("application/json")}return typeof t=="string"?{name:t}:t||{name:"null"}}function Bn(t,e){e=He(e);var r=rn[e.name];if(!r)return Bn(t,"text/plain");var n=r(t,e);if(Hn.hasOwnProperty(e.name)){var i=Hn[e.name];for(var l in i)i.hasOwnProperty(l)&&(n.hasOwnProperty(l)&&(n["_"+l]=n[l]),n[l]=i[l])}if(n.name=e.name,e.helperType&&(n.helperType=e.helperType),e.modeProps)for(var c in e.modeProps)n[c]=e.modeProps[c];return n}var Hn={};function $i(t,e){var r=Hn.hasOwnProperty(t)?Hn[t]:Hn[t]={};xt(e,r)}function Mn(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var r={};for(var n in e){var i=e[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function Vn(t,e){for(var r;t.innerMode&&(r=t.innerMode(e),!(!r||r.mode==t));)e=r.state,t=r.mode;return r||{mode:t,state:e}}function ri(t,e,r){return t.startState?t.startState(e,r):!0}var re=function(t,e,r){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};re.prototype.eol=function(){return this.pos>=this.string.length},re.prototype.sol=function(){return this.pos==this.lineStart},re.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},re.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},re.prototype.eat=function(t){var e=this.string.charAt(this.pos),r;if(typeof t=="string"?r=e==t:r=e&&(t.test?t.test(e):t(e)),r)return++this.pos,e},re.prototype.eatWhile=function(t){for(var e=this.pos;this.eat(t););return this.pos>e},re.prototype.eatSpace=function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},re.prototype.skipToEnd=function(){this.pos=this.string.length},re.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},re.prototype.backUp=function(t){this.pos-=t},re.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=vt(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?vt(this.string,this.lineStart,this.tabSize):0)},re.prototype.indentation=function(){return vt(this.string,null,this.tabSize)-(this.lineStart?vt(this.string,this.lineStart,this.tabSize):0)},re.prototype.match=function(t,e,r){if(typeof t=="string"){var n=function(c){return r?c.toLowerCase():c},i=this.string.substr(this.pos,t.length);if(n(i)==n(t))return e!==!1&&(this.pos+=t.length),!0}else{var l=this.string.slice(this.pos).match(t);return l&&l.index>0?null:(l&&e!==!1&&(this.pos+=l[0].length),l)}},re.prototype.current=function(){return this.string.slice(this.start,this.pos)},re.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}},re.prototype.lookAhead=function(t){var e=this.lineOracle;return e&&e.lookAhead(t)},re.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};function pt(t,e){if(e-=t.first,e<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var r=t;!r.lines;)for(var n=0;;++n){var i=r.children[n],l=i.chunkSize();if(e<l){r=i;break}e-=l}return r.lines[e]}function Tn(t,e,r){var n=[],i=e.line;return t.iter(e.line,r.line+1,function(l){var c=l.text;i==r.line&&(c=c.slice(0,r.ch)),i==e.line&&(c=c.slice(e.ch)),n.push(c),++i}),n}function Tr(t,e,r){var n=[];return t.iter(e,r,function(i){n.push(i.text)}),n}function Ze(t,e){var r=e-t.height;if(r)for(var n=t;n;n=n.parent)n.height+=r}function Rt(t){if(t.parent==null)return null;for(var e=t.parent,r=Ot(e.lines,t),n=e.parent;n;e=n,n=n.parent)for(var i=0;n.children[i]!=e;++i)r+=n.children[i].chunkSize();return r+e.first}function vn(t,e){var r=t.first;t:do{for(var n=0;n<t.children.length;++n){var i=t.children[n],l=i.height;if(e<l){t=i;continue t}e-=l,r+=i.chunkSize()}return r}while(!t.lines);for(var c=0;c<t.lines.length;++c){var f=t.lines[c],d=f.height;if(e<d)break;e-=d}return r+c}function y(t,e){return e>=t.first&&e<t.first+t.size}function L(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function _(t,e,r){if(r===void 0&&(r=null),!(this instanceof _))return new _(t,e,r);this.line=t,this.ch=e,this.sticky=r}function z(t,e){return t.line-e.line||t.ch-e.ch}function Ct(t,e){return t.sticky==e.sticky&&z(t,e)==0}function It(t){return _(t.line,t.ch)}function Wt(t,e){return z(t,e)<0?e:t}function he(t,e){return z(t,e)<0?t:e}function Ke(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function St(t,e){if(e.line<t.first)return _(t.first,0);var r=t.first+t.size-1;return e.line>r?_(r,pt(t,r).text.length):gf(e,pt(t,e.line).text.length)}function gf(t,e){var r=t.ch;return r==null||r>e?_(t.line,e):r<0?_(t.line,0):t}function Fl(t,e){for(var r=[],n=0;n<e.length;n++)r[n]=St(t,e[n]);return r}var Ui=function(t,e){this.state=t,this.lookAhead=e},mn=function(t,e,r,n){this.state=e,this.doc=t,this.line=r,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};mn.prototype.lookAhead=function(t){var e=this.doc.getLine(this.line+t);return e!=null&&t>this.maxLookAhead&&(this.maxLookAhead=t),e},mn.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var e=this.baseTokens[this.baseTokenPos+1];return{type:e&&e.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},mn.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},mn.fromSaved=function(t,e,r){return e instanceof Ui?new mn(t,Mn(t.mode,e.state),r,e.lookAhead):new mn(t,Mn(t.mode,e),r)},mn.prototype.save=function(t){var e=t!==!1?Mn(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Ui(e,this.maxLookAhead):e};function jl(t,e,r,n){var i=[t.state.modeGen],l={};Vl(t,e.text,t.doc.mode,r,function(v,C){return i.push(v,C)},l,n);for(var c=r.state,f=function(v){r.baseTokens=i;var C=t.state.overlays[v],O=1,j=0;r.state=!0,Vl(t,e.text,C.mode,r,function(F,$){for(var Y=O;j<F;){var it=i[O];it>F&&i.splice(O,1,F,i[O+1],it),O+=2,j=Math.min(F,it)}if($)if(C.opaque)i.splice(Y,O-Y,F,"overlay "+$),O=Y+2;else for(;Y<O;Y+=2){var st=i[Y+1];i[Y+1]=(st?st+" ":"")+"overlay "+$}},l),r.state=c,r.baseTokens=null,r.baseTokenPos=1},d=0;d<t.state.overlays.length;++d)f(d);return{styles:i,classes:l.bgClass||l.textClass?l:null}}function Wl(t,e,r){if(!e.styles||e.styles[0]!=t.state.modeGen){var n=ii(t,Rt(e)),i=e.text.length>t.options.maxHighlightLength&&Mn(t.doc.mode,n.state),l=jl(t,e,n);i&&(n.state=i),e.stateAfter=n.save(!i),e.styles=l.styles,l.classes?e.styleClasses=l.classes:e.styleClasses&&(e.styleClasses=null),r===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return e.styles}function ii(t,e,r){var n=t.doc,i=t.display;if(!n.mode.startState)return new mn(n,!0,e);var l=vf(t,e,r),c=l>n.first&&pt(n,l-1).stateAfter,f=c?mn.fromSaved(n,c,l):new mn(n,ri(n.mode),l);return n.iter(l,e,function(d){ea(t,d.text,f);var v=f.line;d.stateAfter=v==e-1||v%5==0||v>=i.viewFrom&&v<i.viewTo?f.save():null,f.nextLine()}),r&&(n.modeFrontier=f.line),f}function ea(t,e,r,n){var i=t.doc.mode,l=new re(e,t.options.tabSize,r);for(l.start=l.pos=n||0,e==""&&Rl(i,r.state);!l.eol();)na(i,l,r.state),l.start=l.pos}function Rl(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var r=Vn(t,e);if(r.mode.blankLine)return r.mode.blankLine(r.state)}}function na(t,e,r,n){for(var i=0;i<10;i++){n&&(n[0]=Vn(t,r).mode);var l=t.token(e,r);if(e.pos>e.start)return l}throw new Error("Mode "+t.name+" failed to advance stream.")}var Pl=function(t,e,r){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=e||null,this.state=r};function Bl(t,e,r,n){var i=t.doc,l=i.mode,c;e=St(i,e);var f=pt(i,e.line),d=ii(t,e.line,r),v=new re(f.text,t.options.tabSize,d),C;for(n&&(C=[]);(n||v.pos<e.ch)&&!v.eol();)v.start=v.pos,c=na(l,v,d.state),n&&C.push(new Pl(v,c,Mn(i.mode,d.state)));return n?C:new Pl(v,c,d.state)}function Hl(t,e){if(t)for(;;){var r=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;t=t.slice(0,r.index)+t.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";e[n]==null?e[n]=r[2]:new RegExp("(?:^|\\s)"+r[2]+"(?:$|\\s)").test(e[n])||(e[n]+=" "+r[2])}return t}function Vl(t,e,r,n,i,l,c){var f=r.flattenSpans;f==null&&(f=t.options.flattenSpans);var d=0,v=null,C=new re(e,t.options.tabSize,n),O,j=t.options.addModeClass&&[null];for(e==""&&Hl(Rl(r,n.state),l);!C.eol();){if(C.pos>t.options.maxHighlightLength?(f=!1,c&&ea(t,e,n,C.pos),C.pos=e.length,O=null):O=Hl(na(r,C,n.state,j),l),j){var F=j[0].name;F&&(O="m-"+(O?F+" "+O:F))}if(!f||v!=O){for(;d<C.start;)d=Math.min(C.start,d+5e3),i(d,v);v=O}C.start=C.pos}for(;d<C.pos;){var $=Math.min(C.pos,d+5e3);i($,v),d=$}}function vf(t,e,r){for(var n,i,l=t.doc,c=r?-1:e-(t.doc.mode.innerMode?1e3:100),f=e;f>c;--f){if(f<=l.first)return l.first;var d=pt(l,f-1),v=d.stateAfter;if(v&&(!r||f+(v instanceof Ui?v.lookAhead:0)<=l.modeFrontier))return f;var C=vt(d.text,null,t.options.tabSize);(i==null||n>C)&&(i=f-1,n=C)}return i}function mf(t,e){if(t.modeFrontier=Math.min(t.modeFrontier,e),!(t.highlightFrontier<e-10)){for(var r=t.first,n=e-1;n>r;n--){var i=pt(t,n).stateAfter;if(i&&(!(i instanceof Ui)||n+i.lookAhead<e)){r=n+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,r)}}var zl=!1,On=!1;function yf(){zl=!0}function bf(){On=!0}function Ki(t,e,r){this.marker=t,this.from=e,this.to=r}function oi(t,e){if(t)for(var r=0;r<t.length;++r){var n=t[r];if(n.marker==e)return n}}function wf(t,e){for(var r,n=0;n<t.length;++n)t[n]!=e&&(r||(r=[])).push(t[n]);return r}function xf(t,e,r){var n=r&&window.WeakSet&&(r.markedSpans||(r.markedSpans=new WeakSet));n&&t.markedSpans&&n.has(t.markedSpans)?t.markedSpans.push(e):(t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],n&&n.add(t.markedSpans)),e.marker.attachLine(t)}function kf(t,e,r){var n;if(t)for(var i=0;i<t.length;++i){var l=t[i],c=l.marker,f=l.from==null||(c.inclusiveLeft?l.from<=e:l.from<e);if(f||l.from==e&&c.type=="bookmark"&&(!r||!l.marker.insertLeft)){var d=l.to==null||(c.inclusiveRight?l.to>=e:l.to>e);(n||(n=[])).push(new Ki(c,l.from,d?null:l.to))}}return n}function Cf(t,e,r){var n;if(t)for(var i=0;i<t.length;++i){var l=t[i],c=l.marker,f=l.to==null||(c.inclusiveRight?l.to>=e:l.to>e);if(f||l.from==e&&c.type=="bookmark"&&(!r||l.marker.insertLeft)){var d=l.from==null||(c.inclusiveLeft?l.from<=e:l.from<e);(n||(n=[])).push(new Ki(c,d?null:l.from-e,l.to==null?null:l.to-e))}}return n}function ra(t,e){if(e.full)return null;var r=y(t,e.from.line)&&pt(t,e.from.line).markedSpans,n=y(t,e.to.line)&&pt(t,e.to.line).markedSpans;if(!r&&!n)return null;var i=e.from.ch,l=e.to.ch,c=z(e.from,e.to)==0,f=kf(r,i,c),d=Cf(n,l,c),v=e.text.length==1,C=At(e.text).length+(v?i:0);if(f)for(var O=0;O<f.length;++O){var j=f[O];if(j.to==null){var F=oi(d,j.marker);F?v&&(j.to=F.to==null?null:F.to+C):j.to=i}}if(d)for(var $=0;$<d.length;++$){var Y=d[$];if(Y.to!=null&&(Y.to+=C),Y.from==null){var it=oi(f,Y.marker);it||(Y.from=C,v&&(f||(f=[])).push(Y))}else Y.from+=C,v&&(f||(f=[])).push(Y)}f&&(f=$l(f)),d&&d!=f&&(d=$l(d));var st=[f];if(!v){var ft=e.text.length-2,ct;if(ft>0&&f)for(var ht=0;ht<f.length;++ht)f[ht].to==null&&(ct||(ct=[])).push(new Ki(f[ht].marker,null,null));for(var wt=0;wt<ft;++wt)st.push(ct);st.push(d)}return st}function $l(t){for(var e=0;e<t.length;++e){var r=t[e];r.from!=null&&r.from==r.to&&r.marker.clearWhenEmpty!==!1&&t.splice(e--,1)}return t.length?t:null}function Sf(t,e,r){var n=null;if(t.iter(e.line,r.line+1,function(F){if(F.markedSpans)for(var $=0;$<F.markedSpans.length;++$){var Y=F.markedSpans[$].marker;Y.readOnly&&(!n||Ot(n,Y)==-1)&&(n||(n=[])).push(Y)}}),!n)return null;for(var i=[{from:e,to:r}],l=0;l<n.length;++l)for(var c=n[l],f=c.find(0),d=0;d<i.length;++d){var v=i[d];if(!(z(v.to,f.from)<0||z(v.from,f.to)>0)){var C=[d,1],O=z(v.from,f.from),j=z(v.to,f.to);(O<0||!c.inclusiveLeft&&!O)&&C.push({from:v.from,to:f.from}),(j>0||!c.inclusiveRight&&!j)&&C.push({from:f.to,to:v.to}),i.splice.apply(i,C),d+=C.length-3}}return i}function Ul(t){var e=t.markedSpans;if(e){for(var r=0;r<e.length;++r)e[r].marker.detachLine(t);t.markedSpans=null}}function Kl(t,e){if(e){for(var r=0;r<e.length;++r)e[r].marker.attachLine(t);t.markedSpans=e}}function Xi(t){return t.inclusiveLeft?-1:0}function Gi(t){return t.inclusiveRight?1:0}function ia(t,e){var r=t.lines.length-e.lines.length;if(r!=0)return r;var n=t.find(),i=e.find(),l=z(n.from,i.from)||Xi(t)-Xi(e);if(l)return-l;var c=z(n.to,i.to)||Gi(t)-Gi(e);return c||e.id-t.id}function Xl(t,e){var r=On&&t.markedSpans,n;if(r)for(var i=void 0,l=0;l<r.length;++l)i=r[l],i.marker.collapsed&&(e?i.from:i.to)==null&&(!n||ia(n,i.marker)<0)&&(n=i.marker);return n}function Gl(t){return Xl(t,!0)}function Qi(t){return Xl(t,!1)}function Mf(t,e){var r=On&&t.markedSpans,n;if(r)for(var i=0;i<r.length;++i){var l=r[i];l.marker.collapsed&&(l.from==null||l.from<e)&&(l.to==null||l.to>e)&&(!n||ia(n,l.marker)<0)&&(n=l.marker)}return n}function Ql(t,e,r,n,i){var l=pt(t,e),c=On&&l.markedSpans;if(c)for(var f=0;f<c.length;++f){var d=c[f];if(d.marker.collapsed){var v=d.marker.find(0),C=z(v.from,r)||Xi(d.marker)-Xi(i),O=z(v.to,n)||Gi(d.marker)-Gi(i);if(!(C>=0&&O<=0||C<=0&&O>=0)&&(C<=0&&(d.marker.inclusiveRight&&i.inclusiveLeft?z(v.to,r)>=0:z(v.to,r)>0)||C>=0&&(d.marker.inclusiveRight&&i.inclusiveLeft?z(v.from,n)<=0:z(v.from,n)<0)))return!0}}}function on(t){for(var e;e=Gl(t);)t=e.find(-1,!0).line;return t}function Tf(t){for(var e;e=Qi(t);)t=e.find(1,!0).line;return t}function Of(t){for(var e,r;e=Qi(t);)t=e.find(1,!0).line,(r||(r=[])).push(t);return r}function oa(t,e){var r=pt(t,e),n=on(r);return r==n?e:Rt(n)}function Yl(t,e){if(e>t.lastLine())return e;var r=pt(t,e),n;if(!zn(t,r))return e;for(;n=Qi(r);)r=n.find(1,!0).line;return Rt(r)+1}function zn(t,e){var r=On&&e.markedSpans;if(r){for(var n=void 0,i=0;i<r.length;++i)if(n=r[i],!!n.marker.collapsed&&(n.from==null||!n.marker.widgetNode&&n.from==0&&n.marker.inclusiveLeft&&aa(t,e,n)))return!0}}function aa(t,e,r){if(r.to==null){var n=r.marker.find(1,!0);return aa(t,n.line,oi(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==e.text.length)return!0;for(var i=void 0,l=0;l<e.markedSpans.length;++l)if(i=e.markedSpans[l],i.marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(i.to==null||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&aa(t,e,i))return!0}function Ln(t){t=on(t);for(var e=0,r=t.parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==t)break;e+=i.height}for(var l=r.parent;l;r=l,l=r.parent)for(var c=0;c<l.children.length;++c){var f=l.children[c];if(f==r)break;e+=f.height}return e}function Yi(t){if(t.height==0)return 0;for(var e=t.text.length,r,n=t;r=Gl(n);){var i=r.find(0,!0);n=i.from.line,e+=i.from.ch-i.to.ch}for(n=t;r=Qi(n);){var l=r.find(0,!0);e-=n.text.length-l.from.ch,n=l.to.line,e+=n.text.length-l.to.ch}return e}function la(t){var e=t.display,r=t.doc;e.maxLine=pt(r,r.first),e.maxLineLength=Yi(e.maxLine),e.maxLineChanged=!0,r.iter(function(n){var i=Yi(n);i>e.maxLineLength&&(e.maxLineLength=i,e.maxLine=n)})}var Or=function(t,e,r){this.text=t,Kl(this,e),this.height=r?r(this):1};Or.prototype.lineNo=function(){return Rt(this)},oe(Or);function Lf(t,e,r,n){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),t.order!=null&&(t.order=null),Ul(t),Kl(t,r);var i=n?n(t):1;i!=t.height&&Ze(t,i)}function Af(t){t.parent=null,Ul(t)}var Df={},Ef={};function ql(t,e){if(!t||/^\s*$/.test(t))return null;var r=e.addModeClass?Ef:Df;return r[t]||(r[t]=t.replace(/\S+/g,"cm-$&"))}function Zl(t,e){var r=Kt("span",null,null,x?"padding-right: .1px":null),n={pre:Kt("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};e.measure={};for(var i=0;i<=(e.rest?e.rest.length:0);i++){var l=i?e.rest[i-1]:e.line,c=void 0;n.pos=0,n.addToken=Nf,Hi(t.display.measure)&&(c=$t(l,t.doc.direction))&&(n.addToken=Ff(n.addToken,c)),n.map=[];var f=e!=t.display.externalMeasured&&Rt(l);jf(l,n,Wl(t,l,f)),l.styleClasses&&(l.styleClasses.bgClass&&(n.bgClass=Ue(l.styleClasses.bgClass,n.bgClass||"")),l.styleClasses.textClass&&(n.textClass=Ue(l.styleClasses.textClass,n.textClass||""))),n.map.length==0&&n.map.push(0,0,n.content.appendChild(ta(t.display.measure))),i==0?(e.measure.map=n.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(n.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(x){var d=n.content.lastChild;(/\bcm-tab\b/.test(d.className)||d.querySelector&&d.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return Bt(t,"renderLine",t,e.line,n.pre),n.pre.className&&(n.textClass=Ue(n.pre.className,n.textClass||"")),n}function _f(t){var e=E("span","•","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function Nf(t,e,r,n,i,l,c){if(e){var f=t.splitSpaces?If(e,t.trailingSpace):e,d=t.cm.state.specialChars,v=!1,C;if(!d.test(e))t.col+=e.length,C=document.createTextNode(f),t.map.push(t.pos,t.pos+e.length,C),k&&w<9&&(v=!0),t.pos+=e.length;else{C=document.createDocumentFragment();for(var O=0;;){d.lastIndex=O;var j=d.exec(e),F=j?j.index-O:e.length-O;if(F){var $=document.createTextNode(f.slice(O,O+F));k&&w<9?C.appendChild(E("span",[$])):C.appendChild($),t.map.push(t.pos,t.pos+F,$),t.col+=F,t.pos+=F}if(!j)break;O+=F+1;var Y=void 0;if(j[0]=="	"){var it=t.cm.options.tabSize,st=it-t.col%it;Y=C.appendChild(E("span",Ye(st),"cm-tab")),Y.setAttribute("role","presentation"),Y.setAttribute("cm-text","	"),t.col+=st}else j[0]=="\r"||j[0]==`
`?(Y=C.appendChild(E("span",j[0]=="\r"?"␍":"␤","cm-invalidchar")),Y.setAttribute("cm-text",j[0]),t.col+=1):(Y=t.cm.options.specialCharPlaceholder(j[0]),Y.setAttribute("cm-text",j[0]),k&&w<9?C.appendChild(E("span",[Y])):C.appendChild(Y),t.col+=1);t.map.push(t.pos,t.pos+1,Y),t.pos++}}if(t.trailingSpace=f.charCodeAt(e.length-1)==32,r||n||i||v||l||c){var ft=r||"";n&&(ft+=n),i&&(ft+=i);var ct=E("span",[C],ft,l);if(c)for(var ht in c)c.hasOwnProperty(ht)&&ht!="style"&&ht!="class"&&ct.setAttribute(ht,c[ht]);return t.content.appendChild(ct)}t.content.appendChild(C)}}function If(t,e){if(t.length>1&&!/  /.test(t))return t;for(var r=e,n="",i=0;i<t.length;i++){var l=t.charAt(i);l==" "&&r&&(i==t.length-1||t.charCodeAt(i+1)==32)&&(l=" "),n+=l,r=l==" "}return n}function Ff(t,e){return function(r,n,i,l,c,f,d){i=i?i+" cm-force-border":"cm-force-border";for(var v=r.pos,C=v+n.length;;){for(var O=void 0,j=0;j<e.length&&(O=e[j],!(O.to>v&&O.from<=v));j++);if(O.to>=C)return t(r,n,i,l,c,f,d);t(r,n.slice(0,O.to-v),i,l,null,f,d),l=null,n=n.slice(O.to-v),v=O.to}}}function Jl(t,e,r,n){var i=!n&&r.widgetNode;i&&t.map.push(t.pos,t.pos+e,i),!n&&t.cm.display.input.needsContentAttribute&&(i||(i=t.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(t.cm.display.input.setUneditable(i),t.content.appendChild(i)),t.pos+=e,t.trailingSpace=!1}function jf(t,e,r){var n=t.markedSpans,i=t.text,l=0;if(!n){for(var c=1;c<r.length;c+=2)e.addToken(e,i.slice(l,l=r[c]),ql(r[c+1],e.cm.options));return}for(var f=i.length,d=0,v=1,C="",O,j,F=0,$,Y,it,st,ft;;){if(F==d){$=Y=it=j="",ft=null,st=null,F=1/0;for(var ct=[],ht=void 0,wt=0;wt<n.length;++wt){var mt=n[wt],Lt=mt.marker;if(Lt.type=="bookmark"&&mt.from==d&&Lt.widgetNode)ct.push(Lt);else if(mt.from<=d&&(mt.to==null||mt.to>d||Lt.collapsed&&mt.to==d&&mt.from==d)){if(mt.to!=null&&mt.to!=d&&F>mt.to&&(F=mt.to,Y=""),Lt.className&&($+=" "+Lt.className),Lt.css&&(j=(j?j+";":"")+Lt.css),Lt.startStyle&&mt.from==d&&(it+=" "+Lt.startStyle),Lt.endStyle&&mt.to==F&&(ht||(ht=[])).push(Lt.endStyle,mt.to),Lt.title&&((ft||(ft={})).title=Lt.title),Lt.attributes)for(var Ut in Lt.attributes)(ft||(ft={}))[Ut]=Lt.attributes[Ut];Lt.collapsed&&(!st||ia(st.marker,Lt)<0)&&(st=mt)}else mt.from>d&&F>mt.from&&(F=mt.from)}if(ht)for(var be=0;be<ht.length;be+=2)ht[be+1]==F&&(Y+=" "+ht[be]);if(!st||st.from==d)for(var te=0;te<ct.length;++te)Jl(e,0,ct[te]);if(st&&(st.from||0)==d){if(Jl(e,(st.to==null?f+1:st.to)-d,st.marker,st.from==null),st.to==null)return;st.to==d&&(st=!1)}}if(d>=f)break;for(var ze=Math.min(f,F);;){if(C){var Fe=d+C.length;if(!st){var se=Fe>ze?C.slice(0,ze-d):C;e.addToken(e,se,O?O+$:$,it,d+se.length==F?Y:"",j,ft)}if(Fe>=ze){C=C.slice(ze-d),d=ze;break}d=Fe,it=""}C=i.slice(l,l=r[v++]),O=ql(r[v++],e.cm.options)}}}function ts(t,e,r){this.line=e,this.rest=Of(e),this.size=this.rest?Rt(At(this.rest))-r+1:1,this.node=this.text=null,this.hidden=zn(t,e)}function qi(t,e,r){for(var n=[],i,l=e;l<r;l=i){var c=new ts(t.doc,pt(t.doc,l),l);i=l+c.size,n.push(c)}return n}var Lr=null;function Wf(t){Lr?Lr.ops.push(t):t.ownsGroup=Lr={ops:[t],delayedCallbacks:[]}}function Rf(t){var e=t.delayedCallbacks,r=0;do{for(;r<e.length;r++)e[r].call(null);for(var n=0;n<t.ops.length;n++){var i=t.ops[n];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<e.length)}function Pf(t,e){var r=t.ownsGroup;if(r)try{Rf(r)}finally{Lr=null,e(r)}}var ai=null;function ve(t,e){var r=Wn(t,e);if(r.length){var n=Array.prototype.slice.call(arguments,2),i;Lr?i=Lr.delayedCallbacks:ai?i=ai:(i=ai=[],setTimeout(Bf,0));for(var l=function(f){i.push(function(){return r[f].apply(null,n)})},c=0;c<r.length;++c)l(c)}}function Bf(){var t=ai;ai=null;for(var e=0;e<t.length;++e)t[e]()}function es(t,e,r,n){for(var i=0;i<e.changes.length;i++){var l=e.changes[i];l=="text"?Vf(t,e):l=="gutter"?rs(t,e,r,n):l=="class"?sa(t,e):l=="widget"&&zf(t,e,n)}e.changes=null}function li(t){return t.node==t.text&&(t.node=E("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),k&&w<8&&(t.node.style.zIndex=2)),t.node}function Hf(t,e){var r=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),e.background)r?e.background.className=r:(e.background.parentNode.removeChild(e.background),e.background=null);else if(r){var n=li(e);e.background=n.insertBefore(E("div",null,r),n.firstChild),t.display.input.setUneditable(e.background)}}function ns(t,e){var r=t.display.externalMeasured;return r&&r.line==e.line?(t.display.externalMeasured=null,e.measure=r.measure,r.built):Zl(t,e)}function Vf(t,e){var r=e.text.className,n=ns(t,e);e.text==e.node&&(e.node=n.pre),e.text.parentNode.replaceChild(n.pre,e.text),e.text=n.pre,n.bgClass!=e.bgClass||n.textClass!=e.textClass?(e.bgClass=n.bgClass,e.textClass=n.textClass,sa(t,e)):r&&(e.text.className=r)}function sa(t,e){Hf(t,e),e.line.wrapClass?li(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var r=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=r||""}function rs(t,e,r,n){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var i=li(e);e.gutterBackground=E("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),i.insertBefore(e.gutterBackground,e.text)}var l=e.line.gutterMarkers;if(t.options.lineNumbers||l){var c=li(e),f=e.gutter=E("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(f.setAttribute("aria-hidden","true"),t.display.input.setUneditable(f),c.insertBefore(f,e.text),e.line.gutterClass&&(f.className+=" "+e.line.gutterClass),t.options.lineNumbers&&(!l||!l["CodeMirror-linenumbers"])&&(e.lineNumber=f.appendChild(E("div",L(t.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),l)for(var d=0;d<t.display.gutterSpecs.length;++d){var v=t.display.gutterSpecs[d].className,C=l.hasOwnProperty(v)&&l[v];C&&f.appendChild(E("div",[C],"CodeMirror-gutter-elt","left: "+n.gutterLeft[v]+"px; width: "+n.gutterWidth[v]+"px"))}}}function zf(t,e,r){e.alignable&&(e.alignable=null);for(var n=rt("CodeMirror-linewidget"),i=e.node.firstChild,l=void 0;i;i=l)l=i.nextSibling,n.test(i.className)&&e.node.removeChild(i);is(t,e,r)}function $f(t,e,r,n){var i=ns(t,e);return e.text=e.node=i.pre,i.bgClass&&(e.bgClass=i.bgClass),i.textClass&&(e.textClass=i.textClass),sa(t,e),rs(t,e,r,n),is(t,e,n),e.node}function is(t,e,r){if(os(t,e.line,e,r,!0),e.rest)for(var n=0;n<e.rest.length;n++)os(t,e.rest[n],e,r,!1)}function os(t,e,r,n,i){if(e.widgets)for(var l=li(r),c=0,f=e.widgets;c<f.length;++c){var d=f[c],v=E("div",[d.node],"CodeMirror-linewidget"+(d.className?" "+d.className:""));d.handleMouseEvents||v.setAttribute("cm-ignore-events","true"),Uf(d,v,r,n),t.display.input.setUneditable(v),i&&d.above?l.insertBefore(v,r.gutter||r.text):l.appendChild(v),ve(d,"redraw")}}function Uf(t,e,r,n){if(t.noHScroll){(r.alignable||(r.alignable=[])).push(e);var i=n.wrapperWidth;e.style.left=n.fixedPos+"px",t.coverGutter||(i-=n.gutterTotalWidth,e.style.paddingLeft=n.gutterTotalWidth+"px"),e.style.width=i+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-n.gutterTotalWidth+"px"))}function si(t){if(t.height!=null)return t.height;var e=t.doc.cm;if(!e)return 0;if(!xe(document.body,t.node)){var r="position: relative;";t.coverGutter&&(r+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(r+="width: "+e.display.wrapper.clientWidth+"px;"),at(e.display.measure,E("div",[t.node],null,r))}return t.height=t.node.parentNode.offsetHeight}function An(t,e){for(var r=_e(e);r!=t.wrapper;r=r.parentNode)if(!r||r.nodeType==1&&r.getAttribute("cm-ignore-events")=="true"||r.parentNode==t.sizer&&r!=t.mover)return!0}function Zi(t){return t.lineSpace.offsetTop}function ca(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function as(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=at(t.measure,E("pre","x","CodeMirror-line-like")),r=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return!isNaN(n.left)&&!isNaN(n.right)&&(t.cachedPaddingH=n),n}function yn(t){return ar-t.display.nativeBarWidth}function sr(t){return t.display.scroller.clientWidth-yn(t)-t.display.barWidth}function ua(t){return t.display.scroller.clientHeight-yn(t)-t.display.barHeight}function Kf(t,e,r){var n=t.options.lineWrapping,i=n&&sr(t);if(!e.measure.heights||n&&e.measure.width!=i){var l=e.measure.heights=[];if(n){e.measure.width=i;for(var c=e.text.firstChild.getClientRects(),f=0;f<c.length-1;f++){var d=c[f],v=c[f+1];Math.abs(d.bottom-v.bottom)>2&&l.push((d.bottom+v.top)/2-r.top)}}l.push(r.bottom-r.top)}}function ls(t,e,r){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};if(t.rest){for(var n=0;n<t.rest.length;n++)if(t.rest[n]==e)return{map:t.measure.maps[n],cache:t.measure.caches[n]};for(var i=0;i<t.rest.length;i++)if(Rt(t.rest[i])>r)return{map:t.measure.maps[i],cache:t.measure.caches[i],before:!0}}}function Xf(t,e){e=on(e);var r=Rt(e),n=t.display.externalMeasured=new ts(t.doc,e,r);n.lineN=r;var i=n.built=Zl(t,n);return n.text=i.pre,at(t.display.lineMeasure,i.pre),n}function ss(t,e,r,n){return bn(t,Ar(t,e),r,n)}function fa(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[fr(t,e)];var r=t.display.externalMeasured;if(r&&e>=r.lineN&&e<r.lineN+r.size)return r}function Ar(t,e){var r=Rt(e),n=fa(t,r);n&&!n.text?n=null:n&&n.changes&&(es(t,n,r,va(t)),t.curOp.forceUpdate=!0),n||(n=Xf(t,e));var i=ls(n,e,r);return{line:e,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function bn(t,e,r,n,i){e.before&&(r=-1);var l=r+(n||""),c;return e.cache.hasOwnProperty(l)?c=e.cache[l]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(Kf(t,e.view,e.rect),e.hasHeights=!0),c=Qf(t,e,r,n),c.bogus||(e.cache[l]=c)),{left:c.left,right:c.right,top:i?c.rtop:c.top,bottom:i?c.rbottom:c.bottom}}var cs={left:0,right:0,top:0,bottom:0};function us(t,e,r){for(var n,i,l,c,f,d,v=0;v<t.length;v+=3)if(f=t[v],d=t[v+1],e<f?(i=0,l=1,c="left"):e<d?(i=e-f,l=i+1):(v==t.length-3||e==d&&t[v+3]>e)&&(l=d-f,i=l-1,e>=d&&(c="right")),i!=null){if(n=t[v+2],f==d&&r==(n.insertLeft?"left":"right")&&(c=r),r=="left"&&i==0)for(;v&&t[v-2]==t[v-3]&&t[v-1].insertLeft;)n=t[(v-=3)+2],c="left";if(r=="right"&&i==d-f)for(;v<t.length-3&&t[v+3]==t[v+4]&&!t[v+5].insertLeft;)n=t[(v+=3)+2],c="right";break}return{node:n,start:i,end:l,collapse:c,coverStart:f,coverEnd:d}}function Gf(t,e){var r=cs;if(e=="left")for(var n=0;n<t.length&&(r=t[n]).left==r.right;n++);else for(var i=t.length-1;i>=0&&(r=t[i]).left==r.right;i--);return r}function Qf(t,e,r,n){var i=us(e.map,r,n),l=i.node,c=i.start,f=i.end,d=i.collapse,v;if(l.nodeType==3){for(var C=0;C<4;C++){for(;c&&ot(e.line.text.charAt(i.coverStart+c));)--c;for(;i.coverStart+f<i.coverEnd&&ot(e.line.text.charAt(i.coverStart+f));)++f;if(k&&w<9&&c==0&&f==i.coverEnd-i.coverStart?v=l.parentNode.getBoundingClientRect():v=Gf(Ft(l,c,f).getClientRects(),n),v.left||v.right||c==0)break;f=c,c=c-1,d="right"}k&&w<11&&(v=Yf(t.display.measure,v))}else{c>0&&(d=n="right");var O;t.options.lineWrapping&&(O=l.getClientRects()).length>1?v=O[n=="right"?O.length-1:0]:v=l.getBoundingClientRect()}if(k&&w<9&&!c&&(!v||!v.left&&!v.right)){var j=l.parentNode.getClientRects()[0];j?v={left:j.left,right:j.left+Er(t.display),top:j.top,bottom:j.bottom}:v=cs}for(var F=v.top-e.rect.top,$=v.bottom-e.rect.top,Y=(F+$)/2,it=e.view.measure.heights,st=0;st<it.length-1&&!(Y<it[st]);st++);var ft=st?it[st-1]:0,ct=it[st],ht={left:(d=="right"?v.right:v.left)-e.rect.left,right:(d=="left"?v.left:v.right)-e.rect.left,top:ft,bottom:ct};return!v.left&&!v.right&&(ht.bogus=!0),t.options.singleCursorHeightPerLine||(ht.rtop=F,ht.rbottom=$),ht}function Yf(t,e){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Vi(t))return e;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*r,right:e.right*r,top:e.top*n,bottom:e.bottom*n}}function fs(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function hs(t){t.display.externalMeasure=null,B(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)fs(t.display.view[e])}function ci(t){hs(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function ds(t){return M&&Q?-(t.body.getBoundingClientRect().left-parseInt(getComputedStyle(t.body).marginLeft)):t.defaultView.pageXOffset||(t.documentElement||t.body).scrollLeft}function ps(t){return M&&Q?-(t.body.getBoundingClientRect().top-parseInt(getComputedStyle(t.body).marginTop)):t.defaultView.pageYOffset||(t.documentElement||t.body).scrollTop}function ha(t){var e=on(t),r=e.widgets,n=0;if(r)for(var i=0;i<r.length;++i)r[i].above&&(n+=si(r[i]));return n}function Ji(t,e,r,n,i){if(!i){var l=ha(e);r.top+=l,r.bottom+=l}if(n=="line")return r;n||(n="local");var c=Ln(e);if(n=="local"?c+=Zi(t.display):c-=t.display.viewOffset,n=="page"||n=="window"){var f=t.display.lineSpace.getBoundingClientRect();c+=f.top+(n=="window"?0:ps(Jt(t)));var d=f.left+(n=="window"?0:ds(Jt(t)));r.left+=d,r.right+=d}return r.top+=c,r.bottom+=c,r}function gs(t,e,r){if(r=="div")return e;var n=e.left,i=e.top;if(r=="page")n-=ds(Jt(t)),i-=ps(Jt(t));else if(r=="local"||!r){var l=t.display.sizer.getBoundingClientRect();n+=l.left,i+=l.top}var c=t.display.lineSpace.getBoundingClientRect();return{left:n-c.left,top:i-c.top}}function to(t,e,r,n,i){return n||(n=pt(t.doc,e.line)),Ji(t,n,ss(t,n,e.ch,i),r)}function an(t,e,r,n,i,l){n=n||pt(t.doc,e.line),i||(i=Ar(t,n));function c($,Y){var it=bn(t,i,$,Y?"right":"left",l);return Y?it.left=it.right:it.right=it.left,Ji(t,n,it,r)}var f=$t(n,t.doc.direction),d=e.ch,v=e.sticky;if(d>=n.text.length?(d=n.text.length,v="before"):d<=0&&(d=0,v="after"),!f)return c(v=="before"?d-1:d,v=="before");function C($,Y,it){var st=f[Y],ft=st.level==1;return c(it?$-1:$,ft!=it)}var O=Et(f,d,v),j=jt,F=C(d,O,v=="before");return j!=null&&(F.other=C(d,j,v!="before")),F}function vs(t,e){var r=0;e=St(t.doc,e),t.options.lineWrapping||(r=Er(t.display)*e.ch);var n=pt(t.doc,e.line),i=Ln(n)+Zi(t.display);return{left:r,right:r,top:i,bottom:i+n.height}}function da(t,e,r,n,i){var l=_(t,e,r);return l.xRel=i,n&&(l.outside=n),l}function pa(t,e,r){var n=t.doc;if(r+=t.display.viewOffset,r<0)return da(n.first,0,null,-1,-1);var i=vn(n,r),l=n.first+n.size-1;if(i>l)return da(n.first+n.size-1,pt(n,l).text.length,null,1,1);e<0&&(e=0);for(var c=pt(n,i);;){var f=qf(t,c,i,e,r),d=Mf(c,f.ch+(f.xRel>0||f.outside>0?1:0));if(!d)return f;var v=d.find(1);if(v.line==i)return v;c=pt(n,i=v.line)}}function ms(t,e,r,n){n-=ha(e);var i=e.text.length,l=gt(function(c){return bn(t,r,c-1).bottom<=n},i,0);return i=gt(function(c){return bn(t,r,c).top>n},l,i),{begin:l,end:i}}function ys(t,e,r,n){r||(r=Ar(t,e));var i=Ji(t,e,bn(t,r,n),"line").top;return ms(t,e,r,i)}function ga(t,e,r,n){return t.bottom<=r?!1:t.top>r?!0:(n?t.left:t.right)>e}function qf(t,e,r,n,i){i-=Ln(e);var l=Ar(t,e),c=ha(e),f=0,d=e.text.length,v=!0,C=$t(e,t.doc.direction);if(C){var O=(t.options.lineWrapping?Jf:Zf)(t,e,r,l,C,n,i);v=O.level!=1,f=v?O.from:O.to-1,d=v?O.to:O.from-1}var j=null,F=null,$=gt(function(wt){var mt=bn(t,l,wt);return mt.top+=c,mt.bottom+=c,ga(mt,n,i,!1)?(mt.top<=i&&mt.left<=n&&(j=wt,F=mt),!0):!1},f,d),Y,it,st=!1;if(F){var ft=n-F.left<F.right-n,ct=ft==v;$=j+(ct?0:1),it=ct?"after":"before",Y=ft?F.left:F.right}else{!v&&($==d||$==f)&&$++,it=$==0?"after":$==e.text.length?"before":bn(t,l,$-(v?1:0)).bottom+c<=i==v?"after":"before";var ht=an(t,_(r,$,it),"line",e,l);Y=ht.left,st=i<ht.top?-1:i>=ht.bottom?1:0}return $=yt(e.text,$,1),da(r,$,it,st,n-Y)}function Zf(t,e,r,n,i,l,c){var f=gt(function(O){var j=i[O],F=j.level!=1;return ga(an(t,_(r,F?j.to:j.from,F?"before":"after"),"line",e,n),l,c,!0)},0,i.length-1),d=i[f];if(f>0){var v=d.level!=1,C=an(t,_(r,v?d.from:d.to,v?"after":"before"),"line",e,n);ga(C,l,c,!0)&&C.top>c&&(d=i[f-1])}return d}function Jf(t,e,r,n,i,l,c){var f=ms(t,e,n,c),d=f.begin,v=f.end;/\s/.test(e.text.charAt(v-1))&&v--;for(var C=null,O=null,j=0;j<i.length;j++){var F=i[j];if(!(F.from>=v||F.to<=d)){var $=F.level!=1,Y=bn(t,n,$?Math.min(v,F.to)-1:Math.max(d,F.from)).right,it=Y<l?l-Y+1e9:Y-l;(!C||O>it)&&(C=F,O=it)}}return C||(C=i[i.length-1]),C.from<d&&(C={from:d,to:C.to,level:C.level}),C.to>v&&(C={from:C.from,to:v,level:C.level}),C}var cr;function Dr(t){if(t.cachedTextHeight!=null)return t.cachedTextHeight;if(cr==null){cr=E("pre",null,"CodeMirror-line-like");for(var e=0;e<49;++e)cr.appendChild(document.createTextNode("x")),cr.appendChild(E("br"));cr.appendChild(document.createTextNode("x"))}at(t.measure,cr);var r=cr.offsetHeight/50;return r>3&&(t.cachedTextHeight=r),B(t.measure),r||1}function Er(t){if(t.cachedCharWidth!=null)return t.cachedCharWidth;var e=E("span","xxxxxxxxxx"),r=E("pre",[e],"CodeMirror-line-like");at(t.measure,r);var n=e.getBoundingClientRect(),i=(n.right-n.left)/10;return i>2&&(t.cachedCharWidth=i),i||10}function va(t){for(var e=t.display,r={},n={},i=e.gutters.clientLeft,l=e.gutters.firstChild,c=0;l;l=l.nextSibling,++c){var f=t.display.gutterSpecs[c].className;r[f]=l.offsetLeft+l.clientLeft+i,n[f]=l.clientWidth}return{fixedPos:ma(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:e.wrapper.clientWidth}}function ma(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function bs(t){var e=Dr(t.display),r=t.options.lineWrapping,n=r&&Math.max(5,t.display.scroller.clientWidth/Er(t.display)-3);return function(i){if(zn(t.doc,i))return 0;var l=0;if(i.widgets)for(var c=0;c<i.widgets.length;c++)i.widgets[c].height&&(l+=i.widgets[c].height);return r?l+(Math.ceil(i.text.length/n)||1)*e:l+e}}function ya(t){var e=t.doc,r=bs(t);e.iter(function(n){var i=r(n);i!=n.height&&Ze(n,i)})}function ur(t,e,r,n){var i=t.display;if(!r&&_e(e).getAttribute("cm-not-content")=="true")return null;var l,c,f=i.lineSpace.getBoundingClientRect();try{l=e.clientX-f.left,c=e.clientY-f.top}catch{return null}var d=pa(t,l,c),v;if(n&&d.xRel>0&&(v=pt(t.doc,d.line).text).length==d.ch){var C=vt(v,v.length,t.options.tabSize)-v.length;d=_(d.line,Math.max(0,Math.round((l-as(t.display).left)/Er(t.display))-C))}return d}function fr(t,e){if(e>=t.display.viewTo||(e-=t.display.viewFrom,e<0))return null;for(var r=t.display.view,n=0;n<r.length;n++)if(e-=r[n].size,e<0)return n}function Ne(t,e,r,n){e==null&&(e=t.doc.first),r==null&&(r=t.doc.first+t.doc.size),n||(n=0);var i=t.display;if(n&&r<i.viewTo&&(i.updateLineNumbers==null||i.updateLineNumbers>e)&&(i.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=i.viewTo)On&&oa(t.doc,e)<i.viewTo&&Un(t);else if(r<=i.viewFrom)On&&Yl(t.doc,r+n)>i.viewFrom?Un(t):(i.viewFrom+=n,i.viewTo+=n);else if(e<=i.viewFrom&&r>=i.viewTo)Un(t);else if(e<=i.viewFrom){var l=eo(t,r,r+n,1);l?(i.view=i.view.slice(l.index),i.viewFrom=l.lineN,i.viewTo+=n):Un(t)}else if(r>=i.viewTo){var c=eo(t,e,e,-1);c?(i.view=i.view.slice(0,c.index),i.viewTo=c.lineN):Un(t)}else{var f=eo(t,e,e,-1),d=eo(t,r,r+n,1);f&&d?(i.view=i.view.slice(0,f.index).concat(qi(t,f.lineN,d.lineN)).concat(i.view.slice(d.index)),i.viewTo+=n):Un(t)}var v=i.externalMeasured;v&&(r<v.lineN?v.lineN+=n:e<v.lineN+v.size&&(i.externalMeasured=null))}function $n(t,e,r){t.curOp.viewChanged=!0;var n=t.display,i=t.display.externalMeasured;if(i&&e>=i.lineN&&e<i.lineN+i.size&&(n.externalMeasured=null),!(e<n.viewFrom||e>=n.viewTo)){var l=n.view[fr(t,e)];if(l.node!=null){var c=l.changes||(l.changes=[]);Ot(c,r)==-1&&c.push(r)}}}function Un(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function eo(t,e,r,n){var i=fr(t,e),l,c=t.display.view;if(!On||r==t.doc.first+t.doc.size)return{index:i,lineN:r};for(var f=t.display.viewFrom,d=0;d<i;d++)f+=c[d].size;if(f!=e){if(n>0){if(i==c.length-1)return null;l=f+c[i].size-e,i++}else l=f-e;e+=l,r+=l}for(;oa(t.doc,r)!=r;){if(i==(n<0?0:c.length-1))return null;r+=n*c[i-(n<0?1:0)].size,i+=n}return{index:i,lineN:r}}function th(t,e,r){var n=t.display,i=n.view;i.length==0||e>=n.viewTo||r<=n.viewFrom?(n.view=qi(t,e,r),n.viewFrom=e):(n.viewFrom>e?n.view=qi(t,e,n.viewFrom).concat(n.view):n.viewFrom<e&&(n.view=n.view.slice(fr(t,e))),n.viewFrom=e,n.viewTo<r?n.view=n.view.concat(qi(t,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,fr(t,r)))),n.viewTo=r}function ws(t){for(var e=t.display.view,r=0,n=0;n<e.length;n++){var i=e[n];!i.hidden&&(!i.node||i.changes)&&++r}return r}function ui(t){t.display.input.showSelection(t.display.input.prepareSelection())}function xs(t,e){e===void 0&&(e=!0);var r=t.doc,n={},i=n.cursors=document.createDocumentFragment(),l=n.selection=document.createDocumentFragment(),c=t.options.$customCursor;c&&(e=!0);for(var f=0;f<r.sel.ranges.length;f++)if(!(!e&&f==r.sel.primIndex)){var d=r.sel.ranges[f];if(!(d.from().line>=t.display.viewTo||d.to().line<t.display.viewFrom)){var v=d.empty();if(c){var C=c(t,d);C&&ba(t,C,i)}else(v||t.options.showCursorWhenSelecting)&&ba(t,d.head,i);v||eh(t,d,l)}}return n}function ba(t,e,r){var n=an(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),i=r.appendChild(E("div"," ","CodeMirror-cursor"));if(i.style.left=n.left+"px",i.style.top=n.top+"px",i.style.height=Math.max(0,n.bottom-n.top)*t.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(t.getWrapperElement().className)){var l=to(t,e,"div",null,null),c=l.right-l.left;i.style.width=(c>0?c:t.defaultCharWidth())+"px"}if(n.other){var f=r.appendChild(E("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));f.style.display="",f.style.left=n.other.left+"px",f.style.top=n.other.top+"px",f.style.height=(n.other.bottom-n.other.top)*.85+"px"}}function no(t,e){return t.top-e.top||t.left-e.left}function eh(t,e,r){var n=t.display,i=t.doc,l=document.createDocumentFragment(),c=as(t.display),f=c.left,d=Math.max(n.sizerWidth,sr(t)-n.sizer.offsetLeft)-c.right,v=i.direction=="ltr";function C(ct,ht,wt,mt){ht<0&&(ht=0),ht=Math.round(ht),mt=Math.round(mt),l.appendChild(E("div",null,"CodeMirror-selected","position: absolute; left: "+ct+`px;
                             top: `+ht+"px; width: "+(wt??d-ct)+`px;
                             height: `+(mt-ht)+"px"))}function O(ct,ht,wt){var mt=pt(i,ct),Lt=mt.text.length,Ut,be;function te(se,je){return to(t,_(ct,se),"div",mt,je)}function ze(se,je,ke){var de=ys(t,mt,null,se),ce=je=="ltr"==(ke=="after")?"left":"right",ie=ke=="after"?de.begin:de.end-(/\s/.test(mt.text.charAt(de.end-1))?2:1);return te(ie,ce)[ce]}var Fe=$t(mt,i.direction);return Dt(Fe,ht||0,wt??Lt,function(se,je,ke,de){var ce=ke=="ltr",ie=te(se,ce?"left":"right"),We=te(je-1,ce?"right":"left"),$r=ht==null&&se==0,qn=wt==null&&je==Lt,Se=de==0,wn=!Fe||de==Fe.length-1;if(We.top-ie.top<=3){var we=(v?$r:qn)&&Se,Ka=(v?qn:$r)&&wn,_n=we?f:(ce?ie:We).left,vr=Ka?d:(ce?We:ie).right;C(_n,ie.top,vr-_n,ie.bottom)}else{var mr,De,Ur,Xa;ce?(mr=v&&$r&&Se?f:ie.left,De=v?d:ze(se,ke,"before"),Ur=v?f:ze(je,ke,"after"),Xa=v&&qn&&wn?d:We.right):(mr=v?ze(se,ke,"before"):f,De=!v&&$r&&Se?d:ie.right,Ur=!v&&qn&&wn?f:We.left,Xa=v?ze(je,ke,"after"):d),C(mr,ie.top,De-mr,ie.bottom),ie.bottom<We.top&&C(f,ie.bottom,null,We.top),C(Ur,We.top,Xa-Ur,We.bottom)}(!Ut||no(ie,Ut)<0)&&(Ut=ie),no(We,Ut)<0&&(Ut=We),(!be||no(ie,be)<0)&&(be=ie),no(We,be)<0&&(be=We)}),{start:Ut,end:be}}var j=e.from(),F=e.to();if(j.line==F.line)O(j.line,j.ch,F.ch);else{var $=pt(i,j.line),Y=pt(i,F.line),it=on($)==on(Y),st=O(j.line,j.ch,it?$.text.length+1:null).end,ft=O(F.line,it?0:null,F.ch).start;it&&(st.top<ft.top-2?(C(st.right,st.top,null,st.bottom),C(f,ft.top,ft.left,ft.bottom)):C(st.right,st.top,ft.left-st.right,st.bottom)),st.bottom<ft.top&&C(f,st.bottom,null,ft.top)}r.appendChild(l)}function wa(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var r=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval(function(){t.hasFocus()||_r(t),e.cursorDiv.style.visibility=(r=!r)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function ks(t){t.hasFocus()||(t.display.input.focus(),t.state.focused||ka(t))}function xa(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,t.state.focused&&_r(t))},100)}function ka(t,e){t.state.delayingBlurEvent&&!t.state.draggingText&&(t.state.delayingBlurEvent=!1),t.options.readOnly!="nocursor"&&(t.state.focused||(Bt(t,"focus",t,e),t.state.focused=!0,pe(t.display.wrapper,"CodeMirror-focused"),!t.curOp&&t.display.selForContextMenu!=t.doc.sel&&(t.display.input.reset(),x&&setTimeout(function(){return t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),wa(t))}function _r(t,e){t.state.delayingBlurEvent||(t.state.focused&&(Bt(t,"blur",t,e),t.state.focused=!1,dt(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function ro(t){for(var e=t.display,r=e.lineDiv.offsetTop,n=Math.max(0,e.scroller.getBoundingClientRect().top),i=e.lineDiv.getBoundingClientRect().top,l=0,c=0;c<e.view.length;c++){var f=e.view[c],d=t.options.lineWrapping,v=void 0,C=0;if(!f.hidden){if(i+=f.line.height,k&&w<8){var O=f.node.offsetTop+f.node.offsetHeight;v=O-r,r=O}else{var j=f.node.getBoundingClientRect();v=j.bottom-j.top,!d&&f.text.firstChild&&(C=f.text.firstChild.getBoundingClientRect().right-j.left-1)}var F=f.line.height-v;if((F>.005||F<-.005)&&(i<n&&(l-=F),Ze(f.line,v),Cs(f.line),f.rest))for(var $=0;$<f.rest.length;$++)Cs(f.rest[$]);if(C>t.display.sizerWidth){var Y=Math.ceil(C/Er(t.display));Y>t.display.maxLineLength&&(t.display.maxLineLength=Y,t.display.maxLine=f.line,t.display.maxLineChanged=!0)}}}Math.abs(l)>2&&(e.scroller.scrollTop+=l)}function Cs(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e){var r=t.widgets[e],n=r.node.parentNode;n&&(r.height=n.offsetHeight)}}function io(t,e,r){var n=r&&r.top!=null?Math.max(0,r.top):t.scroller.scrollTop;n=Math.floor(n-Zi(t));var i=r&&r.bottom!=null?r.bottom:n+t.wrapper.clientHeight,l=vn(e,n),c=vn(e,i);if(r&&r.ensure){var f=r.ensure.from.line,d=r.ensure.to.line;f<l?(l=f,c=vn(e,Ln(pt(e,f))+t.wrapper.clientHeight)):Math.min(d,e.lastLine())>=c&&(l=vn(e,Ln(pt(e,d))-t.wrapper.clientHeight),c=d)}return{from:l,to:Math.max(c,l+1)}}function nh(t,e){if(!Qt(t,"scrollCursorIntoView")){var r=t.display,n=r.sizer.getBoundingClientRect(),i=null,l=r.wrapper.ownerDocument;if(e.top+n.top<0?i=!0:e.bottom+n.top>(l.defaultView.innerHeight||l.documentElement.clientHeight)&&(i=!1),i!=null&&!V){var c=E("div","​",null,`position: absolute;
                         top: `+(e.top-r.viewOffset-Zi(t.display))+`px;
                         height: `+(e.bottom-e.top+yn(t)+r.barHeight)+`px;
                         left: `+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(c),c.scrollIntoView(i),t.display.lineSpace.removeChild(c)}}}function rh(t,e,r,n){n==null&&(n=0);var i;!t.options.lineWrapping&&e==r&&(r=e.sticky=="before"?_(e.line,e.ch+1,"before"):e,e=e.ch?_(e.line,e.sticky=="before"?e.ch-1:e.ch,"after"):e);for(var l=0;l<5;l++){var c=!1,f=an(t,e),d=!r||r==e?f:an(t,r);i={left:Math.min(f.left,d.left),top:Math.min(f.top,d.top)-n,right:Math.max(f.left,d.left),bottom:Math.max(f.bottom,d.bottom)+n};var v=Ca(t,i),C=t.doc.scrollTop,O=t.doc.scrollLeft;if(v.scrollTop!=null&&(hi(t,v.scrollTop),Math.abs(t.doc.scrollTop-C)>1&&(c=!0)),v.scrollLeft!=null&&(hr(t,v.scrollLeft),Math.abs(t.doc.scrollLeft-O)>1&&(c=!0)),!c)break}return i}function ih(t,e){var r=Ca(t,e);r.scrollTop!=null&&hi(t,r.scrollTop),r.scrollLeft!=null&&hr(t,r.scrollLeft)}function Ca(t,e){var r=t.display,n=Dr(t.display);e.top<0&&(e.top=0);var i=t.curOp&&t.curOp.scrollTop!=null?t.curOp.scrollTop:r.scroller.scrollTop,l=ua(t),c={};e.bottom-e.top>l&&(e.bottom=e.top+l);var f=t.doc.height+ca(r),d=e.top<n,v=e.bottom>f-n;if(e.top<i)c.scrollTop=d?0:e.top;else if(e.bottom>i+l){var C=Math.min(e.top,(v?f:e.bottom)-l);C!=i&&(c.scrollTop=C)}var O=t.options.fixedGutter?0:r.gutters.offsetWidth,j=t.curOp&&t.curOp.scrollLeft!=null?t.curOp.scrollLeft:r.scroller.scrollLeft-O,F=sr(t)-r.gutters.offsetWidth,$=e.right-e.left>F;return $&&(e.right=e.left+F),e.left<10?c.scrollLeft=0:e.left<j?c.scrollLeft=Math.max(0,e.left+O-($?0:10)):e.right>F+j-3&&(c.scrollLeft=e.right+($?0:10)-F),c}function Sa(t,e){e!=null&&(oo(t),t.curOp.scrollTop=(t.curOp.scrollTop==null?t.doc.scrollTop:t.curOp.scrollTop)+e)}function Nr(t){oo(t);var e=t.getCursor();t.curOp.scrollToPos={from:e,to:e,margin:t.options.cursorScrollMargin}}function fi(t,e,r){(e!=null||r!=null)&&oo(t),e!=null&&(t.curOp.scrollLeft=e),r!=null&&(t.curOp.scrollTop=r)}function oh(t,e){oo(t),t.curOp.scrollToPos=e}function oo(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var r=vs(t,e.from),n=vs(t,e.to);Ss(t,r,n,e.margin)}}function Ss(t,e,r,n){var i=Ca(t,{left:Math.min(e.left,r.left),top:Math.min(e.top,r.top)-n,right:Math.max(e.right,r.right),bottom:Math.max(e.bottom,r.bottom)+n});fi(t,i.scrollLeft,i.scrollTop)}function hi(t,e){Math.abs(t.doc.scrollTop-e)<2||(g||Ta(t,{top:e}),Ms(t,e,!0),g&&Ta(t),gi(t,100))}function Ms(t,e,r){e=Math.max(0,Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,e)),!(t.display.scroller.scrollTop==e&&!r)&&(t.doc.scrollTop=e,t.display.scrollbars.setScrollTop(e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e))}function hr(t,e,r,n){e=Math.max(0,Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth)),!((r?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)&&!n)&&(t.doc.scrollLeft=e,Ds(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function di(t){var e=t.display,r=e.gutters.offsetWidth,n=Math.round(t.doc.height+ca(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+yn(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:r}}var dr=function(t,e,r){this.cm=r;var n=this.vert=E("div",[E("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=E("div",[E("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=i.tabIndex=-1,t(n),t(i),nt(n,"scroll",function(){n.clientHeight&&e(n.scrollTop,"vertical")}),nt(i,"scroll",function(){i.clientWidth&&e(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,k&&w<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};dr.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,r=t.scrollHeight>t.clientHeight+1,n=t.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=e?n+"px":"0";var i=t.viewHeight-(e?n:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+i)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=t.barLeft+"px";var l=t.viewWidth-t.barLeft-(r?n:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+l)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(n==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:e?n:0}},dr.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},dr.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},dr.prototype.zeroWidthHack=function(){var t=J&&!H?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Mt,this.disableVert=new Mt},dr.prototype.enableZeroWidthBar=function(t,e,r){t.style.visibility="";function n(){var i=t.getBoundingClientRect(),l=r=="vert"?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1);l!=t?t.style.visibility="hidden":e.set(1e3,n)}e.set(1e3,n)},dr.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var pi=function(){};pi.prototype.update=function(){return{bottom:0,right:0}},pi.prototype.setScrollLeft=function(){},pi.prototype.setScrollTop=function(){},pi.prototype.clear=function(){};function Ir(t,e){e||(e=di(t));var r=t.display.barWidth,n=t.display.barHeight;Ts(t,e);for(var i=0;i<4&&r!=t.display.barWidth||n!=t.display.barHeight;i++)r!=t.display.barWidth&&t.options.lineWrapping&&ro(t),Ts(t,di(t)),r=t.display.barWidth,n=t.display.barHeight}function Ts(t,e){var r=t.display,n=r.scrollbars.update(e);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=e.gutterWidth+"px"):r.gutterFiller.style.display=""}var Os={native:dr,null:pi};function Ls(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&dt(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new Os[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),nt(e,"mousedown",function(){t.state.focused&&setTimeout(function(){return t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,r){r=="horizontal"?hr(t,e):hi(t,e)},t),t.display.scrollbars.addClass&&pe(t.display.wrapper,t.display.scrollbars.addClass)}var ah=0;function pr(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++ah,markArrays:null},Wf(t.curOp)}function gr(t){var e=t.curOp;e&&Pf(e,function(r){for(var n=0;n<r.ops.length;n++)r.ops[n].cm.curOp=null;lh(r)})}function lh(t){for(var e=t.ops,r=0;r<e.length;r++)sh(e[r]);for(var n=0;n<e.length;n++)ch(e[n]);for(var i=0;i<e.length;i++)uh(e[i]);for(var l=0;l<e.length;l++)fh(e[l]);for(var c=0;c<e.length;c++)hh(e[c])}function sh(t){var e=t.cm,r=e.display;ph(e),t.updateMaxLine&&la(e),t.mustUpdate=t.viewChanged||t.forceUpdate||t.scrollTop!=null||t.scrollToPos&&(t.scrollToPos.from.line<r.viewFrom||t.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new ao(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function ch(t){t.updatedDisplay=t.mustUpdate&&Ma(t.cm,t.update)}function uh(t){var e=t.cm,r=e.display;t.updatedDisplay&&ro(e),t.barMeasure=di(e),r.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=ss(e,r.maxLine,r.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+t.adjustWidthTo+yn(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+t.adjustWidthTo-sr(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=r.input.prepareSelection())}function fh(t){var e=t.cm;t.adjustWidthTo!=null&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&hr(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var r=t.focus&&t.focus==Zt(Jt(e));t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,r),(t.updatedDisplay||t.startHeight!=e.doc.height)&&Ir(e,t.barMeasure),t.updatedDisplay&&La(e,t.barMeasure),t.selectionChanged&&wa(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),r&&ks(t.cm)}function hh(t){var e=t.cm,r=e.display,n=e.doc;if(t.updatedDisplay&&As(e,t.update),r.wheelStartX!=null&&(t.scrollTop!=null||t.scrollLeft!=null||t.scrollToPos)&&(r.wheelStartX=r.wheelStartY=null),t.scrollTop!=null&&Ms(e,t.scrollTop,t.forceScroll),t.scrollLeft!=null&&hr(e,t.scrollLeft,!0,!0),t.scrollToPos){var i=rh(e,St(n,t.scrollToPos.from),St(n,t.scrollToPos.to),t.scrollToPos.margin);nh(e,i)}var l=t.maybeHiddenMarkers,c=t.maybeUnhiddenMarkers;if(l)for(var f=0;f<l.length;++f)l[f].lines.length||Bt(l[f],"hide");if(c)for(var d=0;d<c.length;++d)c[d].lines.length&&Bt(c[d],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&Bt(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function Ve(t,e){if(t.curOp)return e();pr(t);try{return e()}finally{gr(t)}}function me(t,e){return function(){if(t.curOp)return e.apply(t,arguments);pr(t);try{return e.apply(t,arguments)}finally{gr(t)}}}function Ae(t){return function(){if(this.curOp)return t.apply(this,arguments);pr(this);try{return t.apply(this,arguments)}finally{gr(this)}}}function ye(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);pr(e);try{return t.apply(this,arguments)}finally{gr(e)}}}function gi(t,e){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(e,Xt(dh,t))}function dh(t){var e=t.doc;if(!(e.highlightFrontier>=t.display.viewTo)){var r=+new Date+t.options.workTime,n=ii(t,e.highlightFrontier),i=[];e.iter(n.line,Math.min(e.first+e.size,t.display.viewTo+500),function(l){if(n.line>=t.display.viewFrom){var c=l.styles,f=l.text.length>t.options.maxHighlightLength?Mn(e.mode,n.state):null,d=jl(t,l,n,!0);f&&(n.state=f),l.styles=d.styles;var v=l.styleClasses,C=d.classes;C?l.styleClasses=C:v&&(l.styleClasses=null);for(var O=!c||c.length!=l.styles.length||v!=C&&(!v||!C||v.bgClass!=C.bgClass||v.textClass!=C.textClass),j=0;!O&&j<c.length;++j)O=c[j]!=l.styles[j];O&&i.push(n.line),l.stateAfter=n.save(),n.nextLine()}else l.text.length<=t.options.maxHighlightLength&&ea(t,l.text,n),l.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>r)return gi(t,t.options.workDelay),!0}),e.highlightFrontier=n.line,e.modeFrontier=Math.max(e.modeFrontier,n.line),i.length&&Ve(t,function(){for(var l=0;l<i.length;l++)$n(t,i[l],"text")})}}var ao=function(t,e,r){var n=t.display;this.viewport=e,this.visible=io(n,t.doc,e),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=sr(t),this.force=r,this.dims=va(t),this.events=[]};ao.prototype.signal=function(t,e){fe(t,e)&&this.events.push(arguments)},ao.prototype.finish=function(){for(var t=0;t<this.events.length;t++)Bt.apply(null,this.events[t])};function ph(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=yn(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=yn(t)+"px",e.scrollbarsClipped=!0)}function gh(t){if(t.hasFocus())return null;var e=Zt(Jt(t));if(!e||!xe(t.display.lineDiv,e))return null;var r={activeElt:e};if(window.getSelection){var n=ge(t).getSelection();n.anchorNode&&n.extend&&xe(t.display.lineDiv,n.anchorNode)&&(r.anchorNode=n.anchorNode,r.anchorOffset=n.anchorOffset,r.focusNode=n.focusNode,r.focusOffset=n.focusOffset)}return r}function vh(t){if(!(!t||!t.activeElt||t.activeElt==Zt(t.activeElt.ownerDocument))&&(t.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(t.activeElt.nodeName)&&t.anchorNode&&xe(document.body,t.anchorNode)&&xe(document.body,t.focusNode))){var e=t.activeElt.ownerDocument,r=e.defaultView.getSelection(),n=e.createRange();n.setEnd(t.anchorNode,t.anchorOffset),n.collapse(!1),r.removeAllRanges(),r.addRange(n),r.extend(t.focusNode,t.focusOffset)}}function Ma(t,e){var r=t.display,n=t.doc;if(e.editorIsHidden)return Un(t),!1;if(!e.force&&e.visible.from>=r.viewFrom&&e.visible.to<=r.viewTo&&(r.updateLineNumbers==null||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&ws(t)==0)return!1;Es(t)&&(Un(t),e.dims=va(t));var i=n.first+n.size,l=Math.max(e.visible.from-t.options.viewportMargin,n.first),c=Math.min(i,e.visible.to+t.options.viewportMargin);r.viewFrom<l&&l-r.viewFrom<20&&(l=Math.max(n.first,r.viewFrom)),r.viewTo>c&&r.viewTo-c<20&&(c=Math.min(i,r.viewTo)),On&&(l=oa(t.doc,l),c=Yl(t.doc,c));var f=l!=r.viewFrom||c!=r.viewTo||r.lastWrapHeight!=e.wrapperHeight||r.lastWrapWidth!=e.wrapperWidth;th(t,l,c),r.viewOffset=Ln(pt(t.doc,r.viewFrom)),t.display.mover.style.top=r.viewOffset+"px";var d=ws(t);if(!f&&d==0&&!e.force&&r.renderedView==r.view&&(r.updateLineNumbers==null||r.updateLineNumbers>=r.viewTo))return!1;var v=gh(t);return d>4&&(r.lineDiv.style.display="none"),mh(t,r.updateLineNumbers,e.dims),d>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,vh(v),B(r.cursorDiv),B(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,f&&(r.lastWrapHeight=e.wrapperHeight,r.lastWrapWidth=e.wrapperWidth,gi(t,400)),r.updateLineNumbers=null,!0}function As(t,e){for(var r=e.viewport,n=!0;;n=!1){if(!n||!t.options.lineWrapping||e.oldDisplayWidth==sr(t)){if(r&&r.top!=null&&(r={top:Math.min(t.doc.height+ca(t.display)-ua(t),r.top)}),e.visible=io(t.display,t.doc,r),e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)break}else n&&(e.visible=io(t.display,t.doc,r));if(!Ma(t,e))break;ro(t);var i=di(t);ui(t),Ir(t,i),La(t,i),e.force=!1}e.signal(t,"update",t),(t.display.viewFrom!=t.display.reportedViewFrom||t.display.viewTo!=t.display.reportedViewTo)&&(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function Ta(t,e){var r=new ao(t,e);if(Ma(t,r)){ro(t),As(t,r);var n=di(t);ui(t),Ir(t,n),La(t,n),r.finish()}}function mh(t,e,r){var n=t.display,i=t.options.lineNumbers,l=n.lineDiv,c=l.firstChild;function f($){var Y=$.nextSibling;return x&&J&&t.display.currentWheelTarget==$?$.style.display="none":$.parentNode.removeChild($),Y}for(var d=n.view,v=n.viewFrom,C=0;C<d.length;C++){var O=d[C];if(!O.hidden)if(!O.node||O.node.parentNode!=l){var j=$f(t,O,v,r);l.insertBefore(j,c)}else{for(;c!=O.node;)c=f(c);var F=i&&e!=null&&e<=v&&O.lineNumber;O.changes&&(Ot(O.changes,"gutter")>-1&&(F=!1),es(t,O,v,r)),F&&(B(O.lineNumber),O.lineNumber.appendChild(document.createTextNode(L(t.options,v)))),c=O.node.nextSibling}v+=O.size}for(;c;)c=f(c)}function Oa(t){var e=t.gutters.offsetWidth;t.sizer.style.marginLeft=e+"px",ve(t,"gutterChanged",t)}function La(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+yn(t)+"px"}function Ds(t){var e=t.display,r=e.view;if(!(!e.alignWidgets&&(!e.gutters.firstChild||!t.options.fixedGutter))){for(var n=ma(e)-e.scroller.scrollLeft+t.doc.scrollLeft,i=e.gutters.offsetWidth,l=n+"px",c=0;c<r.length;c++)if(!r[c].hidden){t.options.fixedGutter&&(r[c].gutter&&(r[c].gutter.style.left=l),r[c].gutterBackground&&(r[c].gutterBackground.style.left=l));var f=r[c].alignable;if(f)for(var d=0;d<f.length;d++)f[d].style.left=l}t.options.fixedGutter&&(e.gutters.style.left=n+i+"px")}}function Es(t){if(!t.options.lineNumbers)return!1;var e=t.doc,r=L(t.options,e.first+e.size-1),n=t.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(E("div",[E("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),l=i.firstChild.offsetWidth,c=i.offsetWidth-l;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(l,n.lineGutter.offsetWidth-c)+1,n.lineNumWidth=n.lineNumInnerWidth+c,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",Oa(t.display),!0}return!1}function Aa(t,e){for(var r=[],n=!1,i=0;i<t.length;i++){var l=t[i],c=null;if(typeof l!="string"&&(c=l.style,l=l.className),l=="CodeMirror-linenumbers")if(e)n=!0;else continue;r.push({className:l,style:c})}return e&&!n&&r.push({className:"CodeMirror-linenumbers",style:null}),r}function _s(t){var e=t.gutters,r=t.gutterSpecs;B(e),t.lineGutter=null;for(var n=0;n<r.length;++n){var i=r[n],l=i.className,c=i.style,f=e.appendChild(E("div",null,"CodeMirror-gutter "+l));c&&(f.style.cssText=c),l=="CodeMirror-linenumbers"&&(t.lineGutter=f,f.style.width=(t.lineNumWidth||1)+"px")}e.style.display=r.length?"":"none",Oa(t)}function vi(t){_s(t.display),Ne(t),Ds(t)}function yh(t,e,r,n){var i=this;this.input=r,i.scrollbarFiller=E("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=E("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=Kt("div",null,"CodeMirror-code"),i.selectionDiv=E("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=E("div",null,"CodeMirror-cursors"),i.measure=E("div",null,"CodeMirror-measure"),i.lineMeasure=E("div",null,"CodeMirror-measure"),i.lineSpace=Kt("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var l=Kt("div",[i.lineSpace],"CodeMirror-lines");i.mover=E("div",[l],null,"position: relative"),i.sizer=E("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=E("div",null,null,"position: absolute; height: "+ar+"px; width: 1px;"),i.gutters=E("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=E("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=E("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),M&&T>=105&&(i.wrapper.style.clipPath="inset(0px)"),i.wrapper.setAttribute("translate","no"),k&&w<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),!x&&!(g&&G)&&(i.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(i.wrapper):t(i.wrapper)),i.viewFrom=i.viewTo=e.first,i.reportedViewFrom=i.reportedViewTo=e.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,i.gutterSpecs=Aa(n.gutters,n.lineNumbers),_s(i),r.init(i)}var lo=0,Dn=null;k?Dn=-.53:g?Dn=15:M?Dn=-.7:N&&(Dn=-1/3);function Ns(t){var e=t.wheelDeltaX,r=t.wheelDeltaY;return e==null&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),r==null&&t.detail&&t.axis==t.VERTICAL_AXIS?r=t.detail:r==null&&(r=t.wheelDelta),{x:e,y:r}}function bh(t){var e=Ns(t);return e.x*=Dn,e.y*=Dn,e}function Is(t,e){M&&T==102&&(t.display.chromeScrollHack==null?t.display.sizer.style.pointerEvents="none":clearTimeout(t.display.chromeScrollHack),t.display.chromeScrollHack=setTimeout(function(){t.display.chromeScrollHack=null,t.display.sizer.style.pointerEvents=""},100));var r=Ns(e),n=r.x,i=r.y,l=Dn;e.deltaMode===0&&(n=e.deltaX,i=e.deltaY,l=1);var c=t.display,f=c.scroller,d=f.scrollWidth>f.clientWidth,v=f.scrollHeight>f.clientHeight;if(n&&d||i&&v){if(i&&J&&x){t:for(var C=e.target,O=c.view;C!=f;C=C.parentNode)for(var j=0;j<O.length;j++)if(O[j].node==C){t.display.currentWheelTarget=C;break t}}if(n&&!g&&!D&&l!=null){i&&v&&hi(t,Math.max(0,f.scrollTop+i*l)),hr(t,Math.max(0,f.scrollLeft+n*l)),(!i||i&&v)&&ne(e),c.wheelStartX=null;return}if(i&&l!=null){var F=i*l,$=t.doc.scrollTop,Y=$+c.wrapper.clientHeight;F<0?$=Math.max(0,$+F-50):Y=Math.min(t.doc.height,Y+F+50),Ta(t,{top:$,bottom:Y})}lo<20&&e.deltaMode!==0&&(c.wheelStartX==null?(c.wheelStartX=f.scrollLeft,c.wheelStartY=f.scrollTop,c.wheelDX=n,c.wheelDY=i,setTimeout(function(){if(c.wheelStartX!=null){var it=f.scrollLeft-c.wheelStartX,st=f.scrollTop-c.wheelStartY,ft=st&&c.wheelDY&&st/c.wheelDY||it&&c.wheelDX&&it/c.wheelDX;c.wheelStartX=c.wheelStartY=null,ft&&(Dn=(Dn*lo+ft)/(lo+1),++lo)}},200)):(c.wheelDX+=n,c.wheelDY+=i))}}var Xe=function(t,e){this.ranges=t,this.primIndex=e};Xe.prototype.primary=function(){return this.ranges[this.primIndex]},Xe.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var r=this.ranges[e],n=t.ranges[e];if(!Ct(r.anchor,n.anchor)||!Ct(r.head,n.head))return!1}return!0},Xe.prototype.deepCopy=function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new Pt(It(this.ranges[e].anchor),It(this.ranges[e].head));return new Xe(t,this.primIndex)},Xe.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},Xe.prototype.contains=function(t,e){e||(e=t);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(z(e,n.from())>=0&&z(t,n.to())<=0)return r}return-1};var Pt=function(t,e){this.anchor=t,this.head=e};Pt.prototype.from=function(){return he(this.anchor,this.head)},Pt.prototype.to=function(){return Wt(this.anchor,this.head)},Pt.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function ln(t,e,r){var n=t&&t.options.selectionsMayTouch,i=e[r];e.sort(function(j,F){return z(j.from(),F.from())}),r=Ot(e,i);for(var l=1;l<e.length;l++){var c=e[l],f=e[l-1],d=z(f.to(),c.from());if(n&&!c.empty()?d>0:d>=0){var v=he(f.from(),c.from()),C=Wt(f.to(),c.to()),O=f.empty()?c.from()==c.head:f.from()==f.head;l<=r&&--r,e.splice(--l,2,new Pt(O?C:v,O?v:C))}}return new Xe(e,r)}function Kn(t,e){return new Xe([new Pt(t,e||t)],0)}function Xn(t){return t.text?_(t.from.line+t.text.length-1,At(t.text).length+(t.text.length==1?t.from.ch:0)):t.to}function Fs(t,e){if(z(t,e.from)<0)return t;if(z(t,e.to)<=0)return Xn(e);var r=t.line+e.text.length-(e.to.line-e.from.line)-1,n=t.ch;return t.line==e.to.line&&(n+=Xn(e).ch-e.to.ch),_(r,n)}function Da(t,e){for(var r=[],n=0;n<t.sel.ranges.length;n++){var i=t.sel.ranges[n];r.push(new Pt(Fs(i.anchor,e),Fs(i.head,e)))}return ln(t.cm,r,t.sel.primIndex)}function js(t,e,r){return t.line==e.line?_(r.line,t.ch-e.ch+r.ch):_(r.line+(t.line-e.line),t.ch)}function wh(t,e,r){for(var n=[],i=_(t.first,0),l=i,c=0;c<e.length;c++){var f=e[c],d=js(f.from,i,l),v=js(Xn(f),i,l);if(i=f.to,l=v,r=="around"){var C=t.sel.ranges[c],O=z(C.head,C.anchor)<0;n[c]=new Pt(O?v:d,O?d:v)}else n[c]=new Pt(d,d)}return new Xe(n,t.sel.primIndex)}function Ea(t){t.doc.mode=Bn(t.options,t.doc.modeOption),mi(t)}function mi(t){t.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,gi(t,100),t.state.modeGen++,t.curOp&&Ne(t)}function Ws(t,e){return e.from.ch==0&&e.to.ch==0&&At(e.text)==""&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function _a(t,e,r,n){function i(ft){return r?r[ft]:null}function l(ft,ct,ht){Lf(ft,ct,ht,n),ve(ft,"change",ft,e)}function c(ft,ct){for(var ht=[],wt=ft;wt<ct;++wt)ht.push(new Or(v[wt],i(wt),n));return ht}var f=e.from,d=e.to,v=e.text,C=pt(t,f.line),O=pt(t,d.line),j=At(v),F=i(v.length-1),$=d.line-f.line;if(e.full)t.insert(0,c(0,v.length)),t.remove(v.length,t.size-v.length);else if(Ws(t,e)){var Y=c(0,v.length-1);l(O,O.text,F),$&&t.remove(f.line,$),Y.length&&t.insert(f.line,Y)}else if(C==O)if(v.length==1)l(C,C.text.slice(0,f.ch)+j+C.text.slice(d.ch),F);else{var it=c(1,v.length-1);it.push(new Or(j+C.text.slice(d.ch),F,n)),l(C,C.text.slice(0,f.ch)+v[0],i(0)),t.insert(f.line+1,it)}else if(v.length==1)l(C,C.text.slice(0,f.ch)+v[0]+O.text.slice(d.ch),i(0)),t.remove(f.line+1,$);else{l(C,C.text.slice(0,f.ch)+v[0],i(0)),l(O,j+O.text.slice(d.ch),F);var st=c(1,v.length-1);$>1&&t.remove(f.line+1,$-1),t.insert(f.line+1,st)}ve(t,"change",t,e)}function Gn(t,e,r){function n(i,l,c){if(i.linked)for(var f=0;f<i.linked.length;++f){var d=i.linked[f];if(d.doc!=l){var v=c&&d.sharedHist;r&&!v||(e(d.doc,v),n(d.doc,i,v))}}}n(t,null,!0)}function Rs(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,ya(t),Ea(t),Ps(t),t.options.direction=e.direction,t.options.lineWrapping||la(t),t.options.mode=e.modeOption,Ne(t)}function Ps(t){(t.doc.direction=="rtl"?pe:dt)(t.display.lineDiv,"CodeMirror-rtl")}function xh(t){Ve(t,function(){Ps(t),Ne(t)})}function so(t){this.done=[],this.undone=[],this.undoDepth=t?t.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t?t.maxGeneration:1}function Na(t,e){var r={from:It(e.from),to:Xn(e),text:Tn(t,e.from,e.to)};return Vs(t,r,e.from.line,e.to.line+1),Gn(t,function(n){return Vs(n,r,e.from.line,e.to.line+1)},!0),r}function Bs(t){for(;t.length;){var e=At(t);if(e.ranges)t.pop();else break}}function kh(t,e){if(e)return Bs(t.done),At(t.done);if(t.done.length&&!At(t.done).ranges)return At(t.done);if(t.done.length>1&&!t.done[t.done.length-2].ranges)return t.done.pop(),At(t.done)}function Hs(t,e,r,n){var i=t.history;i.undone.length=0;var l=+new Date,c,f;if((i.lastOp==n||i.lastOrigin==e.origin&&e.origin&&(e.origin.charAt(0)=="+"&&i.lastModTime>l-(t.cm?t.cm.options.historyEventDelay:500)||e.origin.charAt(0)=="*"))&&(c=kh(i,i.lastOp==n)))f=At(c.changes),z(e.from,e.to)==0&&z(e.from,f.to)==0?f.to=Xn(e):c.changes.push(Na(t,e));else{var d=At(i.done);for((!d||!d.ranges)&&co(t.sel,i.done),c={changes:[Na(t,e)],generation:i.generation},i.done.push(c);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=l,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=e.origin,f||Bt(t,"historyAdded")}function Ch(t,e,r,n){var i=e.charAt(0);return i=="*"||i=="+"&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function Sh(t,e,r,n){var i=t.history,l=n&&n.origin;r==i.lastSelOp||l&&i.lastSelOrigin==l&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==l||Ch(t,l,At(i.done),e))?i.done[i.done.length-1]=e:co(e,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=l,i.lastSelOp=r,n&&n.clearRedo!==!1&&Bs(i.undone)}function co(t,e){var r=At(e);r&&r.ranges&&r.equals(t)||e.push(t)}function Vs(t,e,r,n){var i=e["spans_"+t.id],l=0;t.iter(Math.max(t.first,r),Math.min(t.first+t.size,n),function(c){c.markedSpans&&((i||(i=e["spans_"+t.id]={}))[l]=c.markedSpans),++l})}function Mh(t){if(!t)return null;for(var e,r=0;r<t.length;++r)t[r].marker.explicitlyCleared?e||(e=t.slice(0,r)):e&&e.push(t[r]);return e?e.length?e:null:t}function Th(t,e){var r=e["spans_"+t.id];if(!r)return null;for(var n=[],i=0;i<e.text.length;++i)n.push(Mh(r[i]));return n}function zs(t,e){var r=Th(t,e),n=ra(t,e);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var l=r[i],c=n[i];if(l&&c)t:for(var f=0;f<c.length;++f){for(var d=c[f],v=0;v<l.length;++v)if(l[v].marker==d.marker)continue t;l.push(d)}else c&&(r[i]=c)}return r}function Fr(t,e,r){for(var n=[],i=0;i<t.length;++i){var l=t[i];if(l.ranges){n.push(r?Xe.prototype.deepCopy.call(l):l);continue}var c=l.changes,f=[];n.push({changes:f});for(var d=0;d<c.length;++d){var v=c[d],C=void 0;if(f.push({from:v.from,to:v.to,text:v.text}),e)for(var O in v)(C=O.match(/^spans_(\d+)$/))&&Ot(e,Number(C[1]))>-1&&(At(f)[O]=v[O],delete v[O])}}return n}function Ia(t,e,r,n){if(n){var i=t.anchor;if(r){var l=z(e,i)<0;l!=z(r,i)<0?(i=e,e=r):l!=z(e,r)<0&&(e=r)}return new Pt(i,e)}else return new Pt(r||e,e)}function uo(t,e,r,n,i){i==null&&(i=t.cm&&(t.cm.display.shift||t.extend)),Ce(t,new Xe([Ia(t.sel.primary(),e,r,i)],0),n)}function $s(t,e,r){for(var n=[],i=t.cm&&(t.cm.display.shift||t.extend),l=0;l<t.sel.ranges.length;l++)n[l]=Ia(t.sel.ranges[l],e[l],null,i);var c=ln(t.cm,n,t.sel.primIndex);Ce(t,c,r)}function Fa(t,e,r,n){var i=t.sel.ranges.slice(0);i[e]=r,Ce(t,ln(t.cm,i,t.sel.primIndex),n)}function Us(t,e,r,n){Ce(t,Kn(e,r),n)}function Oh(t,e,r){var n={ranges:e.ranges,update:function(i){this.ranges=[];for(var l=0;l<i.length;l++)this.ranges[l]=new Pt(St(t,i[l].anchor),St(t,i[l].head))},origin:r&&r.origin};return Bt(t,"beforeSelectionChange",t,n),t.cm&&Bt(t.cm,"beforeSelectionChange",t.cm,n),n.ranges!=e.ranges?ln(t.cm,n.ranges,n.ranges.length-1):e}function Ks(t,e,r){var n=t.history.done,i=At(n);i&&i.ranges?(n[n.length-1]=e,fo(t,e,r)):Ce(t,e,r)}function Ce(t,e,r){fo(t,e,r),Sh(t,t.sel,t.cm?t.cm.curOp.id:NaN,r)}function fo(t,e,r){(fe(t,"beforeSelectionChange")||t.cm&&fe(t.cm,"beforeSelectionChange"))&&(e=Oh(t,e,r));var n=r&&r.bias||(z(e.primary().head,t.sel.primary().head)<0?-1:1);Xs(t,Qs(t,e,n,!0)),!(r&&r.scroll===!1)&&t.cm&&t.cm.getOption("readOnly")!="nocursor"&&Nr(t.cm)}function Xs(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,lr(t.cm)),ve(t,"cursorActivity",t))}function Gs(t){Xs(t,Qs(t,t.sel,null,!1))}function Qs(t,e,r,n){for(var i,l=0;l<e.ranges.length;l++){var c=e.ranges[l],f=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[l],d=ho(t,c.anchor,f&&f.anchor,r,n),v=c.head==c.anchor?d:ho(t,c.head,f&&f.head,r,n);(i||d!=c.anchor||v!=c.head)&&(i||(i=e.ranges.slice(0,l)),i[l]=new Pt(d,v))}return i?ln(t.cm,i,e.primIndex):e}function jr(t,e,r,n,i){var l=pt(t,e.line);if(l.markedSpans)for(var c=0;c<l.markedSpans.length;++c){var f=l.markedSpans[c],d=f.marker,v="selectLeft"in d?!d.selectLeft:d.inclusiveLeft,C="selectRight"in d?!d.selectRight:d.inclusiveRight;if((f.from==null||(v?f.from<=e.ch:f.from<e.ch))&&(f.to==null||(C?f.to>=e.ch:f.to>e.ch))){if(i&&(Bt(d,"beforeCursorEnter"),d.explicitlyCleared))if(l.markedSpans){--c;continue}else break;if(!d.atomic)continue;if(r){var O=d.find(n<0?1:-1),j=void 0;if((n<0?C:v)&&(O=Ys(t,O,-n,O&&O.line==e.line?l:null)),O&&O.line==e.line&&(j=z(O,r))&&(n<0?j<0:j>0))return jr(t,O,e,n,i)}var F=d.find(n<0?-1:1);return(n<0?v:C)&&(F=Ys(t,F,n,F.line==e.line?l:null)),F?jr(t,F,e,n,i):null}}return e}function ho(t,e,r,n,i){var l=n||1,c=jr(t,e,r,l,i)||!i&&jr(t,e,r,l,!0)||jr(t,e,r,-l,i)||!i&&jr(t,e,r,-l,!0);return c||(t.cantEdit=!0,_(t.first,0))}function Ys(t,e,r,n){return r<0&&e.ch==0?e.line>t.first?St(t,_(e.line-1)):null:r>0&&e.ch==(n||pt(t,e.line)).text.length?e.line<t.first+t.size-1?_(e.line+1,0):null:new _(e.line,e.ch+r)}function qs(t){t.setSelection(_(t.firstLine(),0),_(t.lastLine()),zt)}function Zs(t,e,r){var n={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return n.canceled=!0}};return r&&(n.update=function(i,l,c,f){i&&(n.from=St(t,i)),l&&(n.to=St(t,l)),c&&(n.text=c),f!==void 0&&(n.origin=f)}),Bt(t,"beforeChange",t,n),t.cm&&Bt(t.cm,"beforeChange",t.cm,n),n.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Wr(t,e,r){if(t.cm){if(!t.cm.curOp)return me(t.cm,Wr)(t,e,r);if(t.cm.state.suppressEdits)return}if(!((fe(t,"beforeChange")||t.cm&&fe(t.cm,"beforeChange"))&&(e=Zs(t,e,!0),!e))){var n=zl&&!r&&Sf(t,e.from,e.to);if(n)for(var i=n.length-1;i>=0;--i)Js(t,{from:n[i].from,to:n[i].to,text:i?[""]:e.text,origin:e.origin});else Js(t,e)}}function Js(t,e){if(!(e.text.length==1&&e.text[0]==""&&z(e.from,e.to)==0)){var r=Da(t,e);Hs(t,e,r,t.cm?t.cm.curOp.id:NaN),yi(t,e,r,ra(t,e));var n=[];Gn(t,function(i,l){!l&&Ot(n,i.history)==-1&&(rc(i.history,e),n.push(i.history)),yi(i,e,null,ra(i,e))})}}function po(t,e,r){var n=t.cm&&t.cm.state.suppressEdits;if(!(n&&!r)){for(var i=t.history,l,c=t.sel,f=e=="undo"?i.done:i.undone,d=e=="undo"?i.undone:i.done,v=0;v<f.length&&(l=f[v],!(r?l.ranges&&!l.equals(t.sel):!l.ranges));v++);if(v!=f.length){for(i.lastOrigin=i.lastSelOrigin=null;;)if(l=f.pop(),l.ranges){if(co(l,d),r&&!l.equals(t.sel)){Ce(t,l,{clearRedo:!1});return}c=l}else if(n){f.push(l);return}else break;var C=[];co(c,d),d.push({changes:C,generation:i.generation}),i.generation=l.generation||++i.maxGeneration;for(var O=fe(t,"beforeChange")||t.cm&&fe(t.cm,"beforeChange"),j=function(Y){var it=l.changes[Y];if(it.origin=e,O&&!Zs(t,it,!1))return f.length=0,{};C.push(Na(t,it));var st=Y?Da(t,it):At(f);yi(t,it,st,zs(t,it)),!Y&&t.cm&&t.cm.scrollIntoView({from:it.from,to:Xn(it)});var ft=[];Gn(t,function(ct,ht){!ht&&Ot(ft,ct.history)==-1&&(rc(ct.history,it),ft.push(ct.history)),yi(ct,it,null,zs(ct,it))})},F=l.changes.length-1;F>=0;--F){var $=j(F);if($)return $.v}}}}function tc(t,e){if(e!=0&&(t.first+=e,t.sel=new Xe(Cn(t.sel.ranges,function(i){return new Pt(_(i.anchor.line+e,i.anchor.ch),_(i.head.line+e,i.head.ch))}),t.sel.primIndex),t.cm)){Ne(t.cm,t.first,t.first-e,e);for(var r=t.cm.display,n=r.viewFrom;n<r.viewTo;n++)$n(t.cm,n,"gutter")}}function yi(t,e,r,n){if(t.cm&&!t.cm.curOp)return me(t.cm,yi)(t,e,r,n);if(e.to.line<t.first){tc(t,e.text.length-1-(e.to.line-e.from.line));return}if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var i=e.text.length-1-(t.first-e.from.line);tc(t,i),e={from:_(t.first,0),to:_(e.to.line+i,e.to.ch),text:[At(e.text)],origin:e.origin}}var l=t.lastLine();e.to.line>l&&(e={from:e.from,to:_(l,pt(t,l).text.length),text:[e.text[0]],origin:e.origin}),e.removed=Tn(t,e.from,e.to),r||(r=Da(t,e)),t.cm?Lh(t.cm,e,n):_a(t,e,n),fo(t,r,zt),t.cantEdit&&ho(t,_(t.firstLine(),0))&&(t.cantEdit=!1)}}function Lh(t,e,r){var n=t.doc,i=t.display,l=e.from,c=e.to,f=!1,d=l.line;t.options.lineWrapping||(d=Rt(on(pt(n,l.line))),n.iter(d,c.line+1,function(F){if(F==i.maxLine)return f=!0,!0})),n.sel.contains(e.from,e.to)>-1&&lr(t),_a(n,e,r,bs(t)),t.options.lineWrapping||(n.iter(d,l.line+e.text.length,function(F){var $=Yi(F);$>i.maxLineLength&&(i.maxLine=F,i.maxLineLength=$,i.maxLineChanged=!0,f=!1)}),f&&(t.curOp.updateMaxLine=!0)),mf(n,l.line),gi(t,400);var v=e.text.length-(c.line-l.line)-1;e.full?Ne(t):l.line==c.line&&e.text.length==1&&!Ws(t.doc,e)?$n(t,l.line,"text"):Ne(t,l.line,c.line+1,v);var C=fe(t,"changes"),O=fe(t,"change");if(O||C){var j={from:l,to:c,text:e.text,removed:e.removed,origin:e.origin};O&&ve(t,"change",t,j),C&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(j)}t.display.selForContextMenu=null}function Rr(t,e,r,n,i){var l;n||(n=r),z(n,r)<0&&(l=[n,r],r=l[0],n=l[1]),typeof e=="string"&&(e=t.splitLines(e)),Wr(t,{from:r,to:n,text:e,origin:i})}function ec(t,e,r,n){r<t.line?t.line+=n:e<t.line&&(t.line=e,t.ch=0)}function nc(t,e,r,n){for(var i=0;i<t.length;++i){var l=t[i],c=!0;if(l.ranges){l.copied||(l=t[i]=l.deepCopy(),l.copied=!0);for(var f=0;f<l.ranges.length;f++)ec(l.ranges[f].anchor,e,r,n),ec(l.ranges[f].head,e,r,n);continue}for(var d=0;d<l.changes.length;++d){var v=l.changes[d];if(r<v.from.line)v.from=_(v.from.line+n,v.from.ch),v.to=_(v.to.line+n,v.to.ch);else if(e<=v.to.line){c=!1;break}}c||(t.splice(0,i+1),i=0)}}function rc(t,e){var r=e.from.line,n=e.to.line,i=e.text.length-(n-r)-1;nc(t.done,r,n,i),nc(t.undone,r,n,i)}function bi(t,e,r,n){var i=e,l=e;return typeof e=="number"?l=pt(t,Ke(t,e)):i=Rt(e),i==null?null:(n(l,i)&&t.cm&&$n(t.cm,i,r),l)}function wi(t){this.lines=t,this.parent=null;for(var e=0,r=0;r<t.length;++r)t[r].parent=this,e+=t[r].height;this.height=e}wi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var r=t,n=t+e;r<n;++r){var i=this.lines[r];this.height-=i.height,Af(i),ve(i,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,r){this.height+=r,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var n=0;n<e.length;++n)e[n].parent=this},iterN:function(t,e,r){for(var n=t+e;t<n;++t)if(r(this.lines[t]))return!0}};function xi(t){this.children=t;for(var e=0,r=0,n=0;n<t.length;++n){var i=t[n];e+=i.chunkSize(),r+=i.height,i.parent=this}this.size=e,this.height=r,this.parent=null}xi.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var r=0;r<this.children.length;++r){var n=this.children[r],i=n.chunkSize();if(t<i){var l=Math.min(e,i-t),c=n.height;if(n.removeInner(t,l),this.height-=c-n.height,i==l&&(this.children.splice(r--,1),n.parent=null),(e-=l)==0)break;t=0}else t-=i}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof wi))){var f=[];this.collapse(f),this.children=[new wi(f)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,r){this.size+=e.length,this.height+=r;for(var n=0;n<this.children.length;++n){var i=this.children[n],l=i.chunkSize();if(t<=l){if(i.insertInner(t,e,r),i.lines&&i.lines.length>50){for(var c=i.lines.length%25+25,f=c;f<i.lines.length;){var d=new wi(i.lines.slice(f,f+=25));i.height-=d.height,this.children.splice(++n,0,d),d.parent=this}i.lines=i.lines.slice(0,c),this.maybeSpill()}break}t-=l}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),r=new xi(e);if(t.parent){t.size-=r.size,t.height-=r.height;var n=Ot(t.parent.children,t);t.parent.children.splice(n+1,0,r)}else{var i=new xi(t.children);i.parent=t,t.children=[i,r],t=i}r.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,r){for(var n=0;n<this.children.length;++n){var i=this.children[n],l=i.chunkSize();if(t<l){var c=Math.min(e,l-t);if(i.iterN(t,c,r))return!0;if((e-=c)==0)break;t=0}else t-=l}}};var ki=function(t,e,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=t,this.node=e};ki.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,r=this.line,n=Rt(r);if(!(n==null||!e)){for(var i=0;i<e.length;++i)e[i]==this&&e.splice(i--,1);e.length||(r.widgets=null);var l=si(this);Ze(r,Math.max(0,r.height-l)),t&&(Ve(t,function(){ic(t,r,-l),$n(t,n,"widget")}),ve(t,"lineWidgetCleared",t,this,n))}},ki.prototype.changed=function(){var t=this,e=this.height,r=this.doc.cm,n=this.line;this.height=null;var i=si(this)-e;i&&(zn(this.doc,n)||Ze(n,n.height+i),r&&Ve(r,function(){r.curOp.forceUpdate=!0,ic(r,n,i),ve(r,"lineWidgetChanged",r,t,Rt(n))}))},oe(ki);function ic(t,e,r){Ln(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Sa(t,r)}function Ah(t,e,r,n){var i=new ki(t,r,n),l=t.cm;return l&&i.noHScroll&&(l.display.alignWidgets=!0),bi(t,e,"widget",function(c){var f=c.widgets||(c.widgets=[]);if(i.insertAt==null?f.push(i):f.splice(Math.min(f.length,Math.max(0,i.insertAt)),0,i),i.line=c,l&&!zn(t,c)){var d=Ln(c)<t.scrollTop;Ze(c,c.height+si(i)),d&&Sa(l,i.height),l.curOp.forceUpdate=!0}return!0}),l&&ve(l,"lineWidgetAdded",l,i,typeof e=="number"?e:Rt(e)),i}var oc=0,Qn=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++oc};Qn.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&pr(t),fe(this,"clear")){var r=this.find();r&&ve(this,"clear",r.from,r.to)}for(var n=null,i=null,l=0;l<this.lines.length;++l){var c=this.lines[l],f=oi(c.markedSpans,this);t&&!this.collapsed?$n(t,Rt(c),"text"):t&&(f.to!=null&&(i=Rt(c)),f.from!=null&&(n=Rt(c))),c.markedSpans=wf(c.markedSpans,f),f.from==null&&this.collapsed&&!zn(this.doc,c)&&t&&Ze(c,Dr(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var d=0;d<this.lines.length;++d){var v=on(this.lines[d]),C=Yi(v);C>t.display.maxLineLength&&(t.display.maxLine=v,t.display.maxLineLength=C,t.display.maxLineChanged=!0)}n!=null&&t&&this.collapsed&&Ne(t,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Gs(t.doc)),t&&ve(t,"markerCleared",t,this,n,i),e&&gr(t),this.parent&&this.parent.clear()}},Qn.prototype.find=function(t,e){t==null&&this.type=="bookmark"&&(t=1);for(var r,n,i=0;i<this.lines.length;++i){var l=this.lines[i],c=oi(l.markedSpans,this);if(c.from!=null&&(r=_(e?l:Rt(l),c.from),t==-1))return r;if(c.to!=null&&(n=_(e?l:Rt(l),c.to),t==1))return n}return r&&{from:r,to:n}},Qn.prototype.changed=function(){var t=this,e=this.find(-1,!0),r=this,n=this.doc.cm;!e||!n||Ve(n,function(){var i=e.line,l=Rt(e.line),c=fa(n,l);if(c&&(fs(c),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!zn(r.doc,i)&&r.height!=null){var f=r.height;r.height=null;var d=si(r)-f;d&&Ze(i,i.height+d)}ve(n,"markerChanged",n,t)})},Qn.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(!e.maybeHiddenMarkers||Ot(e.maybeHiddenMarkers,this)==-1)&&(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},Qn.prototype.detachLine=function(t){if(this.lines.splice(Ot(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},oe(Qn);function Pr(t,e,r,n,i){if(n&&n.shared)return Dh(t,e,r,n,i);if(t.cm&&!t.cm.curOp)return me(t.cm,Pr)(t,e,r,n,i);var l=new Qn(t,i),c=z(e,r);if(n&&xt(n,l,!1),c>0||c==0&&l.clearWhenEmpty!==!1)return l;if(l.replacedWith&&(l.collapsed=!0,l.widgetNode=Kt("span",[l.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||l.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(l.widgetNode.insertLeft=!0)),l.collapsed){if(Ql(t,e.line,e,r,l)||e.line!=r.line&&Ql(t,r.line,e,r,l))throw new Error("Inserting collapsed marker partially overlapping an existing one");bf()}l.addToHistory&&Hs(t,{from:e,to:r,origin:"markText"},t.sel,NaN);var f=e.line,d=t.cm,v;if(t.iter(f,r.line+1,function(O){d&&l.collapsed&&!d.options.lineWrapping&&on(O)==d.display.maxLine&&(v=!0),l.collapsed&&f!=e.line&&Ze(O,0),xf(O,new Ki(l,f==e.line?e.ch:null,f==r.line?r.ch:null),t.cm&&t.cm.curOp),++f}),l.collapsed&&t.iter(e.line,r.line+1,function(O){zn(t,O)&&Ze(O,0)}),l.clearOnEnter&&nt(l,"beforeCursorEnter",function(){return l.clear()}),l.readOnly&&(yf(),(t.history.done.length||t.history.undone.length)&&t.clearHistory()),l.collapsed&&(l.id=++oc,l.atomic=!0),d){if(v&&(d.curOp.updateMaxLine=!0),l.collapsed)Ne(d,e.line,r.line+1);else if(l.className||l.startStyle||l.endStyle||l.css||l.attributes||l.title)for(var C=e.line;C<=r.line;C++)$n(d,C,"text");l.atomic&&Gs(d.doc),ve(d,"markerAdded",d,l)}return l}var Ci=function(t,e){this.markers=t,this.primary=e;for(var r=0;r<t.length;++r)t[r].parent=this};Ci.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();ve(this,"clear")}},Ci.prototype.find=function(t,e){return this.primary.find(t,e)},oe(Ci);function Dh(t,e,r,n,i){n=xt(n),n.shared=!1;var l=[Pr(t,e,r,n,i)],c=l[0],f=n.widgetNode;return Gn(t,function(d){f&&(n.widgetNode=f.cloneNode(!0)),l.push(Pr(d,St(d,e),St(d,r),n,i));for(var v=0;v<d.linked.length;++v)if(d.linked[v].isParent)return;c=At(l)}),new Ci(l,c)}function ac(t){return t.findMarks(_(t.first,0),t.clipPos(_(t.lastLine())),function(e){return e.parent})}function Eh(t,e){for(var r=0;r<e.length;r++){var n=e[r],i=n.find(),l=t.clipPos(i.from),c=t.clipPos(i.to);if(z(l,c)){var f=Pr(t,l,c,n.primary,n.primary.type);n.markers.push(f),f.parent=n}}}function _h(t){for(var e=function(n){var i=t[n],l=[i.primary.doc];Gn(i.primary.doc,function(d){return l.push(d)});for(var c=0;c<i.markers.length;c++){var f=i.markers[c];Ot(l,f.doc)==-1&&(f.parent=null,i.markers.splice(c--,1))}},r=0;r<t.length;r++)e(r)}var Nh=0,Ie=function(t,e,r,n,i){if(!(this instanceof Ie))return new Ie(t,e,r,n,i);r==null&&(r=0),xi.call(this,[new wi([new Or("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var l=_(r,0);this.sel=Kn(l),this.history=new so(null),this.id=++Nh,this.modeOption=e,this.lineSep=n,this.direction=i=="rtl"?"rtl":"ltr",this.extend=!1,typeof t=="string"&&(t=this.splitLines(t)),_a(this,{from:l,to:l,text:t}),Ce(this,Kn(l),zt)};Ie.prototype=I(xi.prototype,{constructor:Ie,iter:function(t,e,r){r?this.iterN(t-this.first,e-t,r):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var r=0,n=0;n<e.length;++n)r+=e[n].height;this.insertInner(t-this.first,e,r)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=Tr(this,this.first,this.first+this.size);return t===!1?e:e.join(t||this.lineSeparator())},setValue:ye(function(t){var e=_(this.first,0),r=this.first+this.size-1;Wr(this,{from:e,to:_(r,pt(this,r).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&fi(this.cm,0,0),Ce(this,Kn(e),zt)}),replaceRange:function(t,e,r,n){e=St(this,e),r=r?St(this,r):e,Rr(this,t,e,r,n)},getRange:function(t,e,r){var n=Tn(this,St(this,t),St(this,e));return r===!1?n:r===""?n.join(""):n.join(r||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(y(this,t))return pt(this,t)},getLineNumber:function(t){return Rt(t)},getLineHandleVisualStart:function(t){return typeof t=="number"&&(t=pt(this,t)),on(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return St(this,t)},getCursor:function(t){var e=this.sel.primary(),r;return t==null||t=="head"?r=e.head:t=="anchor"?r=e.anchor:t=="end"||t=="to"||t===!1?r=e.to():r=e.from(),r},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ye(function(t,e,r){Us(this,St(this,typeof t=="number"?_(t,e||0):t),null,r)}),setSelection:ye(function(t,e,r){Us(this,St(this,t),St(this,e||t),r)}),extendSelection:ye(function(t,e,r){uo(this,St(this,t),e&&St(this,e),r)}),extendSelections:ye(function(t,e){$s(this,Fl(this,t),e)}),extendSelectionsBy:ye(function(t,e){var r=Cn(this.sel.ranges,t);$s(this,Fl(this,r),e)}),setSelections:ye(function(t,e,r){if(t.length){for(var n=[],i=0;i<t.length;i++)n[i]=new Pt(St(this,t[i].anchor),St(this,t[i].head||t[i].anchor));e==null&&(e=Math.min(t.length-1,this.sel.primIndex)),Ce(this,ln(this.cm,n,e),r)}}),addSelection:ye(function(t,e,r){var n=this.sel.ranges.slice(0);n.push(new Pt(St(this,t),St(this,e||t))),Ce(this,ln(this.cm,n,n.length-1),r)}),getSelection:function(t){for(var e=this.sel.ranges,r,n=0;n<e.length;n++){var i=Tn(this,e[n].from(),e[n].to());r=r?r.concat(i):i}return t===!1?r:r.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],r=this.sel.ranges,n=0;n<r.length;n++){var i=Tn(this,r[n].from(),r[n].to());t!==!1&&(i=i.join(t||this.lineSeparator())),e[n]=i}return e},replaceSelection:function(t,e,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=t;this.replaceSelections(n,e,r||"+input")},replaceSelections:ye(function(t,e,r){for(var n=[],i=this.sel,l=0;l<i.ranges.length;l++){var c=i.ranges[l];n[l]={from:c.from(),to:c.to(),text:this.splitLines(t[l]),origin:r}}for(var f=e&&e!="end"&&wh(this,n,e),d=n.length-1;d>=0;d--)Wr(this,n[d]);f?Ks(this,f):this.cm&&Nr(this.cm)}),undo:ye(function(){po(this,"undo")}),redo:ye(function(){po(this,"redo")}),undoSelection:ye(function(){po(this,"undo",!0)}),redoSelection:ye(function(){po(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,r=0,n=0;n<t.done.length;n++)t.done[n].ranges||++e;for(var i=0;i<t.undone.length;i++)t.undone[i].ranges||++r;return{undo:e,redo:r}},clearHistory:function(){var t=this;this.history=new so(this.history),Gn(this,function(e){return e.history=t.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Fr(this.history.done),undone:Fr(this.history.undone)}},setHistory:function(t){var e=this.history=new so(this.history);e.done=Fr(t.done.slice(0),null,!0),e.undone=Fr(t.undone.slice(0),null,!0)},setGutterMarker:ye(function(t,e,r){return bi(this,t,"gutter",function(n){var i=n.gutterMarkers||(n.gutterMarkers={});return i[e]=r,!r&&q(i)&&(n.gutterMarkers=null),!0})}),clearGutter:ye(function(t){var e=this;this.iter(function(r){r.gutterMarkers&&r.gutterMarkers[t]&&bi(e,r,"gutter",function(){return r.gutterMarkers[t]=null,q(r.gutterMarkers)&&(r.gutterMarkers=null),!0})})}),lineInfo:function(t){var e;if(typeof t=="number"){if(!y(this,t)||(e=t,t=pt(this,t),!t))return null}else if(e=Rt(t),e==null)return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:ye(function(t,e,r){return bi(this,t,e=="gutter"?"gutter":"class",function(n){var i=e=="text"?"textClass":e=="background"?"bgClass":e=="gutter"?"gutterClass":"wrapClass";if(!n[i])n[i]=r;else{if(rt(r).test(n[i]))return!1;n[i]+=" "+r}return!0})}),removeLineClass:ye(function(t,e,r){return bi(this,t,e=="gutter"?"gutter":"class",function(n){var i=e=="text"?"textClass":e=="background"?"bgClass":e=="gutter"?"gutterClass":"wrapClass",l=n[i];if(l)if(r==null)n[i]=null;else{var c=l.match(rt(r));if(!c)return!1;var f=c.index+c[0].length;n[i]=l.slice(0,c.index)+(!c.index||f==l.length?"":" ")+l.slice(f)||null}else return!1;return!0})}),addLineWidget:ye(function(t,e,r){return Ah(this,t,e,r)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,r){return Pr(this,St(this,t),St(this,e),r,r&&r.type||"range")},setBookmark:function(t,e){var r={replacedWith:e&&(e.nodeType==null?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return t=St(this,t),Pr(this,t,t,r,"bookmark")},findMarksAt:function(t){t=St(this,t);var e=[],r=pt(this,t.line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(i.from==null||i.from<=t.ch)&&(i.to==null||i.to>=t.ch)&&e.push(i.marker.parent||i.marker)}return e},findMarks:function(t,e,r){t=St(this,t),e=St(this,e);var n=[],i=t.line;return this.iter(t.line,e.line+1,function(l){var c=l.markedSpans;if(c)for(var f=0;f<c.length;f++){var d=c[f];!(d.to!=null&&i==t.line&&t.ch>=d.to||d.from==null&&i!=t.line||d.from!=null&&i==e.line&&d.from>=e.ch)&&(!r||r(d.marker))&&n.push(d.marker.parent||d.marker)}++i}),n},getAllMarks:function(){var t=[];return this.iter(function(e){var r=e.markedSpans;if(r)for(var n=0;n<r.length;++n)r[n].from!=null&&t.push(r[n].marker)}),t},posFromIndex:function(t){var e,r=this.first,n=this.lineSeparator().length;return this.iter(function(i){var l=i.text.length+n;if(l>t)return e=t,!0;t-=l,++r}),St(this,_(r,e))},indexFromPos:function(t){t=St(this,t);var e=t.ch;if(t.line<this.first||t.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,t.line,function(n){e+=n.text.length+r}),e},copy:function(t){var e=new Ie(Tr(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,r=this.first+this.size;t.from!=null&&t.from>e&&(e=t.from),t.to!=null&&t.to<r&&(r=t.to);var n=new Ie(Tr(this,e,r),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:t.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],Eh(n,ac(this)),n},unlinkDoc:function(t){if(t instanceof Yt&&(t=t.doc),this.linked)for(var e=0;e<this.linked.length;++e){var r=this.linked[e];if(r.doc==t){this.linked.splice(e,1),t.unlinkDoc(this),_h(ac(this));break}}if(t.history==this.history){var n=[t.id];Gn(t,function(i){return n.push(i.id)},!0),t.history=new so(null),t.history.done=Fr(this.history.done,n),t.history.undone=Fr(this.history.undone,n)}},iterLinkedDocs:function(t){Gn(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):ni(t)},lineSeparator:function(){return this.lineSep||`
`},setDirection:ye(function(t){t!="rtl"&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter(function(e){return e.order=null}),this.cm&&xh(this.cm))})}),Ie.prototype.eachLine=Ie.prototype.iter;var lc=0;function Ih(t){var e=this;if(sc(e),!(Qt(e,t)||An(e.display,t))){ne(t),k&&(lc=+new Date);var r=ur(e,t,!0),n=t.dataTransfer.files;if(!(!r||e.isReadOnly()))if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,l=Array(i),c=0,f=function(){++c==i&&me(e,function(){r=St(e.doc,r);var F={from:r,to:r,text:e.doc.splitLines(l.filter(function($){return $!=null}).join(e.doc.lineSeparator())),origin:"paste"};Wr(e.doc,F),Ks(e.doc,Kn(St(e.doc,r),St(e.doc,Xn(F))))})()},d=function(F,$){if(e.options.allowDropFileTypes&&Ot(e.options.allowDropFileTypes,F.type)==-1){f();return}var Y=new FileReader;Y.onerror=function(){return f()},Y.onload=function(){var it=Y.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(it)){f();return}l[$]=it,f()},Y.readAsText(F)},v=0;v<n.length;v++)d(n[v],v);else{if(e.state.draggingText&&e.doc.sel.contains(r)>-1){e.state.draggingText(t),setTimeout(function(){return e.display.input.focus()},20);return}try{var C=t.dataTransfer.getData("Text");if(C){var O;if(e.state.draggingText&&!e.state.draggingText.copy&&(O=e.listSelections()),fo(e.doc,Kn(r,r)),O)for(var j=0;j<O.length;++j)Rr(e.doc,"",O[j].anchor,O[j].head,"drag");e.replaceSelection(C,"around","paste"),e.display.input.focus()}}catch{}}}}function Fh(t,e){if(k&&(!t.state.draggingText||+new Date-lc<100)){Sn(e);return}if(!(Qt(t,e)||An(t.display,e))&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!N)){var r=E("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",D&&(r.width=r.height=1,t.display.wrapper.appendChild(r),r._top=r.offsetTop),e.dataTransfer.setDragImage(r,0,0),D&&r.parentNode.removeChild(r)}}function jh(t,e){var r=ur(t,e);if(r){var n=document.createDocumentFragment();ba(t,r,n),t.display.dragCursor||(t.display.dragCursor=E("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),at(t.display.dragCursor,n)}}function sc(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function cc(t){if(document.getElementsByClassName){for(var e=document.getElementsByClassName("CodeMirror"),r=[],n=0;n<e.length;n++){var i=e[n].CodeMirror;i&&r.push(i)}r.length&&r[0].operation(function(){for(var l=0;l<r.length;l++)t(r[l])})}}var uc=!1;function Wh(){uc||(Rh(),uc=!0)}function Rh(){var t;nt(window,"resize",function(){t==null&&(t=setTimeout(function(){t=null,cc(Ph)},100))}),nt(window,"blur",function(){return cc(_r)})}function Ph(t){var e=t.display;e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize()}for(var Yn={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Si=0;Si<10;Si++)Yn[Si+48]=Yn[Si+96]=String(Si);for(var go=65;go<=90;go++)Yn[go]=String.fromCharCode(go);for(var Mi=1;Mi<=12;Mi++)Yn[Mi+111]=Yn[Mi+63235]="F"+Mi;var En={};En.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},En.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},En.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},En.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},En.default=J?En.macDefault:En.pcDefault;function Bh(t){var e=t.split(/-(?!$)/);t=e[e.length-1];for(var r,n,i,l,c=0;c<e.length-1;c++){var f=e[c];if(/^(cmd|meta|m)$/i.test(f))l=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))n=!0;else if(/^s(hift)?$/i.test(f))i=!0;else throw new Error("Unrecognized modifier name: "+f)}return r&&(t="Alt-"+t),n&&(t="Ctrl-"+t),l&&(t="Cmd-"+t),i&&(t="Shift-"+t),t}function Hh(t){var e={};for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if(n=="..."){delete t[r];continue}for(var i=Cn(r.split(" "),Bh),l=0;l<i.length;l++){var c=void 0,f=void 0;l==i.length-1?(f=i.join(" "),c=n):(f=i.slice(0,l+1).join(" "),c="...");var d=e[f];if(!d)e[f]=c;else if(d!=c)throw new Error("Inconsistent bindings for "+f)}delete t[r]}for(var v in e)t[v]=e[v];return t}function Br(t,e,r,n){e=vo(e);var i=e.call?e.call(t,n):e[t];if(i===!1)return"nothing";if(i==="...")return"multi";if(i!=null&&r(i))return"handled";if(e.fallthrough){if(Object.prototype.toString.call(e.fallthrough)!="[object Array]")return Br(t,e.fallthrough,r,n);for(var l=0;l<e.fallthrough.length;l++){var c=Br(t,e.fallthrough[l],r,n);if(c)return c}}}function fc(t){var e=typeof t=="string"?t:Yn[t.keyCode];return e=="Ctrl"||e=="Alt"||e=="Shift"||e=="Mod"}function hc(t,e,r){var n=t;return e.altKey&&n!="Alt"&&(t="Alt-"+t),(tt?e.metaKey:e.ctrlKey)&&n!="Ctrl"&&(t="Ctrl-"+t),(tt?e.ctrlKey:e.metaKey)&&n!="Mod"&&(t="Cmd-"+t),!r&&e.shiftKey&&n!="Shift"&&(t="Shift-"+t),t}function dc(t,e){if(D&&t.keyCode==34&&t.char)return!1;var r=Yn[t.keyCode];return r==null||t.altGraphKey?!1:(t.keyCode==3&&t.code&&(r=t.code),hc(r,t,e))}function vo(t){return typeof t=="string"?En[t]:t}function Hr(t,e){for(var r=t.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var l=e(r[i]);n.length&&z(l.from,At(n).to)<=0;){var c=n.pop();if(z(c.from,l.from)<0){l.from=c.from;break}}n.push(l)}Ve(t,function(){for(var f=n.length-1;f>=0;f--)Rr(t.doc,"",n[f].from,n[f].to,"+delete");Nr(t)})}function ja(t,e,r){var n=yt(t.text,e+r,r);return n<0||n>t.text.length?null:n}function Wa(t,e,r){var n=ja(t,e.ch,r);return n==null?null:new _(e.line,n,r<0?"after":"before")}function Ra(t,e,r,n,i){if(t){e.doc.direction=="rtl"&&(i=-i);var l=$t(r,e.doc.direction);if(l){var c=i<0?At(l):l[0],f=i<0==(c.level==1),d=f?"after":"before",v;if(c.level>0||e.doc.direction=="rtl"){var C=Ar(e,r);v=i<0?r.text.length-1:0;var O=bn(e,C,v).top;v=gt(function(j){return bn(e,C,j).top==O},i<0==(c.level==1)?c.from:c.to-1,v),d=="before"&&(v=ja(r,v,1))}else v=i<0?c.to:c.from;return new _(n,v,d)}}return new _(n,i<0?r.text.length:0,i<0?"before":"after")}function Vh(t,e,r,n){var i=$t(e,t.doc.direction);if(!i)return Wa(e,r,n);r.ch>=e.text.length?(r.ch=e.text.length,r.sticky="before"):r.ch<=0&&(r.ch=0,r.sticky="after");var l=Et(i,r.ch,r.sticky),c=i[l];if(t.doc.direction=="ltr"&&c.level%2==0&&(n>0?c.to>r.ch:c.from<r.ch))return Wa(e,r,n);var f=function(st,ft){return ja(e,st instanceof _?st.ch:st,ft)},d,v=function(st){return t.options.lineWrapping?(d=d||Ar(t,e),ys(t,e,d,st)):{begin:0,end:e.text.length}},C=v(r.sticky=="before"?f(r,-1):r.ch);if(t.doc.direction=="rtl"||c.level==1){var O=c.level==1==n<0,j=f(r,O?1:-1);if(j!=null&&(O?j<=c.to&&j<=C.end:j>=c.from&&j>=C.begin)){var F=O?"before":"after";return new _(r.line,j,F)}}var $=function(st,ft,ct){for(var ht=function(Ut,be){return be?new _(r.line,f(Ut,1),"before"):new _(r.line,Ut,"after")};st>=0&&st<i.length;st+=ft){var wt=i[st],mt=ft>0==(wt.level!=1),Lt=mt?ct.begin:f(ct.end,-1);if(wt.from<=Lt&&Lt<wt.to||(Lt=mt?wt.from:f(wt.to,-1),ct.begin<=Lt&&Lt<ct.end))return ht(Lt,mt)}},Y=$(l+n,n,C);if(Y)return Y;var it=n>0?C.end:f(C.begin,-1);return it!=null&&!(n>0&&it==e.text.length)&&(Y=$(n>0?0:i.length-1,n,v(it)),Y)?Y:null}var Ti={selectAll:qs,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),zt)},killLine:function(t){return Hr(t,function(e){if(e.empty()){var r=pt(t.doc,e.head.line).text.length;return e.head.ch==r&&e.head.line<t.lastLine()?{from:e.head,to:_(e.head.line+1,0)}:{from:e.head,to:_(e.head.line,r)}}else return{from:e.from(),to:e.to()}})},deleteLine:function(t){return Hr(t,function(e){return{from:_(e.from().line,0),to:St(t.doc,_(e.to().line+1,0))}})},delLineLeft:function(t){return Hr(t,function(e){return{from:_(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(t){return Hr(t,function(e){var r=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:r},"div");return{from:n,to:e.from()}})},delWrappedLineRight:function(t){return Hr(t,function(e){var r=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:r},"div");return{from:e.from(),to:n}})},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(_(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(_(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(e){return pc(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(e){return gc(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(e){return zh(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy(function(e){var r=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:r},"div")},hn)},goLineLeft:function(t){return t.extendSelectionsBy(function(e){var r=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:r},"div")},hn)},goLineLeftSmart:function(t){return t.extendSelectionsBy(function(e){var r=t.cursorCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:r},"div");return n.ch<t.getLine(n.line).search(/\S/)?gc(t,e.head):n},hn)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"codepoint")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("	")},insertSoftTab:function(t){for(var e=[],r=t.listSelections(),n=t.options.tabSize,i=0;i<r.length;i++){var l=r[i].from(),c=vt(t.getLine(l.line),l.ch,n);e.push(Ye(n-c%n))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return Ve(t,function(){for(var e=t.listSelections(),r=[],n=0;n<e.length;n++)if(e[n].empty()){var i=e[n].head,l=pt(t.doc,i.line).text;if(l){if(i.ch==l.length&&(i=new _(i.line,i.ch-1)),i.ch>0)i=new _(i.line,i.ch+1),t.replaceRange(l.charAt(i.ch-1)+l.charAt(i.ch-2),_(i.line,i.ch-2),i,"+transpose");else if(i.line>t.doc.first){var c=pt(t.doc,i.line-1).text;c&&(i=new _(i.line,1),t.replaceRange(l.charAt(0)+t.doc.lineSeparator()+c.charAt(c.length-1),_(i.line-1,c.length-1),i,"+transpose"))}}r.push(new Pt(i,i))}t.setSelections(r)})},newlineAndIndent:function(t){return Ve(t,function(){for(var e=t.listSelections(),r=e.length-1;r>=0;r--)t.replaceRange(t.doc.lineSeparator(),e[r].anchor,e[r].head,"+input");e=t.listSelections();for(var n=0;n<e.length;n++)t.indentLine(e[n].from().line,null,!0);Nr(t)})},openLine:function(t){return t.replaceSelection(`
`,"start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function pc(t,e){var r=pt(t.doc,e),n=on(r);return n!=r&&(e=Rt(n)),Ra(!0,t,n,e,1)}function zh(t,e){var r=pt(t.doc,e),n=Tf(r);return n!=r&&(e=Rt(n)),Ra(!0,t,r,e,-1)}function gc(t,e){var r=pc(t,e.line),n=pt(t.doc,r.line),i=$t(n,t.doc.direction);if(!i||i[0].level==0){var l=Math.max(r.ch,n.text.search(/\S/)),c=e.line==r.line&&e.ch<=l&&e.ch;return _(r.line,c?0:l,r.sticky)}return r}function mo(t,e,r){if(typeof e=="string"&&(e=Ti[e],!e))return!1;t.display.input.ensurePolled();var n=t.display.shift,i=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),r&&(t.display.shift=!1),i=e(t)!=Nt}finally{t.display.shift=n,t.state.suppressEdits=!1}return i}function $h(t,e,r){for(var n=0;n<t.state.keyMaps.length;n++){var i=Br(e,t.state.keyMaps[n],r,t);if(i)return i}return t.options.extraKeys&&Br(e,t.options.extraKeys,r,t)||Br(e,t.options.keyMap,r,t)}var Uh=new Mt;function Oi(t,e,r,n){var i=t.state.keySeq;if(i){if(fc(e))return"handled";if(/\'$/.test(e)?t.state.keySeq=null:Uh.set(50,function(){t.state.keySeq==i&&(t.state.keySeq=null,t.display.input.reset())}),vc(t,i+" "+e,r,n))return!0}return vc(t,e,r,n)}function vc(t,e,r,n){var i=$h(t,e,n);return i=="multi"&&(t.state.keySeq=e),i=="handled"&&ve(t,"keyHandled",t,e,r),(i=="handled"||i=="multi")&&(ne(r),wa(t)),!!i}function mc(t,e){var r=dc(e,!0);return r?e.shiftKey&&!t.state.keySeq?Oi(t,"Shift-"+r,e,function(n){return mo(t,n,!0)})||Oi(t,r,e,function(n){if(typeof n=="string"?/^go[A-Z]/.test(n):n.motion)return mo(t,n)}):Oi(t,r,e,function(n){return mo(t,n)}):!1}function Kh(t,e,r){return Oi(t,"'"+r+"'",e,function(n){return mo(t,n,!0)})}var Pa=null;function yc(t){var e=this;if(!(t.target&&t.target!=e.display.input.getField())&&(e.curOp.focus=Zt(Jt(e)),!Qt(e,t))){k&&w<11&&t.keyCode==27&&(t.returnValue=!1);var r=t.keyCode;e.display.shift=r==16||t.shiftKey;var n=mc(e,t);D&&(Pa=n?r:null,!n&&r==88&&!pn&&(J?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),g&&!J&&!n&&r==46&&t.shiftKey&&!t.ctrlKey&&document.execCommand&&document.execCommand("cut"),r==18&&!/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)&&Xh(e)}}function Xh(t){var e=t.display.lineDiv;pe(e,"CodeMirror-crosshair");function r(n){(n.keyCode==18||!n.altKey)&&(dt(e,"CodeMirror-crosshair"),ue(document,"keyup",r),ue(document,"mouseover",r))}nt(document,"keyup",r),nt(document,"mouseover",r)}function bc(t){t.keyCode==16&&(this.doc.sel.shift=!1),Qt(this,t)}function wc(t){var e=this;if(!(t.target&&t.target!=e.display.input.getField())&&!(An(e.display,t)||Qt(e,t)||t.ctrlKey&&!t.altKey||J&&t.metaKey)){var r=t.keyCode,n=t.charCode;if(D&&r==Pa){Pa=null,ne(t);return}if(!(D&&(!t.which||t.which<10)&&mc(e,t))){var i=String.fromCharCode(n??r);i!="\b"&&(Kh(e,t,i)||e.display.input.onKeyPress(t))}}}var Gh=400,Ba=function(t,e,r){this.time=t,this.pos=e,this.button=r};Ba.prototype.compare=function(t,e,r){return this.time+Gh>t&&z(e,this.pos)==0&&r==this.button};var Li,Ai;function Qh(t,e){var r=+new Date;return Ai&&Ai.compare(r,t,e)?(Li=Ai=null,"triple"):Li&&Li.compare(r,t,e)?(Ai=new Ba(r,t,e),Li=null,"double"):(Li=new Ba(r,t,e),Ai=null,"single")}function xc(t){var e=this,r=e.display;if(!(Qt(e,t)||r.activeTouch&&r.input.supportsTouch())){if(r.input.ensurePolled(),r.shift=t.shiftKey,An(r,t)){x||(r.scroller.draggable=!1,setTimeout(function(){return r.scroller.draggable=!0},100));return}if(!Ha(e,t)){var n=ur(e,t),i=ei(t),l=n?Qh(n,i):"single";ge(e).focus(),i==1&&e.state.selectingText&&e.state.selectingText(t),!(n&&Yh(e,i,n,l,t))&&(i==1?n?Zh(e,n,l,t):_e(t)==r.scroller&&ne(t):i==2?(n&&uo(e.doc,n),setTimeout(function(){return r.input.focus()},20)):i==3&&(Z?e.display.input.onContextMenu(t):xa(e)))}}}function Yh(t,e,r,n,i){var l="Click";return n=="double"?l="Double"+l:n=="triple"&&(l="Triple"+l),l=(e==1?"Left":e==2?"Middle":"Right")+l,Oi(t,hc(l,i),i,function(c){if(typeof c=="string"&&(c=Ti[c]),!c)return!1;var f=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),f=c(t,r)!=Nt}finally{t.state.suppressEdits=!1}return f})}function qh(t,e,r){var n=t.getOption("configureMouse"),i=n?n(t,e,r):{};if(i.unit==null){var l=lt?r.shiftKey&&r.metaKey:r.altKey;i.unit=l?"rectangle":e=="single"?"char":e=="double"?"word":"line"}return(i.extend==null||t.doc.extend)&&(i.extend=t.doc.extend||r.shiftKey),i.addNew==null&&(i.addNew=J?r.metaKey:r.ctrlKey),i.moveOnDrag==null&&(i.moveOnDrag=!(J?r.altKey:r.ctrlKey)),i}function Zh(t,e,r,n){k?setTimeout(Xt(ks,t),0):t.curOp.focus=Zt(Jt(t));var i=qh(t,r,n),l=t.doc.sel,c;t.options.dragDrop&&Jo&&!t.isReadOnly()&&r=="single"&&(c=l.contains(e))>-1&&(z((c=l.ranges[c]).from(),e)<0||e.xRel>0)&&(z(c.to(),e)>0||e.xRel<0)?Jh(t,n,e,i):td(t,n,e,i)}function Jh(t,e,r,n){var i=t.display,l=!1,c=me(t,function(v){x&&(i.scroller.draggable=!1),t.state.draggingText=!1,t.state.delayingBlurEvent&&(t.hasFocus()?t.state.delayingBlurEvent=!1:xa(t)),ue(i.wrapper.ownerDocument,"mouseup",c),ue(i.wrapper.ownerDocument,"mousemove",f),ue(i.scroller,"dragstart",d),ue(i.scroller,"drop",c),l||(ne(v),n.addNew||uo(t.doc,r,null,null,n.extend),x&&!N||k&&w==9?setTimeout(function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()},20):i.input.focus())}),f=function(v){l=l||Math.abs(e.clientX-v.clientX)+Math.abs(e.clientY-v.clientY)>=10},d=function(){return l=!0};x&&(i.scroller.draggable=!0),t.state.draggingText=c,c.copy=!n.moveOnDrag,nt(i.wrapper.ownerDocument,"mouseup",c),nt(i.wrapper.ownerDocument,"mousemove",f),nt(i.scroller,"dragstart",d),nt(i.scroller,"drop",c),t.state.delayingBlurEvent=!0,setTimeout(function(){return i.input.focus()},20),i.scroller.dragDrop&&i.scroller.dragDrop()}function kc(t,e,r){if(r=="char")return new Pt(e,e);if(r=="word")return t.findWordAt(e);if(r=="line")return new Pt(_(e.line,0),St(t.doc,_(e.line+1,0)));var n=r(t,e);return new Pt(n.from,n.to)}function td(t,e,r,n){k&&xa(t);var i=t.display,l=t.doc;ne(e);var c,f,d=l.sel,v=d.ranges;if(n.addNew&&!n.extend?(f=l.sel.contains(r),f>-1?c=v[f]:c=new Pt(r,r)):(c=l.sel.primary(),f=l.sel.primIndex),n.unit=="rectangle")n.addNew||(c=new Pt(r,r)),r=ur(t,e,!0,!0),f=-1;else{var C=kc(t,r,n.unit);n.extend?c=Ia(c,C.anchor,C.head,n.extend):c=C}n.addNew?f==-1?(f=v.length,Ce(l,ln(t,v.concat([c]),f),{scroll:!1,origin:"*mouse"})):v.length>1&&v[f].empty()&&n.unit=="char"&&!n.extend?(Ce(l,ln(t,v.slice(0,f).concat(v.slice(f+1)),0),{scroll:!1,origin:"*mouse"}),d=l.sel):Fa(l,f,c,en):(f=0,Ce(l,new Xe([c],0),en),d=l.sel);var O=r;function j(ct){if(z(O,ct)!=0)if(O=ct,n.unit=="rectangle"){for(var ht=[],wt=t.options.tabSize,mt=vt(pt(l,r.line).text,r.ch,wt),Lt=vt(pt(l,ct.line).text,ct.ch,wt),Ut=Math.min(mt,Lt),be=Math.max(mt,Lt),te=Math.min(r.line,ct.line),ze=Math.min(t.lastLine(),Math.max(r.line,ct.line));te<=ze;te++){var Fe=pt(l,te).text,se=Qe(Fe,Ut,wt);Ut==be?ht.push(new Pt(_(te,se),_(te,se))):Fe.length>se&&ht.push(new Pt(_(te,se),_(te,Qe(Fe,be,wt))))}ht.length||ht.push(new Pt(r,r)),Ce(l,ln(t,d.ranges.slice(0,f).concat(ht),f),{origin:"*mouse",scroll:!1}),t.scrollIntoView(ct)}else{var je=c,ke=kc(t,ct,n.unit),de=je.anchor,ce;z(ke.anchor,de)>0?(ce=ke.head,de=he(je.from(),ke.anchor)):(ce=ke.anchor,de=Wt(je.to(),ke.head));var ie=d.ranges.slice(0);ie[f]=ed(t,new Pt(St(l,de),ce)),Ce(l,ln(t,ie,f),en)}}var F=i.wrapper.getBoundingClientRect(),$=0;function Y(ct){var ht=++$,wt=ur(t,ct,!0,n.unit=="rectangle");if(wt)if(z(wt,O)!=0){t.curOp.focus=Zt(Jt(t)),j(wt);var mt=io(i,l);(wt.line>=mt.to||wt.line<mt.from)&&setTimeout(me(t,function(){$==ht&&Y(ct)}),150)}else{var Lt=ct.clientY<F.top?-20:ct.clientY>F.bottom?20:0;Lt&&setTimeout(me(t,function(){$==ht&&(i.scroller.scrollTop+=Lt,Y(ct))}),50)}}function it(ct){t.state.selectingText=!1,$=1/0,ct&&(ne(ct),i.input.focus()),ue(i.wrapper.ownerDocument,"mousemove",st),ue(i.wrapper.ownerDocument,"mouseup",ft),l.history.lastSelOrigin=null}var st=me(t,function(ct){ct.buttons===0||!ei(ct)?it(ct):Y(ct)}),ft=me(t,it);t.state.selectingText=ft,nt(i.wrapper.ownerDocument,"mousemove",st),nt(i.wrapper.ownerDocument,"mouseup",ft)}function ed(t,e){var r=e.anchor,n=e.head,i=pt(t.doc,r.line);if(z(r,n)==0&&r.sticky==n.sticky)return e;var l=$t(i);if(!l)return e;var c=Et(l,r.ch,r.sticky),f=l[c];if(f.from!=r.ch&&f.to!=r.ch)return e;var d=c+(f.from==r.ch==(f.level!=1)?0:1);if(d==0||d==l.length)return e;var v;if(n.line!=r.line)v=(n.line-r.line)*(t.doc.direction=="ltr"?1:-1)>0;else{var C=Et(l,n.ch,n.sticky),O=C-c||(n.ch-r.ch)*(f.level==1?-1:1);C==d-1||C==d?v=O<0:v=O>0}var j=l[d+(v?-1:0)],F=v==(j.level==1),$=F?j.from:j.to,Y=F?"after":"before";return r.ch==$&&r.sticky==Y?e:new Pt(new _(r.line,$,Y),n)}function Cc(t,e,r,n){var i,l;if(e.touches)i=e.touches[0].clientX,l=e.touches[0].clientY;else try{i=e.clientX,l=e.clientY}catch{return!1}if(i>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;n&&ne(e);var c=t.display,f=c.lineDiv.getBoundingClientRect();if(l>f.bottom||!fe(t,r))return nn(e);l-=f.top-c.viewOffset;for(var d=0;d<t.display.gutterSpecs.length;++d){var v=c.gutters.childNodes[d];if(v&&v.getBoundingClientRect().right>=i){var C=vn(t.doc,l),O=t.display.gutterSpecs[d];return Bt(t,r,t,C,O.className,e),nn(e)}}}function Ha(t,e){return Cc(t,e,"gutterClick",!0)}function Sc(t,e){An(t.display,e)||nd(t,e)||Qt(t,e,"contextmenu")||Z||t.display.input.onContextMenu(e)}function nd(t,e){return fe(t,"gutterContextMenu")?Cc(t,e,"gutterContextMenu",!1):!1}function Mc(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),ci(t)}var Vr={toString:function(){return"CodeMirror.Init"}},Tc={},yo={};function rd(t){var e=t.optionHandlers;function r(n,i,l,c){t.defaults[n]=i,l&&(e[n]=c?function(f,d,v){v!=Vr&&l(f,d,v)}:l)}t.defineOption=r,t.Init=Vr,r("value","",function(n,i){return n.setValue(i)},!0),r("mode",null,function(n,i){n.doc.modeOption=i,Ea(n)},!0),r("indentUnit",2,Ea,!0),r("indentWithTabs",!1),r("smartIndent",!0),r("tabSize",4,function(n){mi(n),ci(n),Ne(n)},!0),r("lineSeparator",null,function(n,i){if(n.doc.lineSep=i,!!i){var l=[],c=n.doc.first;n.doc.iter(function(d){for(var v=0;;){var C=d.text.indexOf(i,v);if(C==-1)break;v=C+i.length,l.push(_(c,C))}c++});for(var f=l.length-1;f>=0;f--)Rr(n.doc,i,l[f],_(l[f].line,l[f].ch+i.length))}}),r("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(n,i,l){n.state.specialChars=new RegExp(i.source+(i.test("	")?"":"|	"),"g"),l!=Vr&&n.refresh()}),r("specialCharPlaceholder",_f,function(n){return n.refresh()},!0),r("electricChars",!0),r("inputStyle",G?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),r("spellcheck",!1,function(n,i){return n.getInputField().spellcheck=i},!0),r("autocorrect",!1,function(n,i){return n.getInputField().autocorrect=i},!0),r("autocapitalize",!1,function(n,i){return n.getInputField().autocapitalize=i},!0),r("rtlMoveVisually",!ut),r("wholeLineUpdateBefore",!0),r("theme","default",function(n){Mc(n),vi(n)},!0),r("keyMap","default",function(n,i,l){var c=vo(i),f=l!=Vr&&vo(l);f&&f.detach&&f.detach(n,c),c.attach&&c.attach(n,f||null)}),r("extraKeys",null),r("configureMouse",null),r("lineWrapping",!1,od,!0),r("gutters",[],function(n,i){n.display.gutterSpecs=Aa(i,n.options.lineNumbers),vi(n)},!0),r("fixedGutter",!0,function(n,i){n.display.gutters.style.left=i?ma(n.display)+"px":"0",n.refresh()},!0),r("coverGutterNextToScrollbar",!1,function(n){return Ir(n)},!0),r("scrollbarStyle","native",function(n){Ls(n),Ir(n),n.display.scrollbars.setScrollTop(n.doc.scrollTop),n.display.scrollbars.setScrollLeft(n.doc.scrollLeft)},!0),r("lineNumbers",!1,function(n,i){n.display.gutterSpecs=Aa(n.options.gutters,i),vi(n)},!0),r("firstLineNumber",1,vi,!0),r("lineNumberFormatter",function(n){return n},vi,!0),r("showCursorWhenSelecting",!1,ui,!0),r("resetSelectionOnContextMenu",!0),r("lineWiseCopyCut",!0),r("pasteLinesPerSelection",!0),r("selectionsMayTouch",!1),r("readOnly",!1,function(n,i){i=="nocursor"&&(_r(n),n.display.input.blur()),n.display.input.readOnlyChanged(i)}),r("screenReaderLabel",null,function(n,i){i=i===""?null:i,n.display.input.screenReaderLabelChanged(i)}),r("disableInput",!1,function(n,i){i||n.display.input.reset()},!0),r("dragDrop",!0,id),r("allowDropFileTypes",null),r("cursorBlinkRate",530),r("cursorScrollMargin",0),r("cursorHeight",1,ui,!0),r("singleCursorHeightPerLine",!0,ui,!0),r("workTime",100),r("workDelay",100),r("flattenSpans",!0,mi,!0),r("addModeClass",!1,mi,!0),r("pollInterval",100),r("undoDepth",200,function(n,i){return n.doc.history.undoDepth=i}),r("historyEventDelay",1250),r("viewportMargin",10,function(n){return n.refresh()},!0),r("maxHighlightLength",1e4,mi,!0),r("moveInputWithCursor",!0,function(n,i){i||n.display.input.resetPosition()}),r("tabindex",null,function(n,i){return n.display.input.getField().tabIndex=i||""}),r("autofocus",null),r("direction","ltr",function(n,i){return n.doc.setDirection(i)},!0),r("phrases",null)}function id(t,e,r){var n=r&&r!=Vr;if(!e!=!n){var i=t.display.dragFunctions,l=e?nt:ue;l(t.display.scroller,"dragstart",i.start),l(t.display.scroller,"dragenter",i.enter),l(t.display.scroller,"dragover",i.over),l(t.display.scroller,"dragleave",i.leave),l(t.display.scroller,"drop",i.drop)}}function od(t){t.options.lineWrapping?(pe(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(dt(t.display.wrapper,"CodeMirror-wrap"),la(t)),ya(t),Ne(t),ci(t),setTimeout(function(){return Ir(t)},100)}function Yt(t,e){var r=this;if(!(this instanceof Yt))return new Yt(t,e);this.options=e=e?xt(e):{},xt(Tc,e,!1);var n=e.value;typeof n=="string"?n=new Ie(n,e.mode,null,e.lineSeparator,e.direction):e.mode&&(n.modeOption=e.mode),this.doc=n;var i=new Yt.inputStyles[e.inputStyle](this),l=this.display=new yh(t,n,i,e);l.wrapper.CodeMirror=this,Mc(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Ls(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Mt,keySeq:null,specialChars:null},e.autofocus&&!G&&l.input.focus(),k&&w<11&&setTimeout(function(){return r.display.input.reset(!0)},20),ad(this),Wh(),pr(this),this.curOp.forceUpdate=!0,Rs(this,n),e.autofocus&&!G||this.hasFocus()?setTimeout(function(){r.hasFocus()&&!r.state.focused&&ka(r)},20):_r(this);for(var c in yo)yo.hasOwnProperty(c)&&yo[c](this,e[c],Vr);Es(this),e.finishInit&&e.finishInit(this);for(var f=0;f<Va.length;++f)Va[f](this);gr(this),x&&e.lineWrapping&&getComputedStyle(l.lineDiv).textRendering=="optimizelegibility"&&(l.lineDiv.style.textRendering="auto")}Yt.defaults=Tc,Yt.optionHandlers=yo;function ad(t){var e=t.display;nt(e.scroller,"mousedown",me(t,xc)),k&&w<11?nt(e.scroller,"dblclick",me(t,function(d){if(!Qt(t,d)){var v=ur(t,d);if(!(!v||Ha(t,d)||An(t.display,d))){ne(d);var C=t.findWordAt(v);uo(t.doc,C.anchor,C.head)}}})):nt(e.scroller,"dblclick",function(d){return Qt(t,d)||ne(d)}),nt(e.scroller,"contextmenu",function(d){return Sc(t,d)}),nt(e.input.getField(),"contextmenu",function(d){e.scroller.contains(d.target)||Sc(t,d)});var r,n={end:0};function i(){e.activeTouch&&(r=setTimeout(function(){return e.activeTouch=null},1e3),n=e.activeTouch,n.end=+new Date)}function l(d){if(d.touches.length!=1)return!1;var v=d.touches[0];return v.radiusX<=1&&v.radiusY<=1}function c(d,v){if(v.left==null)return!0;var C=v.left-d.left,O=v.top-d.top;return C*C+O*O>20*20}nt(e.scroller,"touchstart",function(d){if(!Qt(t,d)&&!l(d)&&!Ha(t,d)){e.input.ensurePolled(),clearTimeout(r);var v=+new Date;e.activeTouch={start:v,moved:!1,prev:v-n.end<=300?n:null},d.touches.length==1&&(e.activeTouch.left=d.touches[0].pageX,e.activeTouch.top=d.touches[0].pageY)}}),nt(e.scroller,"touchmove",function(){e.activeTouch&&(e.activeTouch.moved=!0)}),nt(e.scroller,"touchend",function(d){var v=e.activeTouch;if(v&&!An(e,d)&&v.left!=null&&!v.moved&&new Date-v.start<300){var C=t.coordsChar(e.activeTouch,"page"),O;!v.prev||c(v,v.prev)?O=new Pt(C,C):!v.prev.prev||c(v,v.prev.prev)?O=t.findWordAt(C):O=new Pt(_(C.line,0),St(t.doc,_(C.line+1,0))),t.setSelection(O.anchor,O.head),t.focus(),ne(d)}i()}),nt(e.scroller,"touchcancel",i),nt(e.scroller,"scroll",function(){e.scroller.clientHeight&&(hi(t,e.scroller.scrollTop),hr(t,e.scroller.scrollLeft,!0),Bt(t,"scroll",t))}),nt(e.scroller,"mousewheel",function(d){return Is(t,d)}),nt(e.scroller,"DOMMouseScroll",function(d){return Is(t,d)}),nt(e.wrapper,"scroll",function(){return e.wrapper.scrollTop=e.wrapper.scrollLeft=0}),e.dragFunctions={enter:function(d){Qt(t,d)||Sn(d)},over:function(d){Qt(t,d)||(jh(t,d),Sn(d))},start:function(d){return Fh(t,d)},drop:me(t,Ih),leave:function(d){Qt(t,d)||sc(t)}};var f=e.input.getField();nt(f,"keyup",function(d){return bc.call(t,d)}),nt(f,"keydown",me(t,yc)),nt(f,"keypress",me(t,wc)),nt(f,"focus",function(d){return ka(t,d)}),nt(f,"blur",function(d){return _r(t,d)})}var Va=[];Yt.defineInitHook=function(t){return Va.push(t)};function Di(t,e,r,n){var i=t.doc,l;r==null&&(r="add"),r=="smart"&&(i.mode.indent?l=ii(t,e).state:r="prev");var c=t.options.tabSize,f=pt(i,e),d=vt(f.text,null,c);f.stateAfter&&(f.stateAfter=null);var v=f.text.match(/^\s*/)[0],C;if(!n&&!/\S/.test(f.text))C=0,r="not";else if(r=="smart"&&(C=i.mode.indent(l,f.text.slice(v.length),f.text),C==Nt||C>150)){if(!n)return;r="prev"}r=="prev"?e>i.first?C=vt(pt(i,e-1).text,null,c):C=0:r=="add"?C=d+t.options.indentUnit:r=="subtract"?C=d-t.options.indentUnit:typeof r=="number"&&(C=d+r),C=Math.max(0,C);var O="",j=0;if(t.options.indentWithTabs)for(var F=Math.floor(C/c);F;--F)j+=c,O+="	";if(j<C&&(O+=Ye(C-j)),O!=v)return Rr(i,O,_(e,0),_(e,v.length),"+input"),f.stateAfter=null,!0;for(var $=0;$<i.sel.ranges.length;$++){var Y=i.sel.ranges[$];if(Y.head.line==e&&Y.head.ch<v.length){var it=_(e,v.length);Fa(i,$,new Pt(it,it));break}}}var sn=null;function bo(t){sn=t}function za(t,e,r,n,i){var l=t.doc;t.display.shift=!1,n||(n=l.sel);var c=+new Date-200,f=i=="paste"||t.state.pasteIncoming>c,d=ni(e),v=null;if(f&&n.ranges.length>1)if(sn&&sn.text.join(`
`)==e){if(n.ranges.length%sn.text.length==0){v=[];for(var C=0;C<sn.text.length;C++)v.push(l.splitLines(sn.text[C]))}}else d.length==n.ranges.length&&t.options.pasteLinesPerSelection&&(v=Cn(d,function(st){return[st]}));for(var O=t.curOp.updateInput,j=n.ranges.length-1;j>=0;j--){var F=n.ranges[j],$=F.from(),Y=F.to();F.empty()&&(r&&r>0?$=_($.line,$.ch-r):t.state.overwrite&&!f?Y=_(Y.line,Math.min(pt(l,Y.line).text.length,Y.ch+At(d).length)):f&&sn&&sn.lineWise&&sn.text.join(`
`)==d.join(`
`)&&($=Y=_($.line,0)));var it={from:$,to:Y,text:v?v[j%v.length]:d,origin:i||(f?"paste":t.state.cutIncoming>c?"cut":"+input")};Wr(t.doc,it),ve(t,"inputRead",t,it)}e&&!f&&Lc(t,e),Nr(t),t.curOp.updateInput<2&&(t.curOp.updateInput=O),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=-1}function Oc(t,e){var r=t.clipboardData&&t.clipboardData.getData("Text");if(r)return t.preventDefault(),!e.isReadOnly()&&!e.options.disableInput&&e.hasFocus()&&Ve(e,function(){return za(e,r,0,null,"paste")}),!0}function Lc(t,e){if(!(!t.options.electricChars||!t.options.smartIndent))for(var r=t.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var l=t.getModeAt(i.head),c=!1;if(l.electricChars){for(var f=0;f<l.electricChars.length;f++)if(e.indexOf(l.electricChars.charAt(f))>-1){c=Di(t,i.head.line,"smart");break}}else l.electricInput&&l.electricInput.test(pt(t.doc,i.head.line).text.slice(0,i.head.ch))&&(c=Di(t,i.head.line,"smart"));c&&ve(t,"electricInput",t,i.head.line)}}}function Ac(t){for(var e=[],r=[],n=0;n<t.doc.sel.ranges.length;n++){var i=t.doc.sel.ranges[n].head.line,l={anchor:_(i,0),head:_(i+1,0)};r.push(l),e.push(t.getRange(l.anchor,l.head))}return{text:e,ranges:r}}function $a(t,e,r,n){t.setAttribute("autocorrect",r?"on":"off"),t.setAttribute("autocapitalize",n?"on":"off"),t.setAttribute("spellcheck",!!e)}function Dc(){var t=E("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),e=E("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return x?t.style.width="1000px":t.setAttribute("wrap","off"),U&&(t.style.border="1px solid black"),e}function ld(t){var e=t.optionHandlers,r=t.helpers={};t.prototype={constructor:t,focus:function(){ge(this).focus(),this.display.input.focus()},setOption:function(n,i){var l=this.options,c=l[n];l[n]==i&&n!="mode"||(l[n]=i,e.hasOwnProperty(n)&&me(this,e[n])(this,i,c),Bt(this,"optionChange",this,n))},getOption:function(n){return this.options[n]},getDoc:function(){return this.doc},addKeyMap:function(n,i){this.state.keyMaps[i?"push":"unshift"](vo(n))},removeKeyMap:function(n){for(var i=this.state.keyMaps,l=0;l<i.length;++l)if(i[l]==n||i[l].name==n)return i.splice(l,1),!0},addOverlay:Ae(function(n,i){var l=n.token?n:t.getMode(this.options,n);if(l.startState)throw new Error("Overlays may not be stateful.");b(this.state.overlays,{mode:l,modeSpec:n,opaque:i&&i.opaque,priority:i&&i.priority||0},function(c){return c.priority}),this.state.modeGen++,Ne(this)}),removeOverlay:Ae(function(n){for(var i=this.state.overlays,l=0;l<i.length;++l){var c=i[l].modeSpec;if(c==n||typeof n=="string"&&c.name==n){i.splice(l,1),this.state.modeGen++,Ne(this);return}}}),indentLine:Ae(function(n,i,l){typeof i!="string"&&typeof i!="number"&&(i==null?i=this.options.smartIndent?"smart":"prev":i=i?"add":"subtract"),y(this.doc,n)&&Di(this,n,i,l)}),indentSelection:Ae(function(n){for(var i=this.doc.sel.ranges,l=-1,c=0;c<i.length;c++){var f=i[c];if(f.empty())f.head.line>l&&(Di(this,f.head.line,n,!0),l=f.head.line,c==this.doc.sel.primIndex&&Nr(this));else{var d=f.from(),v=f.to(),C=Math.max(l,d.line);l=Math.min(this.lastLine(),v.line-(v.ch?0:1))+1;for(var O=C;O<l;++O)Di(this,O,n);var j=this.doc.sel.ranges;d.ch==0&&i.length==j.length&&j[c].from().ch>0&&Fa(this.doc,c,new Pt(d,j[c].to()),zt)}}}),getTokenAt:function(n,i){return Bl(this,n,i)},getLineTokens:function(n,i){return Bl(this,_(n),i,!0)},getTokenTypeAt:function(n){n=St(this.doc,n);var i=Wl(this,pt(this.doc,n.line)),l=0,c=(i.length-1)/2,f=n.ch,d;if(f==0)d=i[2];else for(;;){var v=l+c>>1;if((v?i[v*2-1]:0)>=f)c=v;else if(i[v*2+1]<f)l=v+1;else{d=i[v*2+2];break}}var C=d?d.indexOf("overlay "):-1;return C<0?d:C==0?null:d.slice(0,C-1)},getModeAt:function(n){var i=this.doc.mode;return i.innerMode?t.innerMode(i,this.getTokenAt(n).state).mode:i},getHelper:function(n,i){return this.getHelpers(n,i)[0]},getHelpers:function(n,i){var l=[];if(!r.hasOwnProperty(i))return l;var c=r[i],f=this.getModeAt(n);if(typeof f[i]=="string")c[f[i]]&&l.push(c[f[i]]);else if(f[i])for(var d=0;d<f[i].length;d++){var v=c[f[i][d]];v&&l.push(v)}else f.helperType&&c[f.helperType]?l.push(c[f.helperType]):c[f.name]&&l.push(c[f.name]);for(var C=0;C<c._global.length;C++){var O=c._global[C];O.pred(f,this)&&Ot(l,O.val)==-1&&l.push(O.val)}return l},getStateAfter:function(n,i){var l=this.doc;return n=Ke(l,n??l.first+l.size-1),ii(this,n+1,i).state},cursorCoords:function(n,i){var l,c=this.doc.sel.primary();return n==null?l=c.head:typeof n=="object"?l=St(this.doc,n):l=n?c.from():c.to(),an(this,l,i||"page")},charCoords:function(n,i){return to(this,St(this.doc,n),i||"page")},coordsChar:function(n,i){return n=gs(this,n,i||"page"),pa(this,n.left,n.top)},lineAtHeight:function(n,i){return n=gs(this,{top:n,left:0},i||"page").top,vn(this.doc,n+this.display.viewOffset)},heightAtLine:function(n,i,l){var c=!1,f;if(typeof n=="number"){var d=this.doc.first+this.doc.size-1;n<this.doc.first?n=this.doc.first:n>d&&(n=d,c=!0),f=pt(this.doc,n)}else f=n;return Ji(this,f,{top:0,left:0},i||"page",l||c).top+(c?this.doc.height-Ln(f):0)},defaultTextHeight:function(){return Dr(this.display)},defaultCharWidth:function(){return Er(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(n,i,l,c,f){var d=this.display;n=an(this,St(this.doc,n));var v=n.bottom,C=n.left;if(i.style.position="absolute",i.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(i),d.sizer.appendChild(i),c=="over")v=n.top;else if(c=="above"||c=="near"){var O=Math.max(d.wrapper.clientHeight,this.doc.height),j=Math.max(d.sizer.clientWidth,d.lineSpace.clientWidth);(c=="above"||n.bottom+i.offsetHeight>O)&&n.top>i.offsetHeight?v=n.top-i.offsetHeight:n.bottom+i.offsetHeight<=O&&(v=n.bottom),C+i.offsetWidth>j&&(C=j-i.offsetWidth)}i.style.top=v+"px",i.style.left=i.style.right="",f=="right"?(C=d.sizer.clientWidth-i.offsetWidth,i.style.right="0px"):(f=="left"?C=0:f=="middle"&&(C=(d.sizer.clientWidth-i.offsetWidth)/2),i.style.left=C+"px"),l&&ih(this,{left:C,top:v,right:C+i.offsetWidth,bottom:v+i.offsetHeight})},triggerOnKeyDown:Ae(yc),triggerOnKeyPress:Ae(wc),triggerOnKeyUp:bc,triggerOnMouseDown:Ae(xc),execCommand:function(n){if(Ti.hasOwnProperty(n))return Ti[n].call(null,this)},triggerElectric:Ae(function(n){Lc(this,n)}),findPosH:function(n,i,l,c){var f=1;i<0&&(f=-1,i=-i);for(var d=St(this.doc,n),v=0;v<i&&(d=Ua(this.doc,d,f,l,c),!d.hitSide);++v);return d},moveH:Ae(function(n,i){var l=this;this.extendSelectionsBy(function(c){return l.display.shift||l.doc.extend||c.empty()?Ua(l.doc,c.head,n,i,l.options.rtlMoveVisually):n<0?c.from():c.to()},hn)}),deleteH:Ae(function(n,i){var l=this.doc.sel,c=this.doc;l.somethingSelected()?c.replaceSelection("",null,"+delete"):Hr(this,function(f){var d=Ua(c,f.head,n,i,!1);return n<0?{from:d,to:f.head}:{from:f.head,to:d}})}),findPosV:function(n,i,l,c){var f=1,d=c;i<0&&(f=-1,i=-i);for(var v=St(this.doc,n),C=0;C<i;++C){var O=an(this,v,"div");if(d==null?d=O.left:O.left=d,v=Ec(this,O,f,l),v.hitSide)break}return v},moveV:Ae(function(n,i){var l=this,c=this.doc,f=[],d=!this.display.shift&&!c.extend&&c.sel.somethingSelected();if(c.extendSelectionsBy(function(C){if(d)return n<0?C.from():C.to();var O=an(l,C.head,"div");C.goalColumn!=null&&(O.left=C.goalColumn),f.push(O.left);var j=Ec(l,O,n,i);return i=="page"&&C==c.sel.primary()&&Sa(l,to(l,j,"div").top-O.top),j},hn),f.length)for(var v=0;v<c.sel.ranges.length;v++)c.sel.ranges[v].goalColumn=f[v]}),findWordAt:function(n){var i=this.doc,l=pt(i,n.line).text,c=n.ch,f=n.ch;if(l){var d=this.getHelper(n,"wordChars");(n.sticky=="before"||f==l.length)&&c?--c:++f;for(var v=l.charAt(c),C=P(v,d)?function(O){return P(O,d)}:/\s/.test(v)?function(O){return/\s/.test(O)}:function(O){return!/\s/.test(O)&&!P(O)};c>0&&C(l.charAt(c-1));)--c;for(;f<l.length&&C(l.charAt(f));)++f}return new Pt(_(n.line,c),_(n.line,f))},toggleOverwrite:function(n){n!=null&&n==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?pe(this.display.cursorDiv,"CodeMirror-overwrite"):dt(this.display.cursorDiv,"CodeMirror-overwrite"),Bt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Zt(Jt(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Ae(function(n,i){fi(this,n,i)}),getScrollInfo:function(){var n=this.display.scroller;return{left:n.scrollLeft,top:n.scrollTop,height:n.scrollHeight-yn(this)-this.display.barHeight,width:n.scrollWidth-yn(this)-this.display.barWidth,clientHeight:ua(this),clientWidth:sr(this)}},scrollIntoView:Ae(function(n,i){n==null?(n={from:this.doc.sel.primary().head,to:null},i==null&&(i=this.options.cursorScrollMargin)):typeof n=="number"?n={from:_(n,0),to:null}:n.from==null&&(n={from:n,to:null}),n.to||(n.to=n.from),n.margin=i||0,n.from.line!=null?oh(this,n):Ss(this,n.from,n.to,n.margin)}),setSize:Ae(function(n,i){var l=this,c=function(d){return typeof d=="number"||/^\d+$/.test(String(d))?d+"px":d};n!=null&&(this.display.wrapper.style.width=c(n)),i!=null&&(this.display.wrapper.style.height=c(i)),this.options.lineWrapping&&hs(this);var f=this.display.viewFrom;this.doc.iter(f,this.display.viewTo,function(d){if(d.widgets){for(var v=0;v<d.widgets.length;v++)if(d.widgets[v].noHScroll){$n(l,f,"widget");break}}++f}),this.curOp.forceUpdate=!0,Bt(this,"refresh",this)}),operation:function(n){return Ve(this,n)},startOperation:function(){return pr(this)},endOperation:function(){return gr(this)},refresh:Ae(function(){var n=this.display.cachedTextHeight;Ne(this),this.curOp.forceUpdate=!0,ci(this),fi(this,this.doc.scrollLeft,this.doc.scrollTop),Oa(this.display),(n==null||Math.abs(n-Dr(this.display))>.5||this.options.lineWrapping)&&ya(this),Bt(this,"refresh",this)}),swapDoc:Ae(function(n){var i=this.doc;return i.cm=null,this.state.selectingText&&this.state.selectingText(),Rs(this,n),ci(this),this.display.input.reset(),fi(this,n.scrollLeft,n.scrollTop),this.curOp.forceScroll=!0,ve(this,"swapDoc",this,i),i}),phrase:function(n){var i=this.options.phrases;return i&&Object.prototype.hasOwnProperty.call(i,n)?i[n]:n},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},oe(t),t.registerHelper=function(n,i,l){r.hasOwnProperty(n)||(r[n]=t[n]={_global:[]}),r[n][i]=l},t.registerGlobalHelper=function(n,i,l,c){t.registerHelper(n,i,c),r[n]._global.push({pred:l,val:c})}}function Ua(t,e,r,n,i){var l=e,c=r,f=pt(t,e.line),d=i&&t.direction=="rtl"?-r:r;function v(){var ft=e.line+d;return ft<t.first||ft>=t.first+t.size?!1:(e=new _(ft,e.ch,e.sticky),f=pt(t,ft))}function C(ft){var ct;if(n=="codepoint"){var ht=f.text.charCodeAt(e.ch+(r>0?0:-1));if(isNaN(ht))ct=null;else{var wt=r>0?ht>=55296&&ht<56320:ht>=56320&&ht<57343;ct=new _(e.line,Math.max(0,Math.min(f.text.length,e.ch+r*(wt?2:1))),-r)}}else i?ct=Vh(t.cm,f,e,r):ct=Wa(f,e,r);if(ct==null)if(!ft&&v())e=Ra(i,t.cm,f,e.line,d);else return!1;else e=ct;return!0}if(n=="char"||n=="codepoint")C();else if(n=="column")C(!0);else if(n=="word"||n=="group")for(var O=null,j=n=="group",F=t.cm&&t.cm.getHelper(e,"wordChars"),$=!0;!(r<0&&!C(!$));$=!1){var Y=f.text.charAt(e.ch)||`
`,it=P(Y,F)?"w":j&&Y==`
`?"n":!j||/\s/.test(Y)?null:"p";if(j&&!$&&!it&&(it="s"),O&&O!=it){r<0&&(r=1,C(),e.sticky="after");break}if(it&&(O=it),r>0&&!C(!$))break}var st=ho(t,e,l,c,!0);return Ct(l,st)&&(st.hitSide=!0),st}function Ec(t,e,r,n){var i=t.doc,l=e.left,c;if(n=="page"){var f=Math.min(t.display.wrapper.clientHeight,ge(t).innerHeight||i(t).documentElement.clientHeight),d=Math.max(f-.5*Dr(t.display),3);c=(r>0?e.bottom:e.top)+r*d}else n=="line"&&(c=r>0?e.bottom+3:e.top-3);for(var v;v=pa(t,l,c),!!v.outside;){if(r<0?c<=0:c>=i.height){v.hitSide=!0;break}c+=r*5}return v}var Ht=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Mt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Ht.prototype.init=function(t){var e=this,r=this,n=r.cm,i=r.div=t.lineDiv;i.contentEditable=!0,$a(i,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize);function l(f){for(var d=f.target;d;d=d.parentNode){if(d==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(d.className))break}return!1}nt(i,"paste",function(f){!l(f)||Qt(n,f)||Oc(f,n)||w<=11&&setTimeout(me(n,function(){return e.updateFromDOM()}),20)}),nt(i,"compositionstart",function(f){e.composing={data:f.data,done:!1}}),nt(i,"compositionupdate",function(f){e.composing||(e.composing={data:f.data,done:!1})}),nt(i,"compositionend",function(f){e.composing&&(f.data!=e.composing.data&&e.readFromDOMSoon(),e.composing.done=!0)}),nt(i,"touchstart",function(){return r.forceCompositionEnd()}),nt(i,"input",function(){e.composing||e.readFromDOMSoon()});function c(f){if(!(!l(f)||Qt(n,f))){if(n.somethingSelected())bo({lineWise:!1,text:n.getSelections()}),f.type=="cut"&&n.replaceSelection("",null,"cut");else if(n.options.lineWiseCopyCut){var d=Ac(n);bo({lineWise:!0,text:d.text}),f.type=="cut"&&n.operation(function(){n.setSelections(d.ranges,0,zt),n.replaceSelection("",null,"cut")})}else return;if(f.clipboardData){f.clipboardData.clearData();var v=sn.text.join(`
`);if(f.clipboardData.setData("Text",v),f.clipboardData.getData("Text")==v){f.preventDefault();return}}var C=Dc(),O=C.firstChild;$a(O),n.display.lineSpace.insertBefore(C,n.display.lineSpace.firstChild),O.value=sn.text.join(`
`);var j=Zt(i.ownerDocument);tn(O),setTimeout(function(){n.display.lineSpace.removeChild(C),j.focus(),j==i&&r.showPrimarySelection()},50)}}nt(i,"copy",c),nt(i,"cut",c)},Ht.prototype.screenReaderLabelChanged=function(t){t?this.div.setAttribute("aria-label",t):this.div.removeAttribute("aria-label")},Ht.prototype.prepareSelection=function(){var t=xs(this.cm,!1);return t.focus=Zt(this.div.ownerDocument)==this.div,t},Ht.prototype.showSelection=function(t,e){!t||!this.cm.display.view.length||((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},Ht.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ht.prototype.showPrimarySelection=function(){var t=this.getSelection(),e=this.cm,r=e.doc.sel.primary(),n=r.from(),i=r.to();if(e.display.viewTo==e.display.viewFrom||n.line>=e.display.viewTo||i.line<e.display.viewFrom){t.removeAllRanges();return}var l=wo(e,t.anchorNode,t.anchorOffset),c=wo(e,t.focusNode,t.focusOffset);if(!(l&&!l.bad&&c&&!c.bad&&z(he(l,c),n)==0&&z(Wt(l,c),i)==0)){var f=e.display.view,d=n.line>=e.display.viewFrom&&_c(e,n)||{node:f[0].measure.map[2],offset:0},v=i.line<e.display.viewTo&&_c(e,i);if(!v){var C=f[f.length-1].measure,O=C.maps?C.maps[C.maps.length-1]:C.map;v={node:O[O.length-1],offset:O[O.length-2]-O[O.length-3]}}if(!d||!v){t.removeAllRanges();return}var j=t.rangeCount&&t.getRangeAt(0),F;try{F=Ft(d.node,d.offset,v.offset,v.node)}catch{}F&&(!g&&e.state.focused?(t.collapse(d.node,d.offset),F.collapsed||(t.removeAllRanges(),t.addRange(F))):(t.removeAllRanges(),t.addRange(F)),j&&t.anchorNode==null?t.addRange(j):g&&this.startGracePeriod()),this.rememberSelection()}},Ht.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){return t.cm.curOp.selectionChanged=!0})},20)},Ht.prototype.showMultipleSelections=function(t){at(this.cm.display.cursorDiv,t.cursors),at(this.cm.display.selectionDiv,t.selection)},Ht.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},Ht.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return xe(this.div,e)},Ht.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||Zt(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ht.prototype.blur=function(){this.div.blur()},Ht.prototype.getField=function(){return this.div},Ht.prototype.supportsTouch=function(){return!0},Ht.prototype.receivedFocus=function(){var t=this,e=this;this.selectionInEditor()?setTimeout(function(){return t.pollSelection()},20):Ve(this.cm,function(){return e.cm.curOp.selectionChanged=!0});function r(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,r))}this.polling.set(this.cm.options.pollInterval,r)},Ht.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},Ht.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var t=this.getSelection(),e=this.cm;if(Q&&M&&this.cm.display.gutterSpecs.length&&sd(t.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var r=wo(e,t.anchorNode,t.anchorOffset),n=wo(e,t.focusNode,t.focusOffset);r&&n&&Ve(e,function(){Ce(e.doc,Kn(r,n),zt),(r.bad||n.bad)&&(e.curOp.selectionChanged=!0)})}}},Ht.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t=this.cm,e=t.display,r=t.doc.sel.primary(),n=r.from(),i=r.to();if(n.ch==0&&n.line>t.firstLine()&&(n=_(n.line-1,pt(t.doc,n.line-1).length)),i.ch==pt(t.doc,i.line).text.length&&i.line<t.lastLine()&&(i=_(i.line+1,0)),n.line<e.viewFrom||i.line>e.viewTo-1)return!1;var l,c,f;n.line==e.viewFrom||(l=fr(t,n.line))==0?(c=Rt(e.view[0].line),f=e.view[0].node):(c=Rt(e.view[l].line),f=e.view[l-1].node.nextSibling);var d=fr(t,i.line),v,C;if(d==e.view.length-1?(v=e.viewTo-1,C=e.lineDiv.lastChild):(v=Rt(e.view[d+1].line)-1,C=e.view[d+1].node.previousSibling),!f)return!1;for(var O=t.doc.splitLines(cd(t,f,C,c,v)),j=Tn(t.doc,_(c,0),_(v,pt(t.doc,v).text.length));O.length>1&&j.length>1;)if(At(O)==At(j))O.pop(),j.pop(),v--;else if(O[0]==j[0])O.shift(),j.shift(),c++;else break;for(var F=0,$=0,Y=O[0],it=j[0],st=Math.min(Y.length,it.length);F<st&&Y.charCodeAt(F)==it.charCodeAt(F);)++F;for(var ft=At(O),ct=At(j),ht=Math.min(ft.length-(O.length==1?F:0),ct.length-(j.length==1?F:0));$<ht&&ft.charCodeAt(ft.length-$-1)==ct.charCodeAt(ct.length-$-1);)++$;if(O.length==1&&j.length==1&&c==n.line)for(;F&&F>n.ch&&ft.charCodeAt(ft.length-$-1)==ct.charCodeAt(ct.length-$-1);)F--,$++;O[O.length-1]=ft.slice(0,ft.length-$).replace(/^\u200b+/,""),O[0]=O[0].slice(F).replace(/\u200b+$/,"");var wt=_(c,F),mt=_(v,j.length?At(j).length-$:0);if(O.length>1||O[0]||z(wt,mt))return Rr(t.doc,O,wt,mt,"+input"),!0},Ht.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ht.prototype.reset=function(){this.forceCompositionEnd()},Ht.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ht.prototype.readFromDOMSoon=function(){var t=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(t.readDOMTimeout=null,t.composing)if(t.composing.done)t.composing=null;else return;t.updateFromDOM()},80))},Ht.prototype.updateFromDOM=function(){var t=this;(this.cm.isReadOnly()||!this.pollContent())&&Ve(this.cm,function(){return Ne(t.cm)})},Ht.prototype.setUneditable=function(t){t.contentEditable="false"},Ht.prototype.onKeyPress=function(t){t.charCode==0||this.composing||(t.preventDefault(),this.cm.isReadOnly()||me(this.cm,za)(this.cm,String.fromCharCode(t.charCode==null?t.keyCode:t.charCode),0))},Ht.prototype.readOnlyChanged=function(t){this.div.contentEditable=String(t!="nocursor")},Ht.prototype.onContextMenu=function(){},Ht.prototype.resetPosition=function(){},Ht.prototype.needsContentAttribute=!0;function _c(t,e){var r=fa(t,e.line);if(!r||r.hidden)return null;var n=pt(t.doc,e.line),i=ls(r,n,e.line),l=$t(n,t.doc.direction),c="left";if(l){var f=Et(l,e.ch);c=f%2?"right":"left"}var d=us(i.map,e.ch,c);return d.offset=d.collapse=="right"?d.end:d.start,d}function sd(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}function zr(t,e){return e&&(t.bad=!0),t}function cd(t,e,r,n,i){var l="",c=!1,f=t.doc.lineSeparator(),d=!1;function v(F){return function($){return $.id==F}}function C(){c&&(l+=f,d&&(l+=f),c=d=!1)}function O(F){F&&(C(),l+=F)}function j(F){if(F.nodeType==1){var $=F.getAttribute("cm-text");if($){O($);return}var Y=F.getAttribute("cm-marker"),it;if(Y){var st=t.findMarks(_(n,0),_(i+1,0),v(+Y));st.length&&(it=st[0].find(0))&&O(Tn(t.doc,it.from,it.to).join(f));return}if(F.getAttribute("contenteditable")=="false")return;var ft=/^(pre|div|p|li|table|br)$/i.test(F.nodeName);if(!/^br$/i.test(F.nodeName)&&F.textContent.length==0)return;ft&&C();for(var ct=0;ct<F.childNodes.length;ct++)j(F.childNodes[ct]);/^(pre|p)$/i.test(F.nodeName)&&(d=!0),ft&&(c=!0)}else F.nodeType==3&&O(F.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;j(e),e!=r;)e=e.nextSibling,d=!1;return l}function wo(t,e,r){var n;if(e==t.display.lineDiv){if(n=t.display.lineDiv.childNodes[r],!n)return zr(t.clipPos(_(t.display.viewTo-1)),!0);e=null,r=0}else for(n=e;;n=n.parentNode){if(!n||n==t.display.lineDiv)return null;if(n.parentNode&&n.parentNode==t.display.lineDiv)break}for(var i=0;i<t.display.view.length;i++){var l=t.display.view[i];if(l.node==n)return ud(l,e,r)}}function ud(t,e,r){var n=t.text.firstChild,i=!1;if(!e||!xe(n,e))return zr(_(Rt(t.line),0),!0);if(e==n&&(i=!0,e=n.childNodes[r],r=0,!e)){var l=t.rest?At(t.rest):t.line;return zr(_(Rt(l),l.text.length),i)}var c=e.nodeType==3?e:null,f=e;for(!c&&e.childNodes.length==1&&e.firstChild.nodeType==3&&(c=e.firstChild,r&&(r=c.nodeValue.length));f.parentNode!=n;)f=f.parentNode;var d=t.measure,v=d.maps;function C(it,st,ft){for(var ct=-1;ct<(v?v.length:0);ct++)for(var ht=ct<0?d.map:v[ct],wt=0;wt<ht.length;wt+=3){var mt=ht[wt+2];if(mt==it||mt==st){var Lt=Rt(ct<0?t.line:t.rest[ct]),Ut=ht[wt]+ft;return(ft<0||mt!=it)&&(Ut=ht[wt+(ft?1:0)]),_(Lt,Ut)}}}var O=C(c,f,r);if(O)return zr(O,i);for(var j=f.nextSibling,F=c?c.nodeValue.length-r:0;j;j=j.nextSibling){if(O=C(j,j.firstChild,0),O)return zr(_(O.line,O.ch-F),i);F+=j.textContent.length}for(var $=f.previousSibling,Y=r;$;$=$.previousSibling){if(O=C($,$.firstChild,-1),O)return zr(_(O.line,O.ch+Y),i);Y+=$.textContent.length}}var ae=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new Mt,this.hasSelection=!1,this.composing=null,this.resetting=!1};ae.prototype.init=function(t){var e=this,r=this,n=this.cm;this.createField(t);var i=this.textarea;t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),U&&(i.style.width="0px"),nt(i,"input",function(){k&&w>=9&&e.hasSelection&&(e.hasSelection=null),r.poll()}),nt(i,"paste",function(c){Qt(n,c)||Oc(c,n)||(n.state.pasteIncoming=+new Date,r.fastPoll())});function l(c){if(!Qt(n,c)){if(n.somethingSelected())bo({lineWise:!1,text:n.getSelections()});else if(n.options.lineWiseCopyCut){var f=Ac(n);bo({lineWise:!0,text:f.text}),c.type=="cut"?n.setSelections(f.ranges,null,zt):(r.prevInput="",i.value=f.text.join(`
`),tn(i))}else return;c.type=="cut"&&(n.state.cutIncoming=+new Date)}}nt(i,"cut",l),nt(i,"copy",l),nt(t.scroller,"paste",function(c){if(!(An(t,c)||Qt(n,c))){if(!i.dispatchEvent){n.state.pasteIncoming=+new Date,r.focus();return}var f=new Event("paste");f.clipboardData=c.clipboardData,i.dispatchEvent(f)}}),nt(t.lineSpace,"selectstart",function(c){An(t,c)||ne(c)}),nt(i,"compositionstart",function(){var c=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:c,range:n.markText(c,n.getCursor("to"),{className:"CodeMirror-composing"})}}),nt(i,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},ae.prototype.createField=function(t){this.wrapper=Dc(),this.textarea=this.wrapper.firstChild;var e=this.cm.options;$a(this.textarea,e.spellcheck,e.autocorrect,e.autocapitalize)},ae.prototype.screenReaderLabelChanged=function(t){t?this.textarea.setAttribute("aria-label",t):this.textarea.removeAttribute("aria-label")},ae.prototype.prepareSelection=function(){var t=this.cm,e=t.display,r=t.doc,n=xs(t);if(t.options.moveInputWithCursor){var i=an(t,r.sel.primary().head,"div"),l=e.wrapper.getBoundingClientRect(),c=e.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,i.top+c.top-l.top)),n.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,i.left+c.left-l.left))}return n},ae.prototype.showSelection=function(t){var e=this.cm,r=e.display;at(r.cursorDiv,t.cursors),at(r.selectionDiv,t.selection),t.teTop!=null&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},ae.prototype.reset=function(t){if(!(this.contextMenuPending||this.composing&&t)){var e=this.cm;if(this.resetting=!0,e.somethingSelected()){this.prevInput="";var r=e.getSelection();this.textarea.value=r,e.state.focused&&tn(this.textarea),k&&w>=9&&(this.hasSelection=r)}else t||(this.prevInput=this.textarea.value="",k&&w>=9&&(this.hasSelection=null));this.resetting=!1}},ae.prototype.getField=function(){return this.textarea},ae.prototype.supportsTouch=function(){return!1},ae.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!G||Zt(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},ae.prototype.blur=function(){this.textarea.blur()},ae.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},ae.prototype.receivedFocus=function(){this.slowPoll()},ae.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},ae.prototype.fastPoll=function(){var t=!1,e=this;e.pollingFast=!0;function r(){var n=e.poll();!n&&!t?(t=!0,e.polling.set(60,r)):(e.pollingFast=!1,e.slowPoll())}e.polling.set(20,r)},ae.prototype.poll=function(){var t=this,e=this.cm,r=this.textarea,n=this.prevInput;if(this.contextMenuPending||this.resetting||!e.state.focused||Rn(r)&&!n&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var i=r.value;if(i==n&&!e.somethingSelected())return!1;if(k&&w>=9&&this.hasSelection===i||J&&/[\uf700-\uf7ff]/.test(i))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var l=i.charCodeAt(0);if(l==8203&&!n&&(n="​"),l==8666)return this.reset(),this.cm.execCommand("undo")}for(var c=0,f=Math.min(n.length,i.length);c<f&&n.charCodeAt(c)==i.charCodeAt(c);)++c;return Ve(e,function(){za(e,i.slice(c),n.length-c,null,t.composing?"*compose":null),i.length>1e3||i.indexOf(`
`)>-1?r.value=t.prevInput="":t.prevInput=i,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ae.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},ae.prototype.onKeyPress=function(){k&&w>=9&&(this.hasSelection=null),this.fastPoll()},ae.prototype.onContextMenu=function(t){var e=this,r=e.cm,n=r.display,i=e.textarea;e.contextMenuPending&&e.contextMenuPending();var l=ur(r,t),c=n.scroller.scrollTop;if(!l||D)return;var f=r.options.resetSelectionOnContextMenu;f&&r.doc.sel.contains(l)==-1&&me(r,Ce)(r.doc,Kn(l),zt);var d=i.style.cssText,v=e.wrapper.style.cssText,C=e.wrapper.offsetParent.getBoundingClientRect();e.wrapper.style.cssText="position: static",i.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(t.clientY-C.top-5)+"px; left: "+(t.clientX-C.left-5)+`px;
      z-index: 1000; background: `+(k?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var O;x&&(O=i.ownerDocument.defaultView.scrollY),n.input.focus(),x&&i.ownerDocument.defaultView.scrollTo(null,O),n.input.reset(),r.somethingSelected()||(i.value=e.prevInput=" "),e.contextMenuPending=F,n.selForContextMenu=r.doc.sel,clearTimeout(n.detectingSelectAll);function j(){if(i.selectionStart!=null){var Y=r.somethingSelected(),it="​"+(Y?i.value:"");i.value="⇚",i.value=it,e.prevInput=Y?"":"​",i.selectionStart=1,i.selectionEnd=it.length,n.selForContextMenu=r.doc.sel}}function F(){if(e.contextMenuPending==F&&(e.contextMenuPending=!1,e.wrapper.style.cssText=v,i.style.cssText=d,k&&w<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=c),i.selectionStart!=null)){(!k||k&&w<9)&&j();var Y=0,it=function(){n.selForContextMenu==r.doc.sel&&i.selectionStart==0&&i.selectionEnd>0&&e.prevInput=="​"?me(r,qs)(r):Y++<10?n.detectingSelectAll=setTimeout(it,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(it,200)}}if(k&&w>=9&&j(),Z){Sn(t);var $=function(){ue(window,"mouseup",$),setTimeout(F,20)};nt(window,"mouseup",$)}else setTimeout(F,50)},ae.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled=t=="nocursor",this.textarea.readOnly=!!t},ae.prototype.setUneditable=function(){},ae.prototype.needsContentAttribute=!1;function fd(t,e){if(e=e?xt(e):{},e.value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),e.autofocus==null){var r=Zt(t.ownerDocument);e.autofocus=r==t||t.getAttribute("autofocus")!=null&&r==document.body}function n(){t.value=f.getValue()}var i;if(t.form&&(nt(t.form,"submit",n),!e.leaveSubmitMethodAlone)){var l=t.form;i=l.submit;try{var c=l.submit=function(){n(),l.submit=i,l.submit(),l.submit=c}}catch{}}e.finishInit=function(d){d.save=n,d.getTextArea=function(){return t},d.toTextArea=function(){d.toTextArea=isNaN,n(),t.parentNode.removeChild(d.getWrapperElement()),t.style.display="",t.form&&(ue(t.form,"submit",n),!e.leaveSubmitMethodAlone&&typeof t.form.submit=="function"&&(t.form.submit=i))}},t.style.display="none";var f=Yt(function(d){return t.parentNode.insertBefore(d,t.nextSibling)},e);return f}function hd(t){t.off=ue,t.on=nt,t.wheelEventPixels=bh,t.Doc=Ie,t.splitLines=ni,t.countColumn=vt,t.findColumn=Qe,t.isWordChar=R,t.Pass=Nt,t.signal=Bt,t.Line=Or,t.changeEnd=Xn,t.scrollbarModel=Os,t.Pos=_,t.cmpPos=z,t.modes=rn,t.mimeModes=Pn,t.resolveMode=He,t.getMode=Bn,t.modeExtensions=Hn,t.extendMode=$i,t.copyState=Mn,t.startState=ri,t.innerMode=Vn,t.commands=Ti,t.keyMap=En,t.keyName=dc,t.isModifierKey=fc,t.lookupKey=Br,t.normalizeKeyMap=Hh,t.StringStream=re,t.SharedTextMarker=Ci,t.TextMarker=Qn,t.LineWidget=ki,t.e_preventDefault=ne,t.e_stopPropagation=dn,t.e_stop=Sn,t.addClass=pe,t.contains=xe,t.rmClass=dt,t.keyNames=Yn}rd(Yt),ld(Yt);var dd="iter insert remove copy getEditor constructor".split(" ");for(var xo in Ie.prototype)Ie.prototype.hasOwnProperty(xo)&&Ot(dd,xo)<0&&(Yt.prototype[xo]=function(t){return function(){return t.apply(this.doc,arguments)}}(Ie.prototype[xo]));return oe(Ie),Yt.inputStyles={textarea:ae,contenteditable:Ht},Yt.defineMode=function(t){!Yt.defaults.mode&&t!="null"&&(Yt.defaults.mode=t),zi.apply(this,arguments)},Yt.defineMIME=Mr,Yt.defineMode("null",function(){return{token:function(t){return t.skipToEnd()}}}),Yt.defineMIME("text/plain","null"),Yt.defineExtension=function(t,e){Yt.prototype[t]=e},Yt.defineDocExtension=function(t,e){Ie.prototype[t]=e},Yt.fromTextArea=fd,hd(Yt),Yt.version="5.65.15",Yt})}(mu)),mu.exports}var H0=Pi();const uf=rf(H0);(function(o,a){(function(s){s(Pi())})(function(s){var h=s.Pos,g="http://www.w3.org/2000/svg";function u(b,A){this.mv=b,this.type=A,this.classes=A=="left"?{chunk:"CodeMirror-merge-l-chunk",start:"CodeMirror-merge-l-chunk-start",end:"CodeMirror-merge-l-chunk-end",insert:"CodeMirror-merge-l-inserted",del:"CodeMirror-merge-l-deleted",connect:"CodeMirror-merge-l-connect"}:{chunk:"CodeMirror-merge-r-chunk",start:"CodeMirror-merge-r-chunk-start",end:"CodeMirror-merge-r-chunk-end",insert:"CodeMirror-merge-r-inserted",del:"CodeMirror-merge-r-deleted",connect:"CodeMirror-merge-r-connect"}}u.prototype={constructor:u,init:function(b,A,I){this.edit=this.mv.edit,(this.edit.state.diffViews||(this.edit.state.diffViews=[])).push(this),this.orig=s(b,Mt({value:A,readOnly:!this.mv.options.allowEditingOriginals},Mt(I))),this.mv.options.connect=="align"&&(this.edit.state.trackAlignable||(this.edit.state.trackAlignable=new en(this.edit)),this.orig.state.trackAlignable=new en(this.orig)),this.lockButton.title=this.edit.phrase("Toggle locked scrolling"),this.lockButton.setAttribute("aria-label",this.lockButton.title),this.orig.state.diffViews=[this];var W=I.chunkClassLocation||"background";Object.prototype.toString.call(W)!="[object Array]"&&(W=[W]),this.classes.classLocation=W,this.diff=Kt(at(A),at(I.value),this.mv.options.ignoreWhitespace),this.chunks=Ft(this.diff),this.diffOutOfDate=this.dealigned=!1,this.needsScrollSync=null,this.showDifferences=I.showDifferences!==!1},registerEvents:function(b){this.forceUpdate=k(this),M(this,!0,!1),w(this,b)},setShowDifferences:function(b){b=b!==!1,b!=this.showDifferences&&(this.showDifferences=b,this.forceUpdate("full"))}};function p(b){b.diffOutOfDate&&(b.diff=Kt(b.orig.getValue(),b.edit.getValue(),b.mv.options.ignoreWhitespace),b.chunks=Ft(b.diff),b.diffOutOfDate=!1,s.signal(b.edit,"updateDiff",b.diff))}var m=!1;function k(b){var A={from:0,to:0,marked:[]},I={from:0,to:0,marked:[]},W,R=!1;function P(gt){m=!0,R=!1,gt=="full"&&(b.svg&&xt(b.svg),b.copyButtons&&xt(b.copyButtons),D(b.edit,A.marked,b.classes),D(b.orig,I.marked,b.classes),A.from=A.to=I.from=I.to=0),p(b),b.showDifferences&&(N(b.edit,b.diff,A,DIFF_INSERT,b.classes),N(b.orig,b.diff,I,DIFF_DELETE,b.classes)),b.mv.options.connect=="align"&&ut(b),U(b),b.needsScrollSync!=null&&x(b,b.needsScrollSync),m=!1}function q(gt){m||(b.dealigned=!0,et(gt))}function et(gt){m||R||(clearTimeout(W),gt===!0&&(R=!0),W=setTimeout(P,gt===!0?20:250))}function ot(gt,Dt){b.diffOutOfDate||(b.diffOutOfDate=!0,A.from=A.to=I.from=I.to=0),q(Dt.text.length-1!=Dt.to.line-Dt.from.line)}function yt(){b.diffOutOfDate=!0,b.dealigned=!0,P("full")}return b.edit.on("change",ot),b.orig.on("change",ot),b.edit.on("swapDoc",yt),b.orig.on("swapDoc",yt),b.mv.options.connect=="align"&&(s.on(b.edit.state.trackAlignable,"realign",q),s.on(b.orig.state.trackAlignable,"realign",q)),b.edit.on("viewportChange",function(){et(!1)}),b.orig.on("viewportChange",function(){et(!1)}),P(),P}function w(b,A){b.edit.on("scroll",function(){x(b,!0)&&U(b)}),b.orig.on("scroll",function(){x(b,!1)&&U(b),A&&x(A,!0)&&U(A)})}function x(b,A){if(b.diffOutOfDate)return b.lockScroll&&b.needsScrollSync==null&&(b.needsScrollSync=A),!1;if(b.needsScrollSync=null,!b.lockScroll)return!0;var I,W,R=+new Date;if(A?(I=b.edit,W=b.orig):(I=b.orig,W=b.edit),I.state.scrollSetBy==b&&(I.state.scrollSetAt||0)+250>R)return!1;var P=I.getScrollInfo();if(b.mv.options.connect=="align")Et=P.top;else{var q=.5*P.clientHeight,et=P.top+q,ot=I.lineAtHeight(et,"local"),yt=pe(b.chunks,ot,A),gt=S(I,A?yt.edit:yt.orig),Dt=S(W,A?yt.orig:yt.edit),jt=(et-gt.top)/(gt.bot-gt.top),Et=Dt.top-q+jt*(Dt.bot-Dt.top),Gt,$t;if(Et>P.top&&($t=P.top/q)<1)Et=Et*$t+P.top*(1-$t);else if((Gt=P.height-P.clientHeight-P.top)<q){var Le=W.getScrollInfo(),nt=Le.height-Le.clientHeight-Et;nt>Gt&&($t=Gt/q)<1&&(Et=Et*$t+(Le.height-Le.clientHeight-Gt)*(1-$t))}}return W.scrollTo(P.left,Et),W.state.scrollSetAt=R,W.state.scrollSetBy=b,!0}function S(b,A){var I=A.after;return I==null&&(I=b.lastLine()+1),{top:b.heightAtLine(A.before||0,"local"),bot:b.heightAtLine(I,"local")}}function M(b,A,I){b.lockScroll=A,A&&I!=!1&&x(b,DIFF_INSERT)&&U(b),(A?s.addClass:s.rmClass)(b.lockButton,"CodeMirror-merge-scrolllock-enabled")}function T(b,A,I){for(var W=I.classLocation,R=0;R<W.length;R++)b.removeLineClass(A,W[R],I.chunk),b.removeLineClass(A,W[R],I.start),b.removeLineClass(A,W[R],I.end)}function D(b,A,I){for(var W=0;W<A.length;++W){var R=A[W];R instanceof s.TextMarker?R.clear():R.parent&&T(b,R,I)}A.length=0}function N(b,A,I,W,R){var P=b.getViewport();b.operation(function(){I.from==I.to||P.from-I.to>20||I.from-P.to>20?(D(b,I.marked,R),V(b,A,W,I.marked,P.from,P.to,R),I.from=P.from,I.to=P.to):(P.from<I.from&&(V(b,A,W,I.marked,P.from,I.from,R),I.from=P.from),P.to>I.to&&(V(b,A,W,I.marked,I.to,P.to,R),I.to=P.to))})}function H(b,A,I,W,R,P){for(var q=I.classLocation,et=b.getLineHandle(A),ot=0;ot<q.length;ot++)W&&b.addLineClass(et,q[ot],I.chunk),R&&b.addLineClass(et,q[ot],I.start),P&&b.addLineClass(et,q[ot],I.end);return et}function V(b,A,I,W,R,P,q){var et=h(0,0),ot=h(R,0),yt=b.clipPos(h(P-1)),gt=I==DIFF_DELETE?q.del:q.insert;function Dt(fe,oe){for(var ne=Math.max(R,fe),dn=Math.min(P,oe),nn=ne;nn<dn;++nn)W.push(H(b,nn,q,!0,nn==fe,nn==oe-1));fe==oe&&ne==oe&&dn==oe&&(ne?W.push(H(b,ne-1,q,!1,!1,!0)):W.push(H(b,ne,q,!1,!0,!1)))}for(var jt=0,Et=!1,Gt=0;Gt<A.length;++Gt){var $t=A[Gt],Le=$t[0],nt=$t[1];if(Le==DIFF_EQUAL){var Wn=et.line+(Zt(A,Gt)?0:1);Ot(et,nt);var ue=et.line+(xe(A,Gt)?1:0);ue>Wn&&(Et&&(Dt(jt,Wn),Et=!1),jt=ue)}else if(Et=!0,Le==I){var Bt=Ot(et,nt,!0),Qt=Qe(ot,et),lr=hn(yt,Bt);Be(Qt,lr)||W.push(b.markText(Qt,lr,{className:gt})),et=Bt}}Et&&Dt(jt,et.line+1)}function U(b){if(b.showDifferences){if(b.svg){xt(b.svg);var A=b.gap.offsetWidth;vt(b.svg,"width",A,"height",b.gap.offsetHeight)}b.copyButtons&&xt(b.copyButtons);for(var I=b.edit.getViewport(),W=b.orig.getViewport(),R=b.mv.wrap.getBoundingClientRect().top,P=R-b.edit.getScrollerElement().getBoundingClientRect().top+b.edit.getScrollInfo().top,q=R-b.orig.getScrollerElement().getBoundingClientRect().top+b.orig.getScrollInfo().top,et=0;et<b.chunks.length;et++){var ot=b.chunks[et];ot.editFrom<=I.to&&ot.editTo>=I.from&&ot.origFrom<=W.to&&ot.origTo>=W.from&&Z(b,ot,q,P,A)}}}function Q(b,A){for(var I=0,W=0,R=0;R<A.length;R++){var P=A[R];if(P.editTo>b&&P.editFrom<=b)return null;if(P.editFrom>b)break;I=P.editTo,W=P.origTo}return W+(b-I)}function G(b,A,I){for(var W=b.state.trackAlignable,R=b.firstLine(),P=0,q=[],et=0;;et++){for(var ot=A[et],yt=ot?I?ot.origFrom:ot.editFrom:1e9;P<W.alignable.length;P+=2){var gt=W.alignable[P]+1;if(!(gt<=R))if(gt<=yt)q.push(gt);else break}if(!ot)break;q.push(R=I?ot.origTo:ot.editTo)}return q}function J(b,A,I,W){var R=0,P=0,q=0,et=0;t:for(;;R++){var ot=b[R],yt=A[P];if(!ot&&yt==null)break;for(var gt=ot?ot[0]:1e9,Dt=yt??1e9;q<I.length;){var jt=I[q];if(jt.origFrom<=Dt&&jt.origTo>Dt){P++,R--;continue t}if(jt.editTo>gt){if(jt.editFrom<=gt)continue t;break}et+=jt.origTo-jt.origFrom-(jt.editTo-jt.editFrom),q++}if(gt==Dt-et)ot[W]=Dt,P++;else if(gt<Dt-et)ot[W]=gt+et;else{var Et=[Dt-et,null,null];Et[W]=Dt,b.splice(R,0,Et),P++}}}function lt(b,A){var I=G(b.edit,b.chunks,!1),W=[];if(A)for(var R=0,P=0;R<A.chunks.length;R++){for(var q=A.chunks[R].editTo;P<I.length&&I[P]<q;)P++;(P==I.length||I[P]!=q)&&I.splice(P++,0,q)}for(var R=0;R<I.length;R++)W.push([I[R],null,null]);return J(W,G(b.orig,b.chunks,!0),b.chunks,1),A&&J(W,G(A.orig,A.chunks,!0),A.chunks,2),W}function ut(b,A){if(!(!b.dealigned&&!A)){if(!b.orig.curOp)return b.orig.operation(function(){ut(b,A)});b.dealigned=!1;var I=b.mv.left==b?b.mv.right:b.mv.left;I&&(p(I),I.dealigned=!1);for(var W=lt(b,I),R=b.mv.aligners,P=0;P<R.length;P++)R[P].clear();R.length=0;var q=[b.edit,b.orig],et=[],ot=[];I&&q.push(I.orig);for(var P=0;P<q.length;P++)et.push(q[P].getScrollInfo().top),ot.push(-q[P].getScrollerElement().getBoundingClientRect().top);(ot[0]!=ot[1]||q.length==3&&ot[1]!=ot[2])&&X(q,ot,[0,0,0],R);for(var yt=0;yt<W.length;yt++)X(q,ot,W[yt],R);for(var P=0;P<q.length;P++)q[P].scrollTo(null,et[P])}}function X(b,A,I,W){for(var R=-1e8,P=[],q=0;q<b.length;q++)if(I[q]!=null){var et=b[q].heightAtLine(I[q],"local")-A[q];P[q]=et,R=Math.max(R,et)}for(var q=0;q<b.length;q++)if(I[q]!=null){var ot=R-P[q];ot>1&&W.push(tt(b[q],I[q],ot))}}function tt(b,A,I){var W=!0;A>b.lastLine()&&(A--,W=!1);var R=document.createElement("div");return R.className="CodeMirror-merge-spacer",R.style.height=I+"px",R.style.minWidth="1px",b.addLineWidget(A,R,{height:I,above:W,mergeSpacer:!0,handleMouseEvents:!0})}function Z(b,A,I,W,R){var P=b.type=="left",q=b.orig.heightAtLine(A.origFrom,"local",!0)-I;if(b.svg){var et=q,ot=b.edit.heightAtLine(A.editFrom,"local",!0)-W;if(P){var yt=et;et=ot,ot=yt}var gt=b.orig.heightAtLine(A.origTo,"local",!0)-I,Dt=b.edit.heightAtLine(A.editTo,"local",!0)-W;if(P){var yt=gt;gt=Dt,Dt=yt}var jt=" C "+R/2+" "+ot+" "+R/2+" "+et+" "+(R+2)+" "+et,Et=" C "+R/2+" "+gt+" "+R/2+" "+Dt+" -1 "+Dt;vt(b.svg.appendChild(document.createElementNS(g,"path")),"d","M -1 "+ot+jt+" L "+(R+2)+" "+gt+Et+" z","class",b.classes.connect)}if(b.copyButtons){var Gt=b.copyButtons.appendChild(Xt("div",b.type=="left"?"⇝":"⇜","CodeMirror-merge-copy")),$t=b.mv.options.allowEditingOriginals;if(Gt.title=b.edit.phrase($t?"Push to left":"Revert chunk"),Gt.chunk=A,Gt.style.top=(A.origTo>A.origFrom?q:b.edit.heightAtLine(A.editFrom,"local")-W)+"px",Gt.setAttribute("role","button"),Gt.setAttribute("tabindex","0"),Gt.setAttribute("aria-label",Gt.title),$t){var Le=b.edit.heightAtLine(A.editFrom,"local")-W,nt=b.copyButtons.appendChild(Xt("div",b.type=="right"?"⇝":"⇜","CodeMirror-merge-copy-reverse"));nt.title="Push to right",nt.chunk={editFrom:A.origFrom,editTo:A.origTo,origFrom:A.editFrom,origTo:A.editTo},nt.style.top=Le+"px",b.type=="right"?nt.style.left="2px":nt.style.right="2px",nt.setAttribute("role","button"),nt.setAttribute("tabindex","0"),nt.setAttribute("aria-label",nt.title)}}}function rt(b,A,I,W){if(!b.diffOutOfDate){var R=W.origTo>I.lastLine()?h(W.origFrom-1):h(W.origFrom,0),P=h(W.origTo,0),q=W.editTo>A.lastLine()?h(W.editFrom-1):h(W.editFrom,0),et=h(W.editTo,0),ot=b.mv.options.revertChunk;ot?ot(b.mv,I,R,P,A,q,et):A.replaceRange(I.getRange(R,P),q,et)}}var dt=s.MergeView=function(b,A){if(!(this instanceof dt))return new dt(b,A);this.options=A;var I=A.origLeft,W=A.origRight==null?A.orig:A.origRight,R=I!=null,P=W!=null,q=1+(R?1:0)+(P?1:0),et=[],ot=this.left=null,yt=this.right=null,gt=this;if(R){ot=this.left=new u(this,"left");var Dt=Xt("div",null,"CodeMirror-merge-pane CodeMirror-merge-left");et.push(Dt),et.push(B(ot))}var jt=Xt("div",null,"CodeMirror-merge-pane CodeMirror-merge-editor");if(et.push(jt),P){yt=this.right=new u(this,"right"),et.push(B(yt));var Et=Xt("div",null,"CodeMirror-merge-pane CodeMirror-merge-right");et.push(Et)}(P?Et:jt).className+=" CodeMirror-merge-pane-rightmost",et.push(Xt("div",null,null,"height: 0; clear: both;"));var Gt=this.wrap=b.appendChild(Xt("div",et,"CodeMirror-merge CodeMirror-merge-"+q+"pane"));this.edit=s(jt,Mt(A)),ot&&ot.init(Dt,I,A),yt&&yt.init(Et,W,A),A.collapseIdentical&&this.editor().operation(function(){ge(gt,A.collapseIdentical)}),A.connect=="align"&&(this.aligners=[],ut(this.left||this.right,!0)),ot&&ot.registerEvents(yt),yt&&yt.registerEvents(ot);var $t=function(){ot&&U(ot),yt&&U(yt)};s.on(window,"resize",$t);var Le=setInterval(function(){for(var nt=Gt.parentNode;nt&&nt!=document.body;nt=nt.parentNode);nt||(clearInterval(Le),s.off(window,"resize",$t))},5e3)};function B(b){var A=b.lockButton=Xt("div",null,"CodeMirror-merge-scrolllock");A.setAttribute("role","button"),A.setAttribute("tabindex","0");var I=Xt("div",[A],"CodeMirror-merge-scrolllock-wrap");s.on(A,"click",function(){M(b,!b.lockScroll)}),s.on(A,"keyup",function(q){(q.key==="Enter"||q.code==="Space")&&M(b,!b.lockScroll)});var W=[I];if(b.mv.options.revertButtons!==!1){b.copyButtons=Xt("div",null,"CodeMirror-merge-copybuttons-"+b.type);var R=function(q){var et=q.target||q.srcElement;if(et.chunk){if(et.className=="CodeMirror-merge-copy-reverse"){rt(b,b.orig,b.edit,et.chunk);return}rt(b,b.edit,b.orig,et.chunk)}};s.on(b.copyButtons,"click",R),s.on(b.copyButtons,"keyup",function(q){(q.key==="Enter"||q.code==="Space")&&R(q)}),W.unshift(b.copyButtons)}if(b.mv.options.connect!="align"){var P=document.createElementNS&&document.createElementNS(g,"svg");P&&!P.createSVGRect&&(P=null),b.svg=P,P&&W.push(P)}return b.gap=Xt("div",W,"CodeMirror-merge-gap")}dt.prototype={constructor:dt,editor:function(){return this.edit},rightOriginal:function(){return this.right&&this.right.orig},leftOriginal:function(){return this.left&&this.left.orig},setShowDifferences:function(b){this.right&&this.right.setShowDifferences(b),this.left&&this.left.setShowDifferences(b)},rightChunks:function(){if(this.right)return p(this.right),this.right.chunks},leftChunks:function(){if(this.left)return p(this.left),this.left.chunks}};function at(b){return typeof b=="string"?b:b.getValue()}var E;function Kt(b,A,I){E||(E=new diff_match_patch);for(var W=E.diff_main(b,A),R=0;R<W.length;++R){var P=W[R];(I?!/[^ \t]/.test(P[1]):!P[1])?W.splice(R--,1):R&&W[R-1][0]==P[0]&&(W.splice(R--,1),W[R][1]+=P[1])}return W}function Ft(b){var A=[];if(!b.length)return A;for(var I=0,W=0,R=h(0,0),P=h(0,0),q=0;q<b.length;++q){var et=b[q],ot=et[0];if(ot==DIFF_EQUAL){var yt=!Zt(b,q)||R.line<I||P.line<W?1:0,gt=R.line+yt,Dt=P.line+yt;Ot(R,et[1],null,P);var jt=xe(b,q)?1:0,Et=R.line+jt,Gt=P.line+jt;Et>gt&&(q&&A.push({origFrom:W,origTo:Dt,editFrom:I,editTo:gt}),I=Et,W=Gt)}else Ot(ot==DIFF_INSERT?R:P,et[1])}return(I<=R.line||W<=P.line)&&A.push({origFrom:W,origTo:P.line+1,editFrom:I,editTo:R.line+1}),A}function xe(b,A){if(A==b.length-1)return!0;var I=b[A+1][1];return I.length==1&&A<b.length-2||I.charCodeAt(0)!=10?!1:A==b.length-2?!0:(I=b[A+2][1],(I.length>1||A==b.length-3)&&I.charCodeAt(0)==10)}function Zt(b,A){if(A==0)return!0;var I=b[A-1][1];return I.charCodeAt(I.length-1)!=10?!1:A==1?!0:(I=b[A-2][1],I.charCodeAt(I.length-1)==10)}function pe(b,A,I){for(var W,R,P,q,et=0;et<b.length;et++){var ot=b[et],yt=I?ot.editFrom:ot.origFrom,gt=I?ot.editTo:ot.origTo;R==null&&(yt>A?(R=ot.editFrom,q=ot.origFrom):gt>A&&(R=ot.editTo,q=ot.origTo)),gt<=A?(W=ot.editTo,P=ot.origTo):yt<=A&&(W=ot.editFrom,P=ot.origFrom)}return{edit:{before:W,after:R},orig:{before:P,after:q}}}function Ue(b,A,I){b.addLineClass(A,"wrap","CodeMirror-merge-collapsed-line");var W=document.createElement("span");W.className="CodeMirror-merge-collapsed-widget",W.title=b.phrase("Identical text collapsed. Click to expand.");var R=b.markText(h(A,0),h(I-1),{inclusiveLeft:!0,inclusiveRight:!0,replacedWith:W,clearOnEnter:!0});function P(){R.clear(),b.removeLineClass(A,"wrap","CodeMirror-merge-collapsed-line")}return R.explicitlyCleared&&P(),s.on(W,"click",P),R.on("clear",P),s.on(W,"click",P),{mark:R,clear:P}}function tn(b,A){var I=[];function W(){for(var et=0;et<I.length;et++)I[et].clear()}for(var R=0;R<A.length;R++){var P=A[R],q=Ue(P.cm,P.line,P.line+b);I.push(q),q.mark.on("clear",W)}return I[0].mark}function Jt(b,A,I,W){for(var R=0;R<b.chunks.length;R++)for(var P=b.chunks[R],q=P.editFrom-A;q<P.editTo+A;q++){var et=q+I;et>=0&&et<W.length&&(W[et]=!1)}}function ge(b,A){typeof A!="number"&&(A=2);for(var I=[],W=b.editor(),R=W.firstLine(),P=R,q=W.lastLine();P<=q;P++)I.push(!0);b.left&&Jt(b.left,A,R,I),b.right&&Jt(b.right,A,R,I);for(var et=0;et<I.length;et++)if(I[et]){for(var ot=et+R,yt=1;et<I.length-1&&I[et+1];et++,yt++);if(yt>A){var gt=[{line:ot,cm:W}];b.left&&gt.push({line:Q(ot,b.left.chunks),cm:b.left.orig}),b.right&&gt.push({line:Q(ot,b.right.chunks),cm:b.right.orig});var Dt=tn(yt,gt);b.options.onCollapse&&b.options.onCollapse(b,ot,yt,Dt)}}}function Xt(b,A,I,W){var R=document.createElement(b);if(I&&(R.className=I),W&&(R.style.cssText=W),typeof A=="string")R.appendChild(document.createTextNode(A));else if(A)for(var P=0;P<A.length;++P)R.appendChild(A[P]);return R}function xt(b){for(var A=b.childNodes.length;A>0;--A)b.removeChild(b.firstChild)}function vt(b){for(var A=1;A<arguments.length;A+=2)b.setAttribute(arguments[A],arguments[A+1])}function Mt(b,A){A||(A={});for(var I in b)b.hasOwnProperty(I)&&(A[I]=b[I]);return A}function Ot(b,A,I,W){for(var R=I?h(b.line,b.ch):b,P=0;;){var q=A.indexOf(`
`,P);if(q==-1)break;++R.line,W&&++W.line,P=q+1}return R.ch=(P?0:R.ch)+(A.length-P),W&&(W.ch=(P?0:W.ch)+(A.length-P)),R}var ar=1,Nt=2,zt=4;function en(b){this.cm=b,this.alignable=[],this.height=b.doc.height;var A=this;b.on("markerAdded",function(I,W){if(W.collapsed){var R=W.find(1);R!=null&&A.set(R.line,zt)}}),b.on("markerCleared",function(I,W,R,P){P!=null&&W.collapsed&&A.check(P,zt,A.hasMarker)}),b.on("markerChanged",this.signal.bind(this)),b.on("lineWidgetAdded",function(I,W,R){W.mergeSpacer||(W.above?A.set(R-1,Nt):A.set(R,ar))}),b.on("lineWidgetCleared",function(I,W,R){W.mergeSpacer||(W.above?A.check(R-1,Nt,A.hasWidgetBelow):A.check(R,ar,A.hasWidget))}),b.on("lineWidgetChanged",this.signal.bind(this)),b.on("change",function(I,W){var R=W.from.line,P=W.to.line-W.from.line,q=W.text.length-1,et=R+q;(P||q)&&A.map(R,P,q),A.check(et,zt,A.hasMarker),(P||q)&&A.check(W.from.line,zt,A.hasMarker)}),b.on("viewportChange",function(){A.cm.doc.height!=A.height&&A.signal()})}en.prototype={signal:function(){s.signal(this,"realign"),this.height=this.cm.doc.height},set:function(b,A){for(var I=-1;I<this.alignable.length;I+=2){var W=this.alignable[I]-b;if(W==0){if((this.alignable[I+1]&A)==A)return;this.alignable[I+1]|=A,this.signal();return}if(W>0)break}this.signal(),this.alignable.splice(I,0,b,A)},find:function(b){for(var A=0;A<this.alignable.length;A+=2)if(this.alignable[A]==b)return A;return-1},check:function(b,A,I){var W=this.find(b);if(!(W==-1||!(this.alignable[W+1]&A))&&!I.call(this,b)){this.signal();var R=this.alignable[W+1]&~A;R?this.alignable[W+1]=R:this.alignable.splice(W,2)}},hasMarker:function(b){var A=this.cm.getLineHandle(b);if(A.markedSpans){for(var I=0;I<A.markedSpans.length;I++)if(A.markedSpans[I].marker.collapsed&&A.markedSpans[I].to!=null)return!0}return!1},hasWidget:function(b){var A=this.cm.getLineHandle(b);if(A.widgets){for(var I=0;I<A.widgets.length;I++)if(!A.widgets[I].above&&!A.widgets[I].mergeSpacer)return!0}return!1},hasWidgetBelow:function(b){if(b==this.cm.lastLine())return!1;var A=this.cm.getLineHandle(b+1);if(A.widgets){for(var I=0;I<A.widgets.length;I++)if(A.widgets[I].above&&!A.widgets[I].mergeSpacer)return!0}return!1},map:function(b,A,I){for(var W=I-A,R=b+A,P=-1,q=-1,et=0;et<this.alignable.length;et+=2){var ot=this.alignable[et];ot==b&&this.alignable[et+1]&Nt&&(P=et),ot==R&&this.alignable[et+1]&Nt&&(q=et),!(ot<=b)&&(ot<R?this.alignable.splice(et--,2):this.alignable[et]+=W)}if(P>-1){var yt=this.alignable[P+1];yt==Nt?this.alignable.splice(P,2):this.alignable[P+1]=yt&~Nt}q>-1&&I&&this.set(b+I,Nt)}};function hn(b,A){return(b.line-A.line||b.ch-A.ch)<0?b:A}function Qe(b,A){return(b.line-A.line||b.ch-A.ch)>0?b:A}function Be(b,A){return b.line==A.line&&b.ch==A.ch}function Ye(b,A,I){for(var W=b.length-1;W>=0;W--){var R=b[W],P=(I?R.origTo:R.editTo)-1;if(P<A)return P}}function At(b,A,I){for(var W=0;W<b.length;W++){var R=b[W],P=I?R.origFrom:R.editFrom;if(P>A)return P}}function Cn(b,A){var I=null,W=b.state.diffViews,R=b.getCursor().line;if(W)for(var P=0;P<W.length;P++){var q=W[P],et=b==q.orig;p(q);var ot=A<0?Ye(q.chunks,R,et):At(q.chunks,R,et);ot!=null&&(I==null||(A<0?ot>I:ot<I))&&(I=ot)}if(I!=null)b.setCursor(I,0);else return s.Pass}s.commands.goNextDiff=function(b){return Cn(b,1)},s.commands.goPrevDiff=function(b){return Cn(b,-1)}})})();var ff={exports:{}};(function(o){var a=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},s=-1,h=1,g=0;a.Diff=function(u,p){return[u,p]},a.prototype.diff_main=function(u,p,m,k){typeof k>"u"&&(this.Diff_Timeout<=0?k=Number.MAX_VALUE:k=new Date().getTime()+this.Diff_Timeout*1e3);var w=k;if(u==null||p==null)throw new Error("Null input. (diff_main)");if(u==p)return u?[new a.Diff(g,u)]:[];typeof m>"u"&&(m=!0);var x=m,S=this.diff_commonPrefix(u,p),M=u.substring(0,S);u=u.substring(S),p=p.substring(S),S=this.diff_commonSuffix(u,p);var T=u.substring(u.length-S);u=u.substring(0,u.length-S),p=p.substring(0,p.length-S);var D=this.diff_compute_(u,p,x,w);return M&&D.unshift(new a.Diff(g,M)),T&&D.push(new a.Diff(g,T)),this.diff_cleanupMerge(D),D},a.prototype.diff_compute_=function(u,p,m,k){var w;if(!u)return[new a.Diff(h,p)];if(!p)return[new a.Diff(s,u)];var x=u.length>p.length?u:p,S=u.length>p.length?p:u,M=x.indexOf(S);if(M!=-1)return w=[new a.Diff(h,x.substring(0,M)),new a.Diff(g,S),new a.Diff(h,x.substring(M+S.length))],u.length>p.length&&(w[0][0]=w[2][0]=s),w;if(S.length==1)return[new a.Diff(s,u),new a.Diff(h,p)];var T=this.diff_halfMatch_(u,p);if(T){var D=T[0],N=T[1],H=T[2],V=T[3],U=T[4],Q=this.diff_main(D,H,m,k),G=this.diff_main(N,V,m,k);return Q.concat([new a.Diff(g,U)],G)}return m&&u.length>100&&p.length>100?this.diff_lineMode_(u,p,k):this.diff_bisect_(u,p,k)},a.prototype.diff_lineMode_=function(u,p,m){var k=this.diff_linesToChars_(u,p);u=k.chars1,p=k.chars2;var w=k.lineArray,x=this.diff_main(u,p,!1,m);this.diff_charsToLines_(x,w),this.diff_cleanupSemantic(x),x.push(new a.Diff(g,""));for(var S=0,M=0,T=0,D="",N="";S<x.length;){switch(x[S][0]){case h:T++,N+=x[S][1];break;case s:M++,D+=x[S][1];break;case g:if(M>=1&&T>=1){x.splice(S-M-T,M+T),S=S-M-T;for(var H=this.diff_main(D,N,!1,m),V=H.length-1;V>=0;V--)x.splice(S,0,H[V]);S=S+H.length}T=0,M=0,D="",N="";break}S++}return x.pop(),x},a.prototype.diff_bisect_=function(u,p,m){for(var k=u.length,w=p.length,x=Math.ceil((k+w)/2),S=x,M=2*x,T=new Array(M),D=new Array(M),N=0;N<M;N++)T[N]=-1,D[N]=-1;T[S+1]=0,D[S+1]=0;for(var H=k-w,V=H%2!=0,U=0,Q=0,G=0,J=0,lt=0;lt<x&&!(new Date().getTime()>m);lt++){for(var ut=-lt+U;ut<=lt-Q;ut+=2){var X=S+ut,tt;ut==-lt||ut!=lt&&T[X-1]<T[X+1]?tt=T[X+1]:tt=T[X-1]+1;for(var Z=tt-ut;tt<k&&Z<w&&u.charAt(tt)==p.charAt(Z);)tt++,Z++;if(T[X]=tt,tt>k)Q+=2;else if(Z>w)U+=2;else if(V){var rt=S+H-ut;if(rt>=0&&rt<M&&D[rt]!=-1){var dt=k-D[rt];if(tt>=dt)return this.diff_bisectSplit_(u,p,tt,Z,m)}}}for(var B=-lt+G;B<=lt-J;B+=2){var rt=S+B,dt;B==-lt||B!=lt&&D[rt-1]<D[rt+1]?dt=D[rt+1]:dt=D[rt-1]+1;for(var at=dt-B;dt<k&&at<w&&u.charAt(k-dt-1)==p.charAt(w-at-1);)dt++,at++;if(D[rt]=dt,dt>k)J+=2;else if(at>w)G+=2;else if(!V){var X=S+H-B;if(X>=0&&X<M&&T[X]!=-1){var tt=T[X],Z=S+tt-X;if(dt=k-dt,tt>=dt)return this.diff_bisectSplit_(u,p,tt,Z,m)}}}}return[new a.Diff(s,u),new a.Diff(h,p)]},a.prototype.diff_bisectSplit_=function(u,p,m,k,w){var x=u.substring(0,m),S=p.substring(0,k),M=u.substring(m),T=p.substring(k),D=this.diff_main(x,S,!1,w),N=this.diff_main(M,T,!1,w);return D.concat(N)},a.prototype.diff_linesToChars_=function(u,p){var m=[],k={};m[0]="";function w(T){for(var D="",N=0,H=-1,V=m.length;H<T.length-1;){H=T.indexOf(`
`,N),H==-1&&(H=T.length-1);var U=T.substring(N,H+1);(k.hasOwnProperty?k.hasOwnProperty(U):k[U]!==void 0)?D+=String.fromCharCode(k[U]):(V==x&&(U=T.substring(N),H=T.length),D+=String.fromCharCode(V),k[U]=V,m[V++]=U),N=H+1}return D}var x=4e4,S=w(u);x=65535;var M=w(p);return{chars1:S,chars2:M,lineArray:m}},a.prototype.diff_charsToLines_=function(u,p){for(var m=0;m<u.length;m++){for(var k=u[m][1],w=[],x=0;x<k.length;x++)w[x]=p[k.charCodeAt(x)];u[m][1]=w.join("")}},a.prototype.diff_commonPrefix=function(u,p){if(!u||!p||u.charAt(0)!=p.charAt(0))return 0;for(var m=0,k=Math.min(u.length,p.length),w=k,x=0;m<w;)u.substring(x,w)==p.substring(x,w)?(m=w,x=m):k=w,w=Math.floor((k-m)/2+m);return w},a.prototype.diff_commonSuffix=function(u,p){if(!u||!p||u.charAt(u.length-1)!=p.charAt(p.length-1))return 0;for(var m=0,k=Math.min(u.length,p.length),w=k,x=0;m<w;)u.substring(u.length-w,u.length-x)==p.substring(p.length-w,p.length-x)?(m=w,x=m):k=w,w=Math.floor((k-m)/2+m);return w},a.prototype.diff_commonOverlap_=function(u,p){var m=u.length,k=p.length;if(m==0||k==0)return 0;m>k?u=u.substring(m-k):m<k&&(p=p.substring(0,m));var w=Math.min(m,k);if(u==p)return w;for(var x=0,S=1;;){var M=u.substring(w-S),T=p.indexOf(M);if(T==-1)return x;S+=T,(T==0||u.substring(w-S)==p.substring(0,S))&&(x=S,S++)}},a.prototype.diff_halfMatch_=function(u,p){if(this.Diff_Timeout<=0)return null;var m=u.length>p.length?u:p,k=u.length>p.length?p:u;if(m.length<4||k.length*2<m.length)return null;var w=this;function x(Q,G,J){for(var lt=Q.substring(J,J+Math.floor(Q.length/4)),ut=-1,X="",tt,Z,rt,dt;(ut=G.indexOf(lt,ut+1))!=-1;){var B=w.diff_commonPrefix(Q.substring(J),G.substring(ut)),at=w.diff_commonSuffix(Q.substring(0,J),G.substring(0,ut));X.length<at+B&&(X=G.substring(ut-at,ut)+G.substring(ut,ut+B),tt=Q.substring(0,J-at),Z=Q.substring(J+B),rt=G.substring(0,ut-at),dt=G.substring(ut+B))}return X.length*2>=Q.length?[tt,Z,rt,dt,X]:null}var S=x(m,k,Math.ceil(m.length/4)),M=x(m,k,Math.ceil(m.length/2)),T;if(!S&&!M)return null;M?S?T=S[4].length>M[4].length?S:M:T=M:T=S;var D,N,H,V;u.length>p.length?(D=T[0],N=T[1],H=T[2],V=T[3]):(H=T[0],V=T[1],D=T[2],N=T[3]);var U=T[4];return[D,N,H,V,U]},a.prototype.diff_cleanupSemantic=function(u){for(var p=!1,m=[],k=0,w=null,x=0,S=0,M=0,T=0,D=0;x<u.length;)u[x][0]==g?(m[k++]=x,S=T,M=D,T=0,D=0,w=u[x][1]):(u[x][0]==h?T+=u[x][1].length:D+=u[x][1].length,w&&w.length<=Math.max(S,M)&&w.length<=Math.max(T,D)&&(u.splice(m[k-1],0,new a.Diff(s,w)),u[m[k-1]+1][0]=h,k--,k--,x=k>0?m[k-1]:-1,S=0,M=0,T=0,D=0,w=null,p=!0)),x++;for(p&&this.diff_cleanupMerge(u),this.diff_cleanupSemanticLossless(u),x=1;x<u.length;){if(u[x-1][0]==s&&u[x][0]==h){var N=u[x-1][1],H=u[x][1],V=this.diff_commonOverlap_(N,H),U=this.diff_commonOverlap_(H,N);V>=U?(V>=N.length/2||V>=H.length/2)&&(u.splice(x,0,new a.Diff(g,H.substring(0,V))),u[x-1][1]=N.substring(0,N.length-V),u[x+1][1]=H.substring(V),x++):(U>=N.length/2||U>=H.length/2)&&(u.splice(x,0,new a.Diff(g,N.substring(0,U))),u[x-1][0]=h,u[x-1][1]=H.substring(0,H.length-U),u[x+1][0]=s,u[x+1][1]=N.substring(U),x++),x++}x++}},a.prototype.diff_cleanupSemanticLossless=function(u){function p(U,Q){if(!U||!Q)return 6;var G=U.charAt(U.length-1),J=Q.charAt(0),lt=G.match(a.nonAlphaNumericRegex_),ut=J.match(a.nonAlphaNumericRegex_),X=lt&&G.match(a.whitespaceRegex_),tt=ut&&J.match(a.whitespaceRegex_),Z=X&&G.match(a.linebreakRegex_),rt=tt&&J.match(a.linebreakRegex_),dt=Z&&U.match(a.blanklineEndRegex_),B=rt&&Q.match(a.blanklineStartRegex_);return dt||B?5:Z||rt?4:lt&&!X&&tt?3:X||tt?2:lt||ut?1:0}for(var m=1;m<u.length-1;){if(u[m-1][0]==g&&u[m+1][0]==g){var k=u[m-1][1],w=u[m][1],x=u[m+1][1],S=this.diff_commonSuffix(k,w);if(S){var M=w.substring(w.length-S);k=k.substring(0,k.length-S),w=M+w.substring(0,w.length-S),x=M+x}for(var T=k,D=w,N=x,H=p(k,w)+p(w,x);w.charAt(0)===x.charAt(0);){k+=w.charAt(0),w=w.substring(1)+x.charAt(0),x=x.substring(1);var V=p(k,w)+p(w,x);V>=H&&(H=V,T=k,D=w,N=x)}u[m-1][1]!=T&&(T?u[m-1][1]=T:(u.splice(m-1,1),m--),u[m][1]=D,N?u[m+1][1]=N:(u.splice(m+1,1),m--))}m++}},a.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,a.whitespaceRegex_=/\s/,a.linebreakRegex_=/[\r\n]/,a.blanklineEndRegex_=/\n\r?\n$/,a.blanklineStartRegex_=/^\r?\n\r?\n/,a.prototype.diff_cleanupEfficiency=function(u){for(var p=!1,m=[],k=0,w=null,x=0,S=!1,M=!1,T=!1,D=!1;x<u.length;)u[x][0]==g?(u[x][1].length<this.Diff_EditCost&&(T||D)?(m[k++]=x,S=T,M=D,w=u[x][1]):(k=0,w=null),T=D=!1):(u[x][0]==s?D=!0:T=!0,w&&(S&&M&&T&&D||w.length<this.Diff_EditCost/2&&S+M+T+D==3)&&(u.splice(m[k-1],0,new a.Diff(s,w)),u[m[k-1]+1][0]=h,k--,w=null,S&&M?(T=D=!0,k=0):(k--,x=k>0?m[k-1]:-1,T=D=!1),p=!0)),x++;p&&this.diff_cleanupMerge(u)},a.prototype.diff_cleanupMerge=function(u){u.push(new a.Diff(g,""));for(var p=0,m=0,k=0,w="",x="",S;p<u.length;)switch(u[p][0]){case h:k++,x+=u[p][1],p++;break;case s:m++,w+=u[p][1],p++;break;case g:m+k>1?(m!==0&&k!==0&&(S=this.diff_commonPrefix(x,w),S!==0&&(p-m-k>0&&u[p-m-k-1][0]==g?u[p-m-k-1][1]+=x.substring(0,S):(u.splice(0,0,new a.Diff(g,x.substring(0,S))),p++),x=x.substring(S),w=w.substring(S)),S=this.diff_commonSuffix(x,w),S!==0&&(u[p][1]=x.substring(x.length-S)+u[p][1],x=x.substring(0,x.length-S),w=w.substring(0,w.length-S))),p-=m+k,u.splice(p,m+k),w.length&&(u.splice(p,0,new a.Diff(s,w)),p++),x.length&&(u.splice(p,0,new a.Diff(h,x)),p++),p++):p!==0&&u[p-1][0]==g?(u[p-1][1]+=u[p][1],u.splice(p,1)):p++,k=0,m=0,w="",x="";break}u[u.length-1][1]===""&&u.pop();var M=!1;for(p=1;p<u.length-1;)u[p-1][0]==g&&u[p+1][0]==g&&(u[p][1].substring(u[p][1].length-u[p-1][1].length)==u[p-1][1]?(u[p][1]=u[p-1][1]+u[p][1].substring(0,u[p][1].length-u[p-1][1].length),u[p+1][1]=u[p-1][1]+u[p+1][1],u.splice(p-1,1),M=!0):u[p][1].substring(0,u[p+1][1].length)==u[p+1][1]&&(u[p-1][1]+=u[p+1][1],u[p][1]=u[p][1].substring(u[p+1][1].length)+u[p+1][1],u.splice(p+1,1),M=!0)),p++;M&&this.diff_cleanupMerge(u)},a.prototype.diff_xIndex=function(u,p){var m=0,k=0,w=0,x=0,S;for(S=0;S<u.length&&(u[S][0]!==h&&(m+=u[S][1].length),u[S][0]!==s&&(k+=u[S][1].length),!(m>p));S++)w=m,x=k;return u.length!=S&&u[S][0]===s?x:x+(p-w)},a.prototype.diff_prettyHtml=function(u){for(var p=[],m=/&/g,k=/</g,w=/>/g,x=/\n/g,S=0;S<u.length;S++){var M=u[S][0],T=u[S][1],D=T.replace(m,"&amp;").replace(k,"&lt;").replace(w,"&gt;").replace(x,"&para;<br>");switch(M){case h:p[S]='<ins style="background:#e6ffe6;">'+D+"</ins>";break;case s:p[S]='<del style="background:#ffe6e6;">'+D+"</del>";break;case g:p[S]="<span>"+D+"</span>";break}}return p.join("")},a.prototype.diff_text1=function(u){for(var p=[],m=0;m<u.length;m++)u[m][0]!==h&&(p[m]=u[m][1]);return p.join("")},a.prototype.diff_text2=function(u){for(var p=[],m=0;m<u.length;m++)u[m][0]!==s&&(p[m]=u[m][1]);return p.join("")},a.prototype.diff_levenshtein=function(u){for(var p=0,m=0,k=0,w=0;w<u.length;w++){var x=u[w][0],S=u[w][1];switch(x){case h:m+=S.length;break;case s:k+=S.length;break;case g:p+=Math.max(m,k),m=0,k=0;break}}return p+=Math.max(m,k),p},a.prototype.diff_toDelta=function(u){for(var p=[],m=0;m<u.length;m++)switch(u[m][0]){case h:p[m]="+"+encodeURI(u[m][1]);break;case s:p[m]="-"+u[m][1].length;break;case g:p[m]="="+u[m][1].length;break}return p.join("	").replace(/%20/g," ")},a.prototype.diff_fromDelta=function(u,p){for(var m=[],k=0,w=0,x=p.split(/\t/g),S=0;S<x.length;S++){var M=x[S].substring(1);switch(x[S].charAt(0)){case"+":try{m[k++]=new a.Diff(h,decodeURI(M))}catch{throw new Error("Illegal escape in diff_fromDelta: "+M)}break;case"-":case"=":var T=parseInt(M,10);if(isNaN(T)||T<0)throw new Error("Invalid number in diff_fromDelta: "+M);var D=u.substring(w,w+=T);x[S].charAt(0)=="="?m[k++]=new a.Diff(g,D):m[k++]=new a.Diff(s,D);break;default:if(x[S])throw new Error("Invalid diff operation in diff_fromDelta: "+x[S])}}if(w!=u.length)throw new Error("Delta length ("+w+") does not equal source text length ("+u.length+").");return m},a.prototype.match_main=function(u,p,m){if(u==null||p==null||m==null)throw new Error("Null input. (match_main)");return m=Math.max(0,Math.min(m,u.length)),u==p?0:u.length?u.substring(m,m+p.length)==p?m:this.match_bitap_(u,p,m):-1},a.prototype.match_bitap_=function(u,p,m){if(p.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var k=this.match_alphabet_(p),w=this;function x(tt,Z){var rt=tt/p.length,dt=Math.abs(m-Z);return w.Match_Distance?rt+dt/w.Match_Distance:dt?1:rt}var S=this.Match_Threshold,M=u.indexOf(p,m);M!=-1&&(S=Math.min(x(0,M),S),M=u.lastIndexOf(p,m+p.length),M!=-1&&(S=Math.min(x(0,M),S)));var T=1<<p.length-1;M=-1;for(var D,N,H=p.length+u.length,V,U=0;U<p.length;U++){for(D=0,N=H;D<N;)x(U,m+N)<=S?D=N:H=N,N=Math.floor((H-D)/2+D);H=N;var Q=Math.max(1,m-N+1),G=Math.min(m+N,u.length)+p.length,J=Array(G+2);J[G+1]=(1<<U)-1;for(var lt=G;lt>=Q;lt--){var ut=k[u.charAt(lt-1)];if(U===0?J[lt]=(J[lt+1]<<1|1)&ut:J[lt]=(J[lt+1]<<1|1)&ut|((V[lt+1]|V[lt])<<1|1)|V[lt+1],J[lt]&T){var X=x(U,lt-1);if(X<=S)if(S=X,M=lt-1,M>m)Q=Math.max(1,2*m-M);else break}}if(x(U+1,m)>S)break;V=J}return M},a.prototype.match_alphabet_=function(u){for(var p={},m=0;m<u.length;m++)p[u.charAt(m)]=0;for(var m=0;m<u.length;m++)p[u.charAt(m)]|=1<<u.length-m-1;return p},a.prototype.patch_addContext_=function(u,p){if(p.length!=0){if(u.start2===null)throw Error("patch not initialized");for(var m=p.substring(u.start2,u.start2+u.length1),k=0;p.indexOf(m)!=p.lastIndexOf(m)&&m.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)k+=this.Patch_Margin,m=p.substring(u.start2-k,u.start2+u.length1+k);k+=this.Patch_Margin;var w=p.substring(u.start2-k,u.start2);w&&u.diffs.unshift(new a.Diff(g,w));var x=p.substring(u.start2+u.length1,u.start2+u.length1+k);x&&u.diffs.push(new a.Diff(g,x)),u.start1-=w.length,u.start2-=w.length,u.length1+=w.length+x.length,u.length2+=w.length+x.length}},a.prototype.patch_make=function(u,p,m){var k,w;if(typeof u=="string"&&typeof p=="string"&&typeof m>"u")k=u,w=this.diff_main(k,p,!0),w.length>2&&(this.diff_cleanupSemantic(w),this.diff_cleanupEfficiency(w));else if(u&&typeof u=="object"&&typeof p>"u"&&typeof m>"u")w=u,k=this.diff_text1(w);else if(typeof u=="string"&&p&&typeof p=="object"&&typeof m>"u")k=u,w=p;else if(typeof u=="string"&&typeof p=="string"&&m&&typeof m=="object")k=u,w=m;else throw new Error("Unknown call format to patch_make.");if(w.length===0)return[];for(var x=[],S=new a.patch_obj,M=0,T=0,D=0,N=k,H=k,V=0;V<w.length;V++){var U=w[V][0],Q=w[V][1];switch(!M&&U!==g&&(S.start1=T,S.start2=D),U){case h:S.diffs[M++]=w[V],S.length2+=Q.length,H=H.substring(0,D)+Q+H.substring(D);break;case s:S.length1+=Q.length,S.diffs[M++]=w[V],H=H.substring(0,D)+H.substring(D+Q.length);break;case g:Q.length<=2*this.Patch_Margin&&M&&w.length!=V+1?(S.diffs[M++]=w[V],S.length1+=Q.length,S.length2+=Q.length):Q.length>=2*this.Patch_Margin&&M&&(this.patch_addContext_(S,N),x.push(S),S=new a.patch_obj,M=0,N=H,T=D);break}U!==h&&(T+=Q.length),U!==s&&(D+=Q.length)}return M&&(this.patch_addContext_(S,N),x.push(S)),x},a.prototype.patch_deepCopy=function(u){for(var p=[],m=0;m<u.length;m++){var k=u[m],w=new a.patch_obj;w.diffs=[];for(var x=0;x<k.diffs.length;x++)w.diffs[x]=new a.Diff(k.diffs[x][0],k.diffs[x][1]);w.start1=k.start1,w.start2=k.start2,w.length1=k.length1,w.length2=k.length2,p[m]=w}return p},a.prototype.patch_apply=function(u,p){if(u.length==0)return[p,[]];u=this.patch_deepCopy(u);var m=this.patch_addPadding(u);p=m+p+m,this.patch_splitMax(u);for(var k=0,w=[],x=0;x<u.length;x++){var S=u[x].start2+k,M=this.diff_text1(u[x].diffs),T,D=-1;if(M.length>this.Match_MaxBits?(T=this.match_main(p,M.substring(0,this.Match_MaxBits),S),T!=-1&&(D=this.match_main(p,M.substring(M.length-this.Match_MaxBits),S+M.length-this.Match_MaxBits),(D==-1||T>=D)&&(T=-1))):T=this.match_main(p,M,S),T==-1)w[x]=!1,k-=u[x].length2-u[x].length1;else{w[x]=!0,k=T-S;var N;if(D==-1?N=p.substring(T,T+M.length):N=p.substring(T,D+this.Match_MaxBits),M==N)p=p.substring(0,T)+this.diff_text2(u[x].diffs)+p.substring(T+M.length);else{var H=this.diff_main(M,N,!1);if(M.length>this.Match_MaxBits&&this.diff_levenshtein(H)/M.length>this.Patch_DeleteThreshold)w[x]=!1;else{this.diff_cleanupSemanticLossless(H);for(var V=0,U,Q=0;Q<u[x].diffs.length;Q++){var G=u[x].diffs[Q];G[0]!==g&&(U=this.diff_xIndex(H,V)),G[0]===h?p=p.substring(0,T+U)+G[1]+p.substring(T+U):G[0]===s&&(p=p.substring(0,T+U)+p.substring(T+this.diff_xIndex(H,V+G[1].length))),G[0]!==s&&(V+=G[1].length)}}}}}return p=p.substring(m.length,p.length-m.length),[p,w]},a.prototype.patch_addPadding=function(u){for(var p=this.Patch_Margin,m="",k=1;k<=p;k++)m+=String.fromCharCode(k);for(var k=0;k<u.length;k++)u[k].start1+=p,u[k].start2+=p;var w=u[0],x=w.diffs;if(x.length==0||x[0][0]!=g)x.unshift(new a.Diff(g,m)),w.start1-=p,w.start2-=p,w.length1+=p,w.length2+=p;else if(p>x[0][1].length){var S=p-x[0][1].length;x[0][1]=m.substring(x[0][1].length)+x[0][1],w.start1-=S,w.start2-=S,w.length1+=S,w.length2+=S}if(w=u[u.length-1],x=w.diffs,x.length==0||x[x.length-1][0]!=g)x.push(new a.Diff(g,m)),w.length1+=p,w.length2+=p;else if(p>x[x.length-1][1].length){var S=p-x[x.length-1][1].length;x[x.length-1][1]+=m.substring(0,S),w.length1+=S,w.length2+=S}return m},a.prototype.patch_splitMax=function(u){for(var p=this.Match_MaxBits,m=0;m<u.length;m++)if(!(u[m].length1<=p)){var k=u[m];u.splice(m--,1);for(var w=k.start1,x=k.start2,S="";k.diffs.length!==0;){var M=new a.patch_obj,T=!0;for(M.start1=w-S.length,M.start2=x-S.length,S!==""&&(M.length1=M.length2=S.length,M.diffs.push(new a.Diff(g,S)));k.diffs.length!==0&&M.length1<p-this.Patch_Margin;){var D=k.diffs[0][0],N=k.diffs[0][1];D===h?(M.length2+=N.length,x+=N.length,M.diffs.push(k.diffs.shift()),T=!1):D===s&&M.diffs.length==1&&M.diffs[0][0]==g&&N.length>2*p?(M.length1+=N.length,w+=N.length,T=!1,M.diffs.push(new a.Diff(D,N)),k.diffs.shift()):(N=N.substring(0,p-M.length1-this.Patch_Margin),M.length1+=N.length,w+=N.length,D===g?(M.length2+=N.length,x+=N.length):T=!1,M.diffs.push(new a.Diff(D,N)),N==k.diffs[0][1]?k.diffs.shift():k.diffs[0][1]=k.diffs[0][1].substring(N.length))}S=this.diff_text2(M.diffs),S=S.substring(S.length-this.Patch_Margin);var H=this.diff_text1(k.diffs).substring(0,this.Patch_Margin);H!==""&&(M.length1+=H.length,M.length2+=H.length,M.diffs.length!==0&&M.diffs[M.diffs.length-1][0]===g?M.diffs[M.diffs.length-1][1]+=H:M.diffs.push(new a.Diff(g,H))),T||u.splice(++m,0,M)}}},a.prototype.patch_toText=function(u){for(var p=[],m=0;m<u.length;m++)p[m]=u[m];return p.join("")},a.prototype.patch_fromText=function(u){var p=[];if(!u)return p;for(var m=u.split(`
`),k=0,w=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;k<m.length;){var x=m[k].match(w);if(!x)throw new Error("Invalid patch string: "+m[k]);var S=new a.patch_obj;for(p.push(S),S.start1=parseInt(x[1],10),x[2]===""?(S.start1--,S.length1=1):x[2]=="0"?S.length1=0:(S.start1--,S.length1=parseInt(x[2],10)),S.start2=parseInt(x[3],10),x[4]===""?(S.start2--,S.length2=1):x[4]=="0"?S.length2=0:(S.start2--,S.length2=parseInt(x[4],10)),k++;k<m.length;){var M=m[k].charAt(0);try{var T=decodeURI(m[k].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+T)}if(M=="-")S.diffs.push(new a.Diff(s,T));else if(M=="+")S.diffs.push(new a.Diff(h,T));else if(M==" ")S.diffs.push(new a.Diff(g,T));else{if(M=="@")break;if(M!=="")throw new Error('Invalid patch mode "'+M+'" in: '+T)}k++}}return p},a.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},a.patch_obj.prototype.toString=function(){var u,p;this.length1===0?u=this.start1+",0":this.length1==1?u=this.start1+1:u=this.start1+1+","+this.length1,this.length2===0?p=this.start2+",0":this.length2==1?p=this.start2+1:p=this.start2+1+","+this.length2;for(var m=["@@ -"+u+" +"+p+` @@
`],k,w=0;w<this.diffs.length;w++){switch(this.diffs[w][0]){case h:k="+";break;case s:k="-";break;case g:k=" ";break}m[w+1]=k+encodeURI(this.diffs[w][1])+`
`}return m.join("").replace(/%20/g," ")},o.exports=a,o.exports.diff_match_patch=a,o.exports.DIFF_DELETE=s,o.exports.DIFF_INSERT=h,o.exports.DIFF_EQUAL=g})(ff);var V0=ff.exports;const z0=rf(V0);(function(o,a){(function(s){s(Pi())})(function(s){s.defineSimpleMode=function(M,T){s.defineMode(M,function(D){return s.simpleMode(D,T)})},s.simpleMode=function(M,T){h(T,"start");var D={},N=T.meta||{},H=!1;for(var V in T)if(V!=N&&T.hasOwnProperty(V))for(var U=D[V]=[],Q=T[V],G=0;G<Q.length;G++){var J=Q[G];U.push(new p(J,T)),(J.indent||J.dedent)&&(H=!0)}var lt={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:H?[]:null}},copyState:function(X){var tt={state:X.state,pending:X.pending,local:X.local,localState:null,indent:X.indent&&X.indent.slice(0)};X.localState&&(tt.localState=s.copyState(X.local.mode,X.localState)),X.stack&&(tt.stack=X.stack.slice(0));for(var Z=X.persistentStates;Z;Z=Z.next)tt.persistentStates={mode:Z.mode,spec:Z.spec,state:Z.state==X.localState?tt.localState:s.copyState(Z.mode,Z.state),next:tt.persistentStates};return tt},token:m(D,M),innerMode:function(X){return X.local&&{mode:X.local.mode,state:X.localState}},indent:S(D,N)};if(N)for(var ut in N)N.hasOwnProperty(ut)&&(lt[ut]=N[ut]);return lt};function h(M,T){if(!M.hasOwnProperty(T))throw new Error("Undefined state "+T+" in simple mode")}function g(M,T){if(!M)return/(?:)/;var D="";return M instanceof RegExp?(M.ignoreCase&&(D="i"),M.unicode&&(D+="u"),M=M.source):M=String(M),new RegExp((T===!1?"":"^")+"(?:"+M+")",D)}function u(M){if(!M)return null;if(M.apply)return M;if(typeof M=="string")return M.replace(/\./g," ");for(var T=[],D=0;D<M.length;D++)T.push(M[D]&&M[D].replace(/\./g," "));return T}function p(M,T){(M.next||M.push)&&h(T,M.next||M.push),this.regex=g(M.regex),this.token=u(M.token),this.data=M}function m(M,T){return function(D,N){if(N.pending){var H=N.pending.shift();return N.pending.length==0&&(N.pending=null),D.pos+=H.text.length,H.token}if(N.local)if(N.local.end&&D.match(N.local.end)){var V=N.local.endToken||null;return N.local=N.localState=null,V}else{var V=N.local.mode.token(D,N.localState),U;return N.local.endScan&&(U=N.local.endScan.exec(D.current()))&&(D.pos=D.start+U.index),V}for(var Q=M[N.state],G=0;G<Q.length;G++){var J=Q[G],lt=(!J.data.sol||D.sol())&&D.match(J.regex);if(lt){J.data.next?N.state=J.data.next:J.data.push?((N.stack||(N.stack=[])).push(N.state),N.state=J.data.push):J.data.pop&&N.stack&&N.stack.length&&(N.state=N.stack.pop()),J.data.mode&&w(T,N,J.data.mode,J.token),J.data.indent&&N.indent.push(D.indentation()+T.indentUnit),J.data.dedent&&N.indent.pop();var ut=J.token;if(ut&&ut.apply&&(ut=ut(lt)),lt.length>2&&J.token&&typeof J.token!="string"){for(var X=2;X<lt.length;X++)lt[X]&&(N.pending||(N.pending=[])).push({text:lt[X],token:J.token[X-1]});return D.backUp(lt[0].length-(lt[1]?lt[1].length:0)),ut[0]}else return ut&&ut.join?ut[0]:ut}}return D.next(),null}}function k(M,T){if(M===T)return!0;if(!M||typeof M!="object"||!T||typeof T!="object")return!1;var D=0;for(var N in M)if(M.hasOwnProperty(N)){if(!T.hasOwnProperty(N)||!k(M[N],T[N]))return!1;D++}for(var N in T)T.hasOwnProperty(N)&&D--;return D==0}function w(M,T,D,N){var H;if(D.persistent)for(var V=T.persistentStates;V&&!H;V=V.next)(D.spec?k(D.spec,V.spec):D.mode==V.mode)&&(H=V);var U=H?H.mode:D.mode||s.getMode(M,D.spec),Q=H?H.state:s.startState(U);D.persistent&&!H&&(T.persistentStates={mode:U,spec:D.spec,state:Q,next:T.persistentStates}),T.localState=Q,T.local={mode:U,end:D.end&&g(D.end),endScan:D.end&&D.forceEnd!==!1&&g(D.end,!1),endToken:N&&N.join?N[N.length-1]:N}}function x(M,T){for(var D=0;D<T.length;D++)if(T[D]===M)return!0}function S(M,T){return function(D,N,H){if(D.local&&D.local.mode.indent)return D.local.mode.indent(D.localState,N,H);if(D.indent==null||D.local||T.dontIndentStates&&x(D.state,T.dontIndentStates)>-1)return s.Pass;var V=D.indent.length-1,U=M[D.state];t:for(;;){for(var Q=0;Q<U.length;Q++){var G=U[Q];if(G.data.dedent&&G.data.dedentIfLineStart!==!1){var J=G.regex.exec(N);if(J&&J[0]){V--,(G.next||G.push)&&(U=M[G.next||G.push]),N=N.slice(J[0].length);continue t}}}break}return V<0?0:D.indent[V]}}})})();!window.CodeMirror&&(window.CodeMirror=uf);const Bi=window.CodeMirror||uf,$0=qt({name:"DefaultMode",props:{name:{type:String,default:`cm-textarea-${+new Date}`},value:{type:String,default:""},content:{type:String,default:""},options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>null},placeholder:{type:String,default:""}},emits:{ready:o=>o,"update:cminstance":o=>o},setup(o,{emit:a}){const s=bt(),h=bt(null),g=()=>{h.value=yl(Bi.fromTextArea(s.value,o.options)),a("update:cminstance",h.value);const u=ee(()=>o.cminstance,p=>{var m;p&&((m=o.cminstance)==null||m.setValue(o.value||o.content)),a("ready",K(h)),u==null||u()},{deep:!0})};return un(()=>{g()}),{textarea:s,initialize:g}}}),Il=(o,a)=>{const s=o.__vccOpts||o;for(const[h,g]of a)s[h]=g;return s},U0=["name","placeholder"];function K0(o,a,s,h,g,u){return Tt(),Vt("textarea",{ref:"textarea",name:o.$props.name,placeholder:o.$props.placeholder},null,8,U0)}const bu=Il($0,[["render",K0]]);window.diff_match_patch=z0;window.DIFF_DELETE=-1;window.DIFF_INSERT=1;window.DIFF_EQUAL=0;const X0=qt({name:"MergeMode",props:{options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>({})}},emits:["update:cminstance","ready"],setup(o,{emit:a}){const s=bt(),h=bt(),g=()=>{s.value=yl(Bi.MergeView(h.value,o.options)),a("update:cminstance",s.value),a("ready",s)};return un(()=>{g()}),{mergeView:h,initialize:g}}}),G0={ref:"mergeView"};function Q0(o,a,s,h,g,u){return Tt(),Vt("div",G0,null,512)}const Y0=Il(X0,[["render",Q0]]);function q0(o){const a=/#link#(.+)#link#/g,s=[];let h;for(h=a.exec(o);h;){const g=document.createElement("a"),u=JSON.parse(h[1]),p=Object.entries(u);for(const[m,k]of p)g.setAttribute(m,k);g.className="editor_custom_link",g.innerHTML="logDownload",s.push({start:h.index,end:h.index+h[0].length,node:g}),h=a.exec(o)}return s}function Z0(o){const a=[];function s(){const h=/#log<(\w*)>log#((.|\r\n|\n)*?)#log<(\w*)>log#/g;let g;for(g=h.exec(o);g;){const u=g[0].replace(/\r\n/g,`
`).split(`
`),p=g[2].replace(/\r\n/g,`
`).split(`
`),m=document.createElement("span"),k=g[1];m.className=`c-editor--log__${k}`;let w=0;for(let x=0;x<u.length;x++){const S=u[x],M=p[x],T=m.cloneNode(!1);T.innerText=M,a.push({start:g.index+w,end:g.index+w+S.length,node:T}),w=w+S.length+1}g=h.exec(o)}}return s(),a}const Ao=[{regex:/(\[.*?\])([ \t]*)(<error>[ \t])(.+)/,token:["tag","","error.strong","error.strong"],sol:!0},{regex:/(\[.*?\])([ \t]*)(<info>)(.+)(.?)/,token:["tag","","bracket","bracket","hr"],sol:!0},{regex:/(\[.*?\])([ \t]*)(<warning>)(.+)(.?)/,token:["tag","","comment","comment","hr"],sol:!0}];Bi.defineSimpleMode("fclog",{start:[...Ao,{regex:/.*/,token:"hr"}],error:[...Ao,{regex:/.*/,token:"error.strong"}],info:[...Ao,{regex:/.*/,token:"bracket"}],warning:[...Ao,{regex:/.*\[/,token:"comment"}]});Bi.defineSimpleMode("log",{start:[{regex:/^[=]+[^=]*[=]+/,token:"strong"},{regex:/([^\w])([A-Z][\w]*)/,token:["","string"]},{regex:/(^[A-Z][\w]*)/,token:"string"}]});const J0=qt({name:"CodemirrorFclog",props:{value:{type:String,default:""},name:{type:String,default:`cm-textarea-${+new Date}`},options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>({})},placeholder:{type:String,default:""}},emits:["update:cminstance","ready"],setup(o,{emit:a}){const s=bt(),h=bt(null),g=(p=o.cminstance)=>{p.getAllMarks().forEach(w=>w.clear());const m=p.getValue(),k=[].concat(q0(m)).concat(Z0(m));for(let w=0;w<k.length;w++){const x=k[w];p.markText(p.posFromIndex(x.start),p.posFromIndex(x.end),{replacedWith:x.node})}},u=()=>{var p;h.value=yl(Bi.fromTextArea(s.value,o.options)),a("update:cminstance",K(h)),(p=h.value)==null||p.on("change",g)};return ee(()=>o.cminstance,p=>{var m;p&&(g(o.cminstance),(m=o.cminstance)==null||m.setValue(o.value),a("ready",h))},{deep:!0,immediate:!0}),un(()=>{u()}),{initialize:u,textarea:s}}}),ty=["name","placeholder"];function ey(o,a,s,h,g,u){return Tt(),Vt("textarea",{ref:"textarea",name:o.$props.name,placeholder:o.$props.placeholder},null,8,ty)}const ny=Il(J0,[["render",ey]]),hf={"update:value":()=>!0,change:(o,a)=>({value:o,cm:a}),input:()=>!0,ready:o=>o},ry=["changes","scroll","beforeChange","cursorActivity","keyHandled","inputRead","electricInput","beforeSelectionChange","viewportChange","swapDoc","gutterClick","gutterContextMenu","focus","blur","refresh","optionChange","scrollCursorIntoView","update"],iy=()=>{const o={};return ry.forEach(a=>{o[a]=(...s)=>s}),o},oy={...hf,...iy()},nl={mode:"text",theme:"default",lineNumbers:!0,smartIndent:!0,indentUnit:2};function ay(o){Promise.resolve().then(()=>{const a=o.getScrollInfo();o.scrollTo(a.left,a.height)})}const ly=({props:o,cminstance:a,emit:s,internalInstance:h,content:g})=>{const u=kt(()=>{var m;return o.merge?(m=K(a))==null?void 0:m.editor():K(a)}),p=()=>{const m=[];return Object.keys(h==null?void 0:h.vnode.props).forEach(k=>{if(k.startsWith("on")){const w=k.replace(k[2],k[2].toLowerCase()).slice(2);!hf[w]&&m.push(w)}}),m};return{listenerEvents:()=>{u.value.on("change",k=>{const w=k.getValue();w===g.value&&w!==""||(g.value=w,s("update:value",g.value||""),s("input",g.value||" "),Promise.resolve().then(()=>{s("change",g.value,k)}),o.keepCursorInEnd&&ay(k))});const m={};p().filter(k=>!m[k]&&(m[k]=!0)).forEach(k=>{u.value.on(k,(...w)=>{s(k,...w)})})}}};function sy({props:o,cminstance:a,presetRef:s}){const h=bt(null),g=bt(null),u=kt(()=>{var S;return o.merge?(S=K(a))==null?void 0:S.editor():K(a)}),p=()=>{rr(()=>{var S;(S=u.value)==null||S.refresh()})},m=(S=o.width,M=o.height)=>{var T;h.value=String(S).replace("px",""),g.value=String(M).replace("px","");const D=g.value;(T=u.value)==null||T.setSize(h.value,D)},k=()=>{var S;const M=(S=u.value)==null?void 0:S.getWrapperElement();M==null||M.remove()},w=()=>{var S,M,T;const D=(S=u.value)==null?void 0:S.getDoc().getHistory();(M=s.value)==null||M.initialize(),k(),(T=u.value)==null||T.getDoc().setHistory(D)},x=()=>{const S=document.querySelector(".CodeMirror-gutters");return(S==null?void 0:S.style.left.replace("px",""))!=="0"};return{reload:w,refresh:p,resize:m,destroy:k,containerHeight:g,reviseStyle:()=>{if(p(),!x())return;const S=setInterval(()=>{x()?p():clearInterval(S)},60),M=setTimeout(()=>{clearInterval(S),clearTimeout(M)},400)}}}const cy=qt({__name:"index",props:{value:{type:String,default:""},options:{type:Object,default:()=>nl},globalOptions:{type:Object,default:()=>nl},placeholder:{type:String,default:""},border:{type:Boolean,default:!1},width:{type:[String,Number],default:null},height:{type:[String,Number],default:null},originalStyle:{type:Boolean,default:!1},keepCursorInEnd:{type:Boolean,default:!1},merge:{type:Boolean,default:!1},name:{type:String,default:""},marker:{type:Function,default:()=>null},unseenLines:{type:Array,default:()=>[]}},emits:oy,setup(o,{expose:a,emit:s}){var h,g;const u=o;typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value(X){if(X==null)throw new TypeError("Cannot convert undefined or null to object");const tt=Object(X);for(let Z=1;Z<arguments.length;Z++){const rt=arguments[Z];if(rt!=null)for(const dt in rt)Object.prototype.hasOwnProperty.call(rt,dt)&&(tt[dt]=rt[dt])}return tt},writable:!0,configurable:!0});const p=bt(null),m=bt(""),k=vl(bu),w=bt({...nl,...u.globalOptions,...u.options}),x=Je(),S=u.name||((g=(h=x==null?void 0:x.parent)==null?void 0:h.type)==null?void 0:g.name)||void 0,M=bt(null),T=kt(()=>{var X;return u.merge?(X=K(p))==null?void 0:X.editor():K(p)}),{refresh:D,resize:N,destroy:H,containerHeight:V,reviseStyle:U}=sy({props:u,cminstance:p,presetRef:M}),{listenerEvents:Q}=ly({props:u,cminstance:p,emit:s,internalInstance:x,content:m}),G=()=>{u.unseenLines!==void 0&&u.marker!==void 0&&u.unseenLines.forEach(X=>{var tt,Z;const rt=(tt=p.value)==null?void 0:tt.lineInfo(X);(Z=p.value)==null||Z.setGutterMarker(X,"breakpoints",rt!=null&&rt.gutterMarkers?null:u.marker())})},J=X=>{var tt,Z;const rt=(tt=p.value)==null?void 0:tt.getValue();X!==rt&&((Z=p.value)==null||Z.setValue(X),m.value=X,U()),G()},lt=()=>{Q(),G(),N(u.width,u.height),s("ready",p.value),ee([()=>u.width,()=>u.height],([X,tt])=>{N(X,tt)},{deep:!0})},ut=()=>{if(u.options.mode==="fclog"||u.options.mode==="log"){k.value=ny;return}if(u.merge){k.value=Y0;return}k.value=bu};return ee(()=>u.options,X=>{var tt;for(const Z in u.options)(tt=T.value)==null||tt.setOption(Z,K(X[Z]))},{deep:!0}),ee(()=>u.value,X=>{J(X)}),ee(()=>u.merge,ut,{immediate:!0}),Wi(()=>{H()}),a({cminstance:p,resize:N,refresh:D,destroy:H}),(X,tt)=>(Tt(),Vt("div",{class:Re(["codemirror-container",{merge:X.$props.merge,bordered:X.$props.border||X.$props.merge&&!u.originalStyle,"width-auto":!X.$props.width||X.$props.width=="100%","height-auto":!X.$props.height||X.$props.height=="100%","original-style":u.originalStyle}]),style:Vo({height:K(V)+"px"})},[(Tt(),Ee(wr(K(k)),Bo({ref_key:"presetRef",ref:M,cminstance:p.value,"onUpdate:cminstance":tt[0]||(tt[0]=Z=>p.value=Z),style:{height:"100%"}},{...X.$props,...X.$attrs,options:w.value,name:K(S),content:m.value},{onReady:lt}),null,16,["cminstance"]))],6))}});function uy(o,a){a===void 0&&(a={});var s=a.insertAt;if(!(!o||typeof document>"u")){var h=document.head||document.getElementsByTagName("head")[0],g=document.createElement("style");g.type="text/css",s==="top"&&h.firstChild?h.insertBefore(g,h.firstChild):h.appendChild(g),g.styleSheet?g.styleSheet.cssText=o:g.appendChild(document.createTextNode(o))}}uy(`.codemirror-container {
  position: relative;
  display: inline-block;
  height: 100%;
  width: fit-content;
  font-size: 12px;
  overflow: hidden;
}
.codemirror-container.bordered {
  border-radius: 4px;
  border: 1px solid #dddddd;
}
.codemirror-container.width-auto {
  width: 100%;
}
.codemirror-container.height-auto {
  height: 100%;
}
.codemirror-container.height-auto .CodeMirror,
.codemirror-container.height-auto .cm-s-default {
  height: 100% !important;
}
.codemirror-container .editor_custom_link {
  cursor: pointer;
  color: #1474f1;
  text-decoration: underline;
}
.codemirror-container .editor_custom_link:hover {
  color: #04b4fa;
}
.codemirror-container:not(.original-style) .CodeMirror-lines .CodeMirror-placeholder.CodeMirror-line-like {
  color: #666;
}
.codemirror-container:not(.original-style) .CodeMirror,
.codemirror-container:not(.original-style) .CodeMirror-merge-pane {
  height: 100%;
  font-family: consolas !important;
}
.codemirror-container:not(.original-style) .CodeMirror-merge,
.codemirror-container:not(.original-style) .CodeMirror-merge-right .CodeMirror {
  height: 100%;
  border: none !important;
}
.codemirror-container:not(.original-style) .c-editor--log__error {
  color: #bb0606;
  font-weight: bold;
}
.codemirror-container:not(.original-style) .c-editor--log__info {
  color: #333333;
  font-weight: bold;
}
.codemirror-container:not(.original-style) .c-editor--log__warning {
  color: #ee9900;
}
.codemirror-container:not(.original-style) .c-editor--log__success {
  color: #669600;
}
.codemirror-container:not(.original-style) .cm-header,
.codemirror-container:not(.original-style) .cm-strong {
  font-weight: bold;
}
`);(function(o,a){(function(s){s(Pi())})(function(s){s.defineOption("placeholder","",function(w,x,S){var M=S&&S!=s.Init;if(x&&!M)w.on("blur",p),w.on("change",m),w.on("swapDoc",m),s.on(w.getInputField(),"compositionupdate",w.state.placeholderCompose=function(){u(w)}),m(w);else if(!x&&M){w.off("blur",p),w.off("change",m),w.off("swapDoc",m),s.off(w.getInputField(),"compositionupdate",w.state.placeholderCompose),h(w);var T=w.getWrapperElement();T.className=T.className.replace(" CodeMirror-empty","")}x&&!w.hasFocus()&&p(w)});function h(w){w.state.placeholder&&(w.state.placeholder.parentNode.removeChild(w.state.placeholder),w.state.placeholder=null)}function g(w){h(w);var x=w.state.placeholder=document.createElement("pre");x.style.cssText="height: 0; overflow: visible",x.style.direction=w.getOption("direction"),x.className="CodeMirror-placeholder CodeMirror-line-like";var S=w.getOption("placeholder");typeof S=="string"&&(S=document.createTextNode(S)),x.appendChild(S),w.display.lineSpace.insertBefore(x,w.display.lineSpace.firstChild)}function u(w){setTimeout(function(){var x=!1;if(w.lineCount()==1){var S=w.getInputField();x=S.nodeName=="TEXTAREA"?!w.getLine(0).length:!/[^\u200b]/.test(S.querySelector(".CodeMirror-line").textContent)}x?g(w):h(w)},20)}function p(w){k(w)&&g(w)}function m(w){var x=w.getWrapperElement(),S=k(w);x.className=x.className.replace(" CodeMirror-empty","")+(S?" CodeMirror-empty":""),S?g(w):h(w)}function k(w){return w.lineCount()===1&&w.getLine(0)===""}})})();(function(o,a){(function(s){s(Pi())})(function(s){s.defineMode("javascript",function(h,g){var u=h.indentUnit,p=g.statementIndent,m=g.jsonld,k=g.json||m,w=g.trackScope!==!1,x=g.typescript,S=g.wordCharacters||/[\w$\xa1-\uffff]/,M=function(){function y(he){return{type:he,style:"keyword"}}var L=y("keyword a"),_=y("keyword b"),z=y("keyword c"),Ct=y("keyword d"),It=y("operator"),Wt={type:"atom",style:"atom"};return{if:y("if"),while:L,with:L,else:_,do:_,try:_,finally:_,return:Ct,break:Ct,continue:Ct,new:y("new"),delete:z,void:z,throw:z,debugger:y("debugger"),var:y("var"),const:y("var"),let:y("var"),function:y("function"),catch:y("catch"),for:y("for"),switch:y("switch"),case:y("case"),default:y("default"),in:It,typeof:It,instanceof:It,true:Wt,false:Wt,null:Wt,undefined:Wt,NaN:Wt,Infinity:Wt,this:y("this"),class:y("class"),super:y("atom"),yield:z,export:y("export"),import:y("import"),extends:z,await:z}}(),T=/[+\-*&%=<>!?|~^@]/,D=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function N(y){for(var L=!1,_,z=!1;(_=y.next())!=null;){if(!L){if(_=="/"&&!z)return;_=="["?z=!0:z&&_=="]"&&(z=!1)}L=!L&&_=="\\"}}var H,V;function U(y,L,_){return H=y,V=_,L}function Q(y,L){var _=y.next();if(_=='"'||_=="'")return L.tokenize=G(_),L.tokenize(y,L);if(_=="."&&y.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return U("number","number");if(_=="."&&y.match(".."))return U("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(_))return U(_);if(_=="="&&y.eat(">"))return U("=>","operator");if(_=="0"&&y.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return U("number","number");if(/\d/.test(_))return y.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),U("number","number");if(_=="/")return y.eat("*")?(L.tokenize=J,J(y,L)):y.eat("/")?(y.skipToEnd(),U("comment","comment")):vn(y,L,1)?(N(y),y.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),U("regexp","string-2")):(y.eat("="),U("operator","operator",y.current()));if(_=="`")return L.tokenize=lt,lt(y,L);if(_=="#"&&y.peek()=="!")return y.skipToEnd(),U("meta","meta");if(_=="#"&&y.eatWhile(S))return U("variable","property");if(_=="<"&&y.match("!--")||_=="-"&&y.match("->")&&!/\S/.test(y.string.slice(0,y.start)))return y.skipToEnd(),U("comment","comment");if(T.test(_))return(_!=">"||!L.lexical||L.lexical.type!=">")&&(y.eat("=")?(_=="!"||_=="=")&&y.eat("="):/[<>*+\-|&?]/.test(_)&&(y.eat(_),_==">"&&y.eat(_))),_=="?"&&y.eat(".")?U("."):U("operator","operator",y.current());if(S.test(_)){y.eatWhile(S);var z=y.current();if(L.lastType!="."){if(M.propertyIsEnumerable(z)){var Ct=M[z];return U(Ct.type,Ct.style,z)}if(z=="async"&&y.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return U("async","keyword",z)}return U("variable","variable",z)}}function G(y){return function(L,_){var z=!1,Ct;if(m&&L.peek()=="@"&&L.match(D))return _.tokenize=Q,U("jsonld-keyword","meta");for(;(Ct=L.next())!=null&&!(Ct==y&&!z);)z=!z&&Ct=="\\";return z||(_.tokenize=Q),U("string","string")}}function J(y,L){for(var _=!1,z;z=y.next();){if(z=="/"&&_){L.tokenize=Q;break}_=z=="*"}return U("comment","comment")}function lt(y,L){for(var _=!1,z;(z=y.next())!=null;){if(!_&&(z=="`"||z=="$"&&y.eat("{"))){L.tokenize=Q;break}_=!_&&z=="\\"}return U("quasi","string-2",y.current())}var ut="([{}])";function X(y,L){L.fatArrowAt&&(L.fatArrowAt=null);var _=y.string.indexOf("=>",y.start);if(!(_<0)){if(x){var z=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(y.string.slice(y.start,_));z&&(_=z.index)}for(var Ct=0,It=!1,Wt=_-1;Wt>=0;--Wt){var he=y.string.charAt(Wt),Ke=ut.indexOf(he);if(Ke>=0&&Ke<3){if(!Ct){++Wt;break}if(--Ct==0){he=="("&&(It=!0);break}}else if(Ke>=3&&Ke<6)++Ct;else if(S.test(he))It=!0;else if(/["'\/`]/.test(he))for(;;--Wt){if(Wt==0)return;var St=y.string.charAt(Wt-1);if(St==he&&y.string.charAt(Wt-2)!="\\"){Wt--;break}}else if(It&&!Ct){++Wt;break}}It&&!Ct&&(L.fatArrowAt=Wt)}}var tt={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function Z(y,L,_,z,Ct,It){this.indented=y,this.column=L,this.type=_,this.prev=Ct,this.info=It,z!=null&&(this.align=z)}function rt(y,L){if(!w)return!1;for(var _=y.localVars;_;_=_.next)if(_.name==L)return!0;for(var z=y.context;z;z=z.prev)for(var _=z.vars;_;_=_.next)if(_.name==L)return!0}function dt(y,L,_,z,Ct){var It=y.cc;for(B.state=y,B.stream=Ct,B.marked=null,B.cc=It,B.style=L,y.lexical.hasOwnProperty("align")||(y.lexical.align=!0);;){var Wt=It.length?It.pop():k?Nt:Ot;if(Wt(_,z)){for(;It.length&&It[It.length-1].lex;)It.pop()();return B.marked?B.marked:_=="variable"&&rt(y,z)?"variable-2":L}}}var B={state:null,column:null,marked:null,cc:null};function at(){for(var y=arguments.length-1;y>=0;y--)B.cc.push(arguments[y])}function E(){return at.apply(null,arguments),!0}function Kt(y,L){for(var _=L;_;_=_.next)if(_.name==y)return!0;return!1}function Ft(y){var L=B.state;if(B.marked="def",!!w){if(L.context){if(L.lexical.info=="var"&&L.context&&L.context.block){var _=xe(y,L.context);if(_!=null){L.context=_;return}}else if(!Kt(y,L.localVars)){L.localVars=new Ue(y,L.localVars);return}}g.globalVars&&!Kt(y,L.globalVars)&&(L.globalVars=new Ue(y,L.globalVars))}}function xe(y,L){if(L)if(L.block){var _=xe(y,L.prev);return _?_==L.prev?L:new pe(_,L.vars,!0):null}else return Kt(y,L.vars)?L:new pe(L.prev,new Ue(y,L.vars),!1);else return null}function Zt(y){return y=="public"||y=="private"||y=="protected"||y=="abstract"||y=="readonly"}function pe(y,L,_){this.prev=y,this.vars=L,this.block=_}function Ue(y,L){this.name=y,this.next=L}var tn=new Ue("this",new Ue("arguments",null));function Jt(){B.state.context=new pe(B.state.context,B.state.localVars,!1),B.state.localVars=tn}function ge(){B.state.context=new pe(B.state.context,B.state.localVars,!0),B.state.localVars=null}Jt.lex=ge.lex=!0;function Xt(){B.state.localVars=B.state.context.vars,B.state.context=B.state.context.prev}Xt.lex=!0;function xt(y,L){var _=function(){var z=B.state,Ct=z.indented;if(z.lexical.type=="stat")Ct=z.lexical.indented;else for(var It=z.lexical;It&&It.type==")"&&It.align;It=It.prev)Ct=It.indented;z.lexical=new Z(Ct,B.stream.column(),y,null,z.lexical,L)};return _.lex=!0,_}function vt(){var y=B.state;y.lexical.prev&&(y.lexical.type==")"&&(y.indented=y.lexical.indented),y.lexical=y.lexical.prev)}vt.lex=!0;function Mt(y){function L(_){return _==y?E():y==";"||_=="}"||_==")"||_=="]"?at():E(L)}return L}function Ot(y,L){return y=="var"?E(xt("vardef",L),Sn,Mt(";"),vt):y=="keyword a"?E(xt("form"),en,Ot,vt):y=="keyword b"?E(xt("form"),Ot,vt):y=="keyword d"?B.stream.match(/^\s*$/,!1)?E():E(xt("stat"),Qe,Mt(";"),vt):y=="debugger"?E(Mt(";")):y=="{"?E(xt("}"),ge,jt,vt,Xt):y==";"?E():y=="if"?(B.state.lexical.info=="else"&&B.state.cc[B.state.cc.length-1]==vt&&B.state.cc.pop()(),E(xt("form"),en,Ot,vt,Sr)):y=="function"?E(pn):y=="for"?E(xt("form"),ge,Hi,Ot,Xt,vt):y=="class"||x&&L=="interface"?(B.marked="keyword",E(xt("form",y=="class"?y:L),zi,vt)):y=="variable"?x&&L=="declare"?(B.marked="keyword",E(Ot)):x&&(L=="module"||L=="enum"||L=="type")&&B.stream.match(/^\s*\w/,!1)?(B.marked="keyword",L=="enum"?E(Tr):L=="type"?E(Vi,Mt("operator"),nt,Mt(";")):E(xt("form"),_e,Mt("{"),xt("}"),jt,vt,vt)):x&&L=="namespace"?(B.marked="keyword",E(xt("form"),Nt,Ot,vt)):x&&L=="abstract"?(B.marked="keyword",E(Ot)):E(xt("stat"),P):y=="switch"?E(xt("form"),en,Mt("{"),xt("}","switch"),ge,jt,vt,vt,Xt):y=="case"?E(Nt,Mt(":")):y=="default"?E(Mt(":")):y=="catch"?E(xt("form"),Jt,ar,Ot,vt,Xt):y=="export"?E(xt("stat"),Hn,vt):y=="import"?E(xt("stat"),Mn,vt):y=="async"?E(Ot):L=="@"?E(Nt,Ot):at(xt("stat"),Nt,Mt(";"),vt)}function ar(y){if(y=="(")return E(rn,Mt(")"))}function Nt(y,L){return hn(y,L,!1)}function zt(y,L){return hn(y,L,!0)}function en(y){return y!="("?at():E(xt(")"),Qe,Mt(")"),vt)}function hn(y,L,_){if(B.state.fatArrowAt==B.stream.start){var z=_?A:b;if(y=="(")return E(Jt,xt(")"),gt(rn,")"),vt,Mt("=>"),z,Xt);if(y=="variable")return at(Jt,_e,Mt("=>"),z,Xt)}var Ct=_?Ye:Be;return tt.hasOwnProperty(y)?E(Ct):y=="function"?E(pn,Ct):y=="class"||x&&L=="interface"?(B.marked="keyword",E(xt("form"),Pn,vt)):y=="keyword c"||y=="async"?E(_?zt:Nt):y=="("?E(xt(")"),Qe,Mt(")"),vt,Ct):y=="operator"||y=="spread"?E(_?zt:Nt):y=="["?E(xt("]"),Tn,vt,Ct):y=="{"?Dt(et,"}",null,Ct):y=="quasi"?at(At,Ct):y=="new"?E(I(_)):E()}function Qe(y){return y.match(/[;\}\)\],]/)?at():at(Nt)}function Be(y,L){return y==","?E(Qe):Ye(y,L,!1)}function Ye(y,L,_){var z=_==!1?Be:Ye,Ct=_==!1?Nt:zt;if(y=="=>")return E(Jt,_?A:b,Xt);if(y=="operator")return/\+\+|--/.test(L)||x&&L=="!"?E(z):x&&L=="<"&&B.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?E(xt(">"),gt(nt,">"),vt,z):L=="?"?E(Nt,Mt(":"),Ct):E(Ct);if(y=="quasi")return at(At,z);if(y!=";"){if(y=="(")return Dt(zt,")","call",z);if(y==".")return E(q,z);if(y=="[")return E(xt("]"),Qe,Mt("]"),vt,z);if(x&&L=="as")return B.marked="keyword",E(nt,z);if(y=="regexp")return B.state.lastType=B.marked="operator",B.stream.backUp(B.stream.pos-B.stream.start-1),E(Ct)}}function At(y,L){return y!="quasi"?at():L.slice(L.length-2)!="${"?E(At):E(Qe,Cn)}function Cn(y){if(y=="}")return B.marked="string-2",B.state.tokenize=lt,E(At)}function b(y){return X(B.stream,B.state),at(y=="{"?Ot:Nt)}function A(y){return X(B.stream,B.state),at(y=="{"?Ot:zt)}function I(y){return function(L){return L=="."?E(y?R:W):L=="variable"&&x?E(ne,y?Ye:Be):at(y?zt:Nt)}}function W(y,L){if(L=="target")return B.marked="keyword",E(Be)}function R(y,L){if(L=="target")return B.marked="keyword",E(Ye)}function P(y){return y==":"?E(vt,Ot):at(Be,Mt(";"),vt)}function q(y){if(y=="variable")return B.marked="property",E()}function et(y,L){if(y=="async")return B.marked="property",E(et);if(y=="variable"||B.style=="keyword"){if(B.marked="property",L=="get"||L=="set")return E(ot);var _;return x&&B.state.fatArrowAt==B.stream.start&&(_=B.stream.match(/^\s*:\s*/,!1))&&(B.state.fatArrowAt=B.stream.pos+_[0].length),E(yt)}else{if(y=="number"||y=="string")return B.marked=m?"property":B.style+" property",E(yt);if(y=="jsonld-keyword")return E(yt);if(x&&Zt(L))return B.marked="keyword",E(et);if(y=="[")return E(Nt,Et,Mt("]"),yt);if(y=="spread")return E(zt,yt);if(L=="*")return B.marked="keyword",E(et);if(y==":")return at(yt)}}function ot(y){return y!="variable"?at(yt):(B.marked="property",E(pn))}function yt(y){if(y==":")return E(zt);if(y=="(")return at(pn)}function gt(y,L,_){function z(Ct,It){if(_?_.indexOf(Ct)>-1:Ct==","){var Wt=B.state.lexical;return Wt.info=="call"&&(Wt.pos=(Wt.pos||0)+1),E(function(he,Ke){return he==L||Ke==L?at():at(y)},z)}return Ct==L||It==L?E():_&&_.indexOf(";")>-1?at(y):E(Mt(L))}return function(Ct,It){return Ct==L||It==L?E():at(y,z)}}function Dt(y,L,_){for(var z=3;z<arguments.length;z++)B.cc.push(arguments[z]);return E(xt(L,_),gt(y,L),vt)}function jt(y){return y=="}"?E():at(Ot,jt)}function Et(y,L){if(x){if(y==":")return E(nt);if(L=="?")return E(Et)}}function Gt(y,L){if(x&&(y==":"||L=="in"))return E(nt)}function $t(y){if(x&&y==":")return B.stream.match(/^\s*\w+\s+is\b/,!1)?E(Nt,Le,nt):E(nt)}function Le(y,L){if(L=="is")return B.marked="keyword",E()}function nt(y,L){if(L=="keyof"||L=="typeof"||L=="infer"||L=="readonly")return B.marked="keyword",E(L=="typeof"?zt:nt);if(y=="variable"||L=="void")return B.marked="type",E(oe);if(L=="|"||L=="&")return E(nt);if(y=="string"||y=="number"||y=="atom")return E(oe);if(y=="[")return E(xt("]"),gt(nt,"]",","),vt,oe);if(y=="{")return E(xt("}"),ue,vt,oe);if(y=="(")return E(gt(fe,")"),Wn,oe);if(y=="<")return E(gt(nt,">"),nt);if(y=="quasi")return at(Qt,oe)}function Wn(y){if(y=="=>")return E(nt)}function ue(y){return y.match(/[\}\)\]]/)?E():y==","||y==";"?E(ue):at(Bt,ue)}function Bt(y,L){if(y=="variable"||B.style=="keyword")return B.marked="property",E(Bt);if(L=="?"||y=="number"||y=="string")return E(Bt);if(y==":")return E(nt);if(y=="[")return E(Mt("variable"),Gt,Mt("]"),Bt);if(y=="(")return at(gn,Bt);if(!y.match(/[;\}\)\],]/))return E()}function Qt(y,L){return y!="quasi"?at():L.slice(L.length-2)!="${"?E(Qt):E(nt,lr)}function lr(y){if(y=="}")return B.marked="string-2",B.state.tokenize=lt,E(Qt)}function fe(y,L){return y=="variable"&&B.stream.match(/^\s*[?:]/,!1)||L=="?"?E(fe):y==":"?E(nt):y=="spread"?E(fe):at(nt)}function oe(y,L){if(L=="<")return E(xt(">"),gt(nt,">"),vt,oe);if(L=="|"||y=="."||L=="&")return E(nt);if(y=="[")return E(nt,Mt("]"),oe);if(L=="extends"||L=="implements")return B.marked="keyword",E(nt);if(L=="?")return E(nt,Mt(":"),nt)}function ne(y,L){if(L=="<")return E(xt(">"),gt(nt,">"),vt,oe)}function dn(){return at(nt,nn)}function nn(y,L){if(L=="=")return E(nt)}function Sn(y,L){return L=="enum"?(B.marked="keyword",E(Tr)):at(_e,Et,qe,ta)}function _e(y,L){if(x&&Zt(L))return B.marked="keyword",E(_e);if(y=="variable")return Ft(L),E();if(y=="spread")return E(_e);if(y=="[")return Dt(Jo,"]");if(y=="{")return Dt(ei,"}")}function ei(y,L){return y=="variable"&&!B.stream.match(/^\s*:/,!1)?(Ft(L),E(qe)):(y=="variable"&&(B.marked="property"),y=="spread"?E(_e):y=="}"?at():y=="["?E(Nt,Mt("]"),Mt(":"),ei):E(Mt(":"),_e,qe))}function Jo(){return at(_e,qe)}function qe(y,L){if(L=="=")return E(zt)}function ta(y){if(y==",")return E(Sn)}function Sr(y,L){if(y=="keyword b"&&L=="else")return E(xt("form","else"),Ot,vt)}function Hi(y,L){if(L=="await")return E(Hi);if(y=="(")return E(xt(")"),ni,vt)}function ni(y){return y=="var"?E(Sn,Rn):y=="variable"?E(Rn):at(Rn)}function Rn(y,L){return y==")"?E():y==";"?E(Rn):L=="in"||L=="of"?(B.marked="keyword",E(Nt,Rn)):at(Nt,Rn)}function pn(y,L){if(L=="*")return B.marked="keyword",E(pn);if(y=="variable")return Ft(L),E(pn);if(y=="(")return E(Jt,xt(")"),gt(rn,")"),vt,$t,Ot,Xt);if(x&&L=="<")return E(xt(">"),gt(dn,">"),vt,pn)}function gn(y,L){if(L=="*")return B.marked="keyword",E(gn);if(y=="variable")return Ft(L),E(gn);if(y=="(")return E(Jt,xt(")"),gt(rn,")"),vt,$t,Xt);if(x&&L=="<")return E(xt(">"),gt(dn,">"),vt,gn)}function Vi(y,L){if(y=="keyword"||y=="variable")return B.marked="type",E(Vi);if(L=="<")return E(xt(">"),gt(dn,">"),vt)}function rn(y,L){return L=="@"&&E(Nt,rn),y=="spread"?E(rn):x&&Zt(L)?(B.marked="keyword",E(rn)):x&&y=="this"?E(Et,qe):at(_e,Et,qe)}function Pn(y,L){return y=="variable"?zi(y,L):Mr(y,L)}function zi(y,L){if(y=="variable")return Ft(L),E(Mr)}function Mr(y,L){if(L=="<")return E(xt(">"),gt(dn,">"),vt,Mr);if(L=="extends"||L=="implements"||x&&y==",")return L=="implements"&&(B.marked="keyword"),E(x?nt:Nt,Mr);if(y=="{")return E(xt("}"),He,vt)}function He(y,L){if(y=="async"||y=="variable"&&(L=="static"||L=="get"||L=="set"||x&&Zt(L))&&B.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return B.marked="keyword",E(He);if(y=="variable"||B.style=="keyword")return B.marked="property",E(Bn,He);if(y=="number"||y=="string")return E(Bn,He);if(y=="[")return E(Nt,Et,Mt("]"),Bn,He);if(L=="*")return B.marked="keyword",E(He);if(x&&y=="(")return at(gn,He);if(y==";"||y==",")return E(He);if(y=="}")return E();if(L=="@")return E(Nt,He)}function Bn(y,L){if(L=="!"||L=="?")return E(Bn);if(y==":")return E(nt,qe);if(L=="=")return E(zt);var _=B.state.lexical.prev,z=_&&_.info=="interface";return at(z?gn:pn)}function Hn(y,L){return L=="*"?(B.marked="keyword",E(pt,Mt(";"))):L=="default"?(B.marked="keyword",E(Nt,Mt(";"))):y=="{"?E(gt($i,"}"),pt,Mt(";")):at(Ot)}function $i(y,L){if(L=="as")return B.marked="keyword",E(Mt("variable"));if(y=="variable")return at(zt,$i)}function Mn(y){return y=="string"?E():y=="("?at(Nt):y=="."?at(Be):at(Vn,ri,pt)}function Vn(y,L){return y=="{"?Dt(Vn,"}"):(y=="variable"&&Ft(L),L=="*"&&(B.marked="keyword"),E(re))}function ri(y){if(y==",")return E(Vn,ri)}function re(y,L){if(L=="as")return B.marked="keyword",E(Vn)}function pt(y,L){if(L=="from")return B.marked="keyword",E(Nt)}function Tn(y){return y=="]"?E():at(gt(zt,"]"))}function Tr(){return at(xt("form"),_e,Mt("{"),xt("}"),gt(Ze,"}"),vt,vt)}function Ze(){return at(_e,qe)}function Rt(y,L){return y.lastType=="operator"||y.lastType==","||T.test(L.charAt(0))||/[,.]/.test(L.charAt(0))}function vn(y,L,_){return L.tokenize==Q&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(L.lastType)||L.lastType=="quasi"&&/\{\s*$/.test(y.string.slice(0,y.pos-(_||0)))}return{startState:function(y){var L={tokenize:Q,lastType:"sof",cc:[],lexical:new Z((y||0)-u,0,"block",!1),localVars:g.localVars,context:g.localVars&&new pe(null,null,!1),indented:y||0};return g.globalVars&&typeof g.globalVars=="object"&&(L.globalVars=g.globalVars),L},token:function(y,L){if(y.sol()&&(L.lexical.hasOwnProperty("align")||(L.lexical.align=!1),L.indented=y.indentation(),X(y,L)),L.tokenize!=J&&y.eatSpace())return null;var _=L.tokenize(y,L);return H=="comment"?_:(L.lastType=H=="operator"&&(V=="++"||V=="--")?"incdec":H,dt(L,_,H,V,y))},indent:function(y,L){if(y.tokenize==J||y.tokenize==lt)return s.Pass;if(y.tokenize!=Q)return 0;var _=L&&L.charAt(0),z=y.lexical,Ct;if(!/^\s*else\b/.test(L))for(var It=y.cc.length-1;It>=0;--It){var Wt=y.cc[It];if(Wt==vt)z=z.prev;else if(Wt!=Sr&&Wt!=Xt)break}for(;(z.type=="stat"||z.type=="form")&&(_=="}"||(Ct=y.cc[y.cc.length-1])&&(Ct==Be||Ct==Ye)&&!/^[,\.=+\-*:?[\(]/.test(L));)z=z.prev;p&&z.type==")"&&z.prev.type=="stat"&&(z=z.prev);var he=z.type,Ke=_==he;return he=="vardef"?z.indented+(y.lastType=="operator"||y.lastType==","?z.info.length+1:0):he=="form"&&_=="{"?z.indented:he=="form"?z.indented+u:he=="stat"?z.indented+(Rt(y,L)?p||u:0):z.info=="switch"&&!Ke&&g.doubleIndentSwitch!=!1?z.indented+(/^(?:case|default)\b/.test(L)?u:2*u):z.align?z.column+(Ke?0:1):z.indented+(Ke?0:u)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:k?null:"/*",blockCommentEnd:k?null:"*/",blockCommentContinue:k?null:" * ",lineComment:k?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:k?"json":"javascript",jsonldMode:m,jsonMode:k,expressionAllowed:vn,skipExpression:function(y){dt(y,"atom","atom","true",new s.StringStream("",2,null))}}}),s.registerHelper("wordChars","javascript",/[\w$]/),s.defineMIME("text/javascript","javascript"),s.defineMIME("text/ecmascript","javascript"),s.defineMIME("application/javascript","javascript"),s.defineMIME("application/x-javascript","javascript"),s.defineMIME("application/ecmascript","javascript"),s.defineMIME("application/json",{name:"javascript",json:!0}),s.defineMIME("application/x-json",{name:"javascript",json:!0}),s.defineMIME("application/manifest+json",{name:"javascript",json:!0}),s.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),s.defineMIME("text/typescript",{name:"javascript",typescript:!0}),s.defineMIME("application/typescript",{name:"javascript",typescript:!0})})})();const fy=qt({name:"vCodeMirror"}),hy=Object.assign(fy,{setup(o){const a=bl(),{visible:s,activeName:h,data:g,config:u,attributeFn:p,actionsFn:m,currentView:k,pageName:w}=wu(a);function x(){M.value=!0}const S=bt(!1),M=kt({get(){return s.value||S.value},set(G){S.value=G}});ee(s,G=>{G&&(M.value=G)});const T={mode:"text/javascript",theme:"dracula",lineNumbers:!0,smartIndent:!0,indentUnit:4,foldGutter:!0,matchBrackets:!0,autoCloseBrackets:!0,styleActiveLine:!0,readOnly:!1},D=kt(()=>({currentView:k.value,data:g.value,attributeFn:p.value,actionsFn:m.value})[h.value]),N=kt(()=>({currentView:"json",data:"js",attributeFn:"js",actionsFn:"js"})[h.value]),H=bt(""),V=G=>{H.value=G},U=()=>{Nd(H.value,w.value+"_"+h.value,N.value)},Q=()=>{const G=_d(H.value||Ic(D.value));if(G.code===1){const J=G.data;if(h.value==="currentView"&&Object.keys(J).length){J.updateId=J.updateId+"1";let lt=J.pathId.split("-");const ut=(Z,rt)=>Z[rt].children;let X=Fi(u.value),tt=X;for(let Z=0;Z<lt.length-1;++Z)tt=ut(tt,lt[Z]);tt[lt[lt.length-1]]=Zr([J])[0],u.value.length=0,u.value.push(...zo(X))}Object.getOwnPropertyNames(D.value).forEach(function(lt){delete D.value[lt]}),Object.assign(D.value,J)}else throw new Error(G.message)};return(G,J)=>{const lt=nf,ut=B0,X=P0;return Tt(),Vt(nr,null,[_t(lt,{class:"v-code-config-btn",onClick:x},{default:le(()=>[Gr("代码配置")]),_:1}),K(M)?(Tt(),Vt(nr,{key:0},[_t(lt,{type:"primary",onClick:Q},{default:le(()=>[Gr("预览")]),_:1}),_t(lt,{type:"primary",onClick:U},{default:le(()=>[Gr("下载")]),_:1}),_t(lt,{type:"primary",onClick:J[0]||(J[0]=tt=>M.value=!1)},{default:le(()=>[Gr("关闭")]),_:1}),_t(X,{modelValue:K(h),"onUpdate:modelValue":J[1]||(J[1]=tt=>qr(h)?h.value=tt:null),class:"demo-tabs"},{default:le(()=>[_t(ut,{label:"当前组件",name:"currentView"}),_t(ut,{label:"数据配置",name:"data"}),_t(ut,{label:"属性配置",name:"attributeFn"}),_t(ut,{label:"事件配置",name:"actionsFn"})]),_:1},8,["modelValue"])],64)):$e("",!0),K(M)?(Tt(),Ee(K(cy),{key:1,value:K(Ic)(K(D),K(N)),options:T,border:"",placeholder:"代码编辑器",height:400,width:"100%",onChange:V},null,8,["value"])):$e("",!0)],64)}}}),Fo=kl(hy,[["__scopeId","data-v-5fb9e9c0"]]);Fo.install=o=>{o.component(Fo.name,Fo)};const dy=o=>(Sd("data-v-3c599636"),o=o(),Md(),o),py={style:{height:"800px"}},gy={ref:"contentRef",class:"v-content-box"},vy={class:"v-content-left-box"},my=dy(()=>Pe("div",null,"组件",-1)),yy=["id"],by={class:"v-content-center-box"},wy=qt({name:"vPreview"}),xy=Object.assign(wy,{props:{componentsList:{type:Array,default:()=>[]}},setup(o){const a=bl(),{visible:s,activeName:h,data:g,config:u,attributeFn:p,actionsFn:m,currentView:k}=wu(a);function w(){a.visible=!0}const x=bt([]);try{x.value=My()}catch{}const S=kt(()=>Zr(x.value)),M=kt(()=>Fi(S.value)),T=G=>{G.dataTransfer.setData("config",JSON.stringify(M.value[G.target.id]))},D=(G,J,lt)=>{if(!(G!=null&&G.value)){a.preView=!a.preView;return}const ut=ll(G);if(lt==="config"&&Object.keys(ut).length){ut.updateId=ut.updateId+"1";let X=ut.pathId.split("-");const tt=(dt,B)=>dt[B].children;let Z=Fi(u.value),rt=Z;for(let dt=0;dt<X.length-1;++dt)rt=tt(rt,X[dt]);rt[X[X.length-1]]=Zr([ut])[0],u.value.length=0,u.value.push(...zo(Z))}Object.getOwnPropertyNames(J).forEach(function(X){delete J[X]}),Object.assign(J,ut),a.preView=!0};function N(){h.value="currentView",a.preView=!1}const H=kt(()=>Qr(k.value)),V=kt(()=>Qr(g.value)),U=kt(()=>Qr(p.value)),Q=kt(()=>Qr(m.value));return kt(()=>({currentView:H.value,data:V.value,attributeFn:U.value,actionsFn:Q.value})[h.value]),(G,J)=>{const lt=nf,ut=In,X=S0;return Tt(),Vt("div",null,[_t(lt,{class:"v-config-btn",onClick:w},{default:le(()=>[Gr("视图配置")]),_:1}),_t(X,{class:"v-config-dialog-box",modelValue:K(s),"onUpdate:modelValue":J[0]||(J[0]=tt=>qr(s)?s.value=tt:null),width:"90%"},{default:le(()=>[Pe("div",py,[Pe("div",gy,[Pe("div",vy,[my,Pe("div",{onDragstart:T,class:"v-drag-cursor"},[(Tt(!0),Vt(nr,null,Xr(K(S),tt=>(Tt(),Vt("div",{key:tt.id,class:"v-view-component",draggable:"true",id:tt.onlyId},ku(tt.name),9,yy))),128))],32)]),Pe("div",by,[_t(lt,{onClick:D},{default:le(()=>[Gr("预览/编辑")]),_:1}),(Tt(!0),Vt(nr,null,Xr(K(u),(tt,Z)=>(Tt(),Vt("div",{key:tt.onlyId+tt.updateId,onClick:N},[_t(ut,{itemView:tt,config:K(u),data:K(g),attributeFn:K(p),actionsFn:K(m),isTemplate:!0},null,8,["itemView","config","data","attributeFn","actionsFn"])]))),128))])],512)])]),_:1},8,["modelValue"])])}}}),Ni=kl(xy,[["__scopeId","data-v-3c599636"]]);Ni.install=o=>{console.log(Ni.name,"vPreview.name"),o.component(Ni.name,Ni)};const ky=o=>{o.use(In),o.use(Fo),o.use(Ni)},Cy={install:ky},df={},pf=[];function Sy(o){const a=o==null?void 0:o.baseView;if(!a)throw new Error(`组件名称不能为空，请查看${o}`);return kd(df[a])}function My(){const o=[];return pf.forEach(async a=>{try{const s=await a();o.push(s.default)}catch{}}),o}function Ly(o){return o.components.forEach(a=>{df[a.name]=a.component,pf.push(a.jsonDate||null)}),Cy}function Ay(o,a,s){function h(k="click",w){a("onActivate",{initView:u.value,e:w},k)}const g=xl(wl(s.itemConfig)),u=kt(()=>Tu(g,o.itemView)),p=k=>{h("getRef",k)},m=kt(()=>{var k;const w={};return(k=Object.keys(u.value.methods||{}))==null||k.forEach(x=>{if(x!=="getRef"){let S=Bd(x);w[S]=M=>h(x,M)}}),w});return{value:kt({get(){return u.value.value},set(k){u.value.value=k,a("update:modelValue",{key:"value",value:k,mapKey:"modelValue"})}}),initView:u,getRef:p,getMethods:m,onActivate:h}}export{Ly as createComponent,Zr as setConfigId,Ay as useBaseHook,bl as useConfigStore};
